let Heartbeat=cc.Class({extends:cc.Component,properties:{connected:!1,connectCallBack:null,checkHeartbeatCallBack:null},startHeartbeat:function(t){cc.log("startstartstart"),this.connected=!0,this.connectCallBack=t;let e=cc.director.getScheduler();e.isScheduled(this.checkHeartbeat,this)||e.schedule(this.checkHeartbeat,this,.5,!1)},setCheckHeartbeatCallBack:function(t){this.checkHeartbeatCallBack=t},stop:function(){cc.director.getScheduler().unschedule(this.checkHeartbeat,this)},checkHeartbeat:function(){0==this.connected&&this.connectCallBack(),this.checkHeartbeatCallBack&&this.checkHeartbeatCallBack()}});window.heartbeat=new Heartbeat;