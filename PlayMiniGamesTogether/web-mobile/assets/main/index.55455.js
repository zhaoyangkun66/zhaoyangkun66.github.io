window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return i(t[r][1][e]||e)},l,l.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AISupportManager:[function(e,t){"use strict";cc._RF.push(t,"3a5e7GJSYFM0L5Hkxm8QKbt","AISupportManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.AISupportManager=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInit=!1,t.isShow=!1,t}return __extends(t,e),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="AISupportManager",this.Log("Init")},t.prototype.ShowSupport=function(){this.isInit||(this.isInit=!0,this.initSupport());var e=app.UserManager().GetUserInfo.ai_chat_robot_url;e+="?language="+app.LanguageManager().GetLocalLanguage(!0)+"&token="+app.UserManager().GetUserInfo.token,this.show(e)},t.prototype.initSupport=function(){var e=app.ComTool().H5Platform(),t=document.createElement("button");t.id="idSupportCloseBtnBG",t.draggable=!1,t.style.display="none",t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.border="none",t.style.backgroundColor="transparent",t.addEventListener("click",this.hide.bind(this)),document.body.appendChild(t);var n=document.createElement("iframe");n.id="idSupportIframe",n.draggable=!1,document.body.appendChild(n),n.style.position="absolute",e?(n.style.width="100%",n.style.height="100%"):(n.style.width="325px",n.style.height="667px",n.style.right="0px",n.style.bottom="0px"),n.style.display="none",n.style.border="none",n.style.backgroundColor="#FFFFFF";var o=document.createElement("button");o.id="idSupportCloseBtn",o.draggable=!0,o.style.display="none",o.style.position="absolute";var i=e?"40px":"50px";o.style.width=i,o.style.height=i,e?(o.style.left="35px",o.style.top="5px"):(o.style.right="220px",o.style.bottom="617px"),o.style.border="none",o.style.backgroundColor="transparent",o.addEventListener("click",this.hide.bind(this)),document.body.appendChild(o);var a=document.createElement("img");a.id="support_close_btn",a.src="support/btn_close.png",a.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.left="0px",a.style.top="0px",o.appendChild(a)},t.prototype.show=function(e){if(!this.isShow)try{this.isShow=!0;var t=document.getElementById("idSupportIframe");t.style.display="block",t.src=e,document.getElementById("idSupportCloseBtn").style.display="block",document.getElementById("idSupportCloseBtnBG").style.display="block"}catch(n){cc.error("show url",n.message)}},t.prototype.hide=function(){this.isShow=!1;var e=document.getElementById("idSupportIframe");e.src="about:blank",e.style.display="none",document.getElementById("idSupportCloseBtn").style.display="none",document.getElementById("idSupportCloseBtnBG").style.display="none"},t}(e("../Base/Singleton").Singleton);n.AISupportManager=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ActionEx:[function(e,t){"use strict";cc._RF.push(t,"11cabxlOaRK/aJwZTaG6f+/","ActionEx"),cc.Shake=cc.Class({name:"cc.Shake",extends:cc.ActionInterval,ctor:function(e,t){void 0!==e&&cc.Shake.prototype.initWithDuration.call(this,e,t,t)},initWithDuration:function(e,t,n){return!!cc.ActionInterval.prototype.initWithDuration.call(this,e)&&(this.m_strength_x=t,this.m_strength_y=n,!0)},clone:function(){},startWithTarget:function(e){cc.ActionInterval.prototype.startWithTarget.call(this,e),this.m_initial_x=e.x,this.m_initial_y=e.y,this.time=0},update:function(e){this.time=this.time+e;var t=Math.sin(1.2*this.time)*this.m_strength_x,n=Math.sin(1.5*this.time)*this.m_strength_y;this.target.setPosition(cc.v2(this.m_initial_x,this.m_initial_y).add(cc.v2(t,n)))},stop:function(){this.target.setPosition(this.m_initial_x,this.m_initial_y),cc.ActionInterval.prototype.stop.call(this)},reverse:function(){}}),cc.shake=function(e,t){return new cc.Shake(e,t)},cc.RotateBytest=cc.Class({name:"cc.RotateBytest",extends:cc.ActionInterval,ctor:function(e,t){this._deltaAngle=0,this._startAngle=0,void 0!==t&&this.initWithDuration(e,t)},initWithDuration:function(e,t){return!!cc.ActionInterval.prototype.initWithDuration.call(this,e)&&(this._deltaAngle=t,!0)},clone:function(){},startWithTarget:function(e){cc.ActionInterval.prototype.startWithTarget.call(this,e),this._startAngle=e.angle},update:function(e){e=this._computeEaseTime(e),this.target&&(this.target.angle=this._startAngle+this._deltaAngle*e)},reverse:function(){}}),cc._RF.pop()},{}],ActivityManager:[function(e,t){"use strict";cc._RF.push(t,"62044li1ANJ1KlVBVKIl2GV","ActivityManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ActivityManager=void 0;var o=e("../../Define/ShareDefine"),i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.RechargeRewardInfo=null,t.LimitRechargeInfo=null,t.CardList=null,t.SignList=null,t.AllPromotionData=null,t.UserActivities=null,t.LimitTimeRecharge=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ActivityManager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_RECHARGE_REWARD,this.onGetRechargeReward,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_LIMIT_RECHARGE,this.onGetLimintRecharg,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_CARD_LIST,this.onGetCardList,this),app.HttpServerManager().RegNetPack(r.HttpAPI.SIGN_LIST,this.onGetSignList,this),app.HttpServerManager().RegNetPack(r.HttpAPI.RECEIVE_SIGN,this.onGetReceiveSign,this),app.HttpServerManager().RegNetPack(r.HttpAPI.RECHARGE_BONUS_LIST,this.onGetRechargeBonusList,this),app.HttpServerManager().RegNetPack(r.HttpAPI.RECHARGE_BONUS_BET,this.onGetRechargeBonusBet,this),app.HttpServerManager().RegNetPack(r.HttpAPI.RECEIVE_CARD_DAILY_GOLD,this.onGetCardDailyGold,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_ALLPROMOTIONS,this.onGetAllPromotion,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_OPEN_REDBAG,this.onGetOpenRedBag,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_DailyRegistrations,this.onGetDailyRegistrations,this),app.HttpServerManager().RegNetPack(r.HttpAPI.USER_CENTER_ACTIVITIES,this.onGetUserCenterActivities,this),app.HttpServerManager().RegNetPack(r.HttpAPI.LIMIT_TIME_RECHARGE,this.onGetLimitTimeRecharge,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_cashWheel,this.onGetCashWheel,this),app.HttpServerManager().RegNetPack(r.HttpAPI.open_cashWheel,this.onOpenCashWheel,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_cashWheelwithdraw,this.onCashWheelwithdraw,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_cashWheelreset,this.onCashWheelreset,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_LossRebate,this.onGetLossRebate,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_LossRebateReceive,this.onGetLossRebateReceive,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_NewbieBonus,this.onGetNewbieBonus,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_NewbieBonusReceive,this.onGetNewbieBonusReceive,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_LuckyLottery,this.onGetLuckyLottery,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_LuckyLotteryinfo,this.onGetLuckyLotteryinfo,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_LuckyLotteryReceive,this.onGetLuckyLotteryReceive,this),app.HttpServerManager().RegNetPack(r.HttpAPI.BonusUnfrozen_getDetailList,this.onBonusUnfrozen_getDetailList,this),app.HttpServerManager().RegNetPack(r.HttpAPI.BonusUnfrozen_receive,this.onBonusUnfrozen_receive,this),app.HttpServerManager().RegNetPack(r.HttpAPI.BonusUnfrozen_bill,this.onBonusUnfrozen_bill,this),app.HttpServerManager().RegNetPack(r.HttpAPI.BonusUnfrozen_set,this.onBonusUnfrozen_set,this)},t.prototype.onGetLimitTimeRecharge=function(e){this.LimitTimeRecharge=e;var t=this.LimitTimeRecharge.cur_time-Math.round(Date.now()/1e3);this.LimitTimeDiffTime=t||0,app.Client.OnEvent(a.GameEventDefine.LIMIT_TIME_RECHARGE)},Object.defineProperty(t.prototype,"GetLimitTimeRecharge",{get:function(){return this.LimitTimeRecharge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetDiffTime",{get:function(){return this.LimitTimeDiffTime},enumerable:!1,configurable:!0}),t.prototype.RequestLimitTimeRecharge=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.LIMIT_TIME_RECHARGE,{token:app.UserManager().GetUserInfo.token})},t.prototype.LimitEndTime=function(){var e=app.UserManager().GetUserRechargeActivity;if(e){var t=e.end_time;if(!app.ComUtil().IsSameDay(1e3*e.end_time)){var n=app.ComTool().GetLocalTime(8);t=new Date(n.setHours(23,59,59,999)).getTime()/1e3,e.end_time=t}return t}return 0},t.prototype.RequestRechargeBonusList=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.RECHARGE_BONUS_LIST,{token:app.UserManager().GetUserInfo.token,page:e,limit:10})},t.prototype.onGetRechargeBonusList=function(e){app.Client.OnEvent(a.GameEventDefine.RECHARGE_BONUS_LIST,e)},t.prototype.RequestRechargeBonusBet=function(e,t){app.HttpServerManager().SendHttpPack(r.HttpAPI.RECHARGE_BONUS_BET,{token:app.UserManager().GetUserInfo.token,type:2,task_id:e,percent:t})},t.prototype.onGetRechargeBonusBet=function(e){app.GoldRewardManager().FormGoldReward({gold:e.gold,source:app.i18n.t("UI_Reward"),send_type:10}),app.RedDotManager().updateSingleData({type:o.RedDotStr.recharge_send_activity,bShow:!1})},t.prototype.RequstSignList=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.SIGN_LIST,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetSignList=function(e){this.SignList=e;for(var t=0;t<e.configs.length;t++)e.configs[t].vip_id==e.vip_id&&(this.VpiBtnIndex=t);app.Client.OnEvent(a.GameEventDefine.SIGN_LIST)},Object.defineProperty(t.prototype,"GetVpiBtnIndex",{get:function(){return this.VpiBtnIndex},enumerable:!1,configurable:!0}),t.prototype.GetSignList=function(){return this.SignList},t.prototype.RequstReceiveSign=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.RECEIVE_SIGN,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetReceiveSign=function(){app.Client.OnEvent(a.GameEventDefine.RECEIVE_SIGN)},t.prototype.RequstRechargeReward=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_RECHARGE_REWARD,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetRechargeReward=function(e){this.RechargeRewardInfo=e,app.Client.OnEvent(a.GameEventDefine.GET_RECHARGE_REWARD)},t.prototype.GetRechargeRewardInfo=function(){return this.RechargeRewardInfo},t.prototype.selectShop=function(){var e=this;this.RechargeRewardInfo?0===this.RechargeRewardInfo.is_discount?app.Client.OnEvent(a.GameEventDefine.OPEN_SPECIAL_OFFER):app.Client.OnEvent(a.GameEventDefine.OPEN_STORE):app.WebClientManager().request(r.HttpAPI.GET_RECHARGE_REWARD,{token:app.UserManager().GetUserInfo.token},function(t){0==t.code?(e.RechargeRewardInfo=t.data,0===e.RechargeRewardInfo.is_discount?app.Client.OnEvent(a.GameEventDefine.OPEN_SPECIAL_OFFER):app.Client.OnEvent(a.GameEventDefine.OPEN_STORE)):app.Client.OnEvent(a.GameEventDefine.OPEN_STORE)})},t.prototype.RequstLimitRecharge=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_LIMIT_RECHARGE,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetLimintRecharg=function(e){this.LimitRechargeInfo=e,app.Client.OnEvent(a.GameEventDefine.GET_LIMIT_RECHARGE)},t.prototype.GetLimitRechargeInfo=function(){return this.LimitRechargeInfo},t.prototype.RequestCardList=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_CARD_LIST,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetCardList=function(e){this.CardList=e,app.Client.OnEvent(a.GameEventDefine.GET_CARD_LIST)},t.prototype.GetCardList=function(){return this.CardList},t.prototype.RequestCardDailyGold=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.RECEIVE_CARD_DAILY_GOLD,e)},t.prototype.RequestGetAllPromotion=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_ALLPROMOTIONS,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetAllPromotion=function(e){if(1==isgoServer&&!channelIDNewbieBonusShow)for(var t=e.length-1;t>=0;t--)29==e[t].act_id&&e.splice(t,1);var n=[];for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=e[o];i.key=o,n.push(i)}n.sort(function(e,t){return t.sort-e.sort}),this.AllPromotionData=n,app.Client.OnEvent(a.GameEventDefine.GET_ALLPROMOTIONS)},t.prototype.RequestOpenRedBag=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_OPEN_REDBAG,{token:app.UserManager().GetUserInfo.token,ckcode:e})},t.prototype.onGetOpenRedBag=function(e){app.Client.OnEvent(a.GameEventDefine.GET_OPEN_REDBAG,e)},t.prototype.RequestDailyRegistrations=function(e,t){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_DailyRegistrations,{token:app.UserManager().GetUserInfo.token,type:e,id:t})},t.prototype.onGetDailyRegistrations=function(e){e&&(e.taskList||(e.taskList=[])),app.Client.OnEvent(a.GameEventDefine.GET_DailyRegistrations,e)},t.prototype.RequestCashWheel=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_cashWheel,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetCashWheel=function(e){app.Client.OnEvent(a.GameEventDefine.GET_cashWheel,e)},t.prototype.RequestOpenCashWheel=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.open_cashWheel,{token:app.UserManager().GetUserInfo.token})},t.prototype.onOpenCashWheel=function(e){app.Client.OnEvent(a.GameEventDefine.open_cashWheel,e)},t.prototype.RequestCashWheelwithdraw=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_cashWheelwithdraw,{token:app.UserManager().GetUserInfo.token})},t.prototype.onCashWheelwithdraw=function(e){app.Client.OnEvent(a.GameEventDefine.GET_cashWheelwithdraw,e)},t.prototype.RequestCashWheelreset=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_cashWheelreset,{token:app.UserManager().GetUserInfo.token})},t.prototype.onCashWheelreset=function(e){app.Client.OnEvent(a.GameEventDefine.GET_cashWheelreset,e)},t.prototype.RequestLossRebate=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_LossRebate,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetLossRebate=function(e){app.Client.OnEvent(a.GameEventDefine.GET_LossRebate,e)},t.prototype.RequestLossRebateReceive=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_LossRebateReceive,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetLossRebateReceive=function(e){app.Client.OnEvent(a.GameEventDefine.GET_LossRebateReceive,e)},t.prototype.RequestNewbieBonus=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_NewbieBonus,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetNewbieBonus=function(e){app.Client.OnEvent(a.GameEventDefine.GET_NewbieBonus,e)},t.prototype.RequestNewbieBonusReceive=function(e,t){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_NewbieBonusReceive,{token:app.UserManager().GetUserInfo.token,type:e,cpf:t})},t.prototype.onGetNewbieBonusReceive=function(e,t){this.sendDataNewbieBonusReceive=t,app.Client.OnEvent(a.GameEventDefine.GET_NewbieBonusReceive,e)},t.prototype.RequestLuckyLottery=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_LuckyLottery,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetLuckyLottery=function(e){app.Client.OnEvent(a.GameEventDefine.GET_LuckyLottery,e)},t.prototype.RequestLuckyLotteryinfo=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_LuckyLotteryinfo,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetLuckyLotteryinfo=function(e){app.Client.OnEvent(a.GameEventDefine.GET_LuckyLotteryinfo,e)},t.prototype.RequestLuckyLotteryReceive=function(e,t){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_LuckyLotteryReceive,{token:app.UserManager().GetUserInfo.token,type:e,id:t})},t.prototype.onGetLuckyLotteryReceive=function(e){app.Client.OnEvent(a.GameEventDefine.GET_LuckyLotteryReceive,e)},t.prototype.onGetCardDailyGold=function(e,t){cc.systemEvent.emit("reward_succ",e),app.GoldRewardManager().FormGoldReward({gold:t.gold,source:app.i18n.t("UI_Reward")}),app.RedDotManager().updateSingleData({type:o.RedDotStr.week_month_card,bShow:!1}),app.Client.OnEvent(a.GameEventDefine.UPDATE_MONTHCARD)},t.prototype.onGetUserCenterActivities=function(e){isgoServer&&(e.activitie=e),this.UserActivities=e,app.Client.OnEvent(a.GameEventDefine.UserCenterActivities)},t.prototype.RequestUserCenterActivities=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.USER_CENTER_ACTIVITIES,{token:app.UserManager().GetUserInfo.token})},t.prototype.getUserActivities=function(){return this.UserActivities},t.prototype.RequestBonusUnfrozen_getDetailList=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.BonusUnfrozen_getDetailList,{token:app.UserManager().GetUserInfo.token})},t.prototype.onBonusUnfrozen_getDetailList=function(e){null==e.notDefrostedList&&(e.notDefrostedList=[]),app.Client.OnEvent(a.GameEventDefine.BonusUnfrozen_getDetailList,e)},t.prototype.BonusUnfrozen_receive=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.BonusUnfrozen_receive,{token:app.UserManager().GetUserInfo.token,billNo:e})},t.prototype.onBonusUnfrozen_receive=function(e){app.Client.OnEvent(a.GameEventDefine.BonusUnfrozen_receive,e)},t.prototype.BonusUnfrozen_set=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.BonusUnfrozen_set,{token:app.UserManager().GetUserInfo.token,billNo:e})},t.prototype.onBonusUnfrozen_set=function(e,t){app.Client.OnEvent(a.GameEventDefine.BonusUnfrozen_set,t.billNo)},t.prototype.BonusUnfrozen_bill=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.BonusUnfrozen_bill,{token:app.UserManager().GetUserInfo.token})},t.prototype.onBonusUnfrozen_bill=function(e){null==e&&(e=[]),app.Client.OnEvent(a.GameEventDefine.BonusUnfrozen_bill,e)},t}(i.Singleton);n.ActivityManager=s,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine"}],AdapterScaleBG:[function(e,t,n){"use strict";cc._RF.push(t,"72d68dWcF5PJ78TEx3VE+Qh","AdapterScaleBG");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scaleInput=.6,t}return i(t,e),t.prototype.onLoad=function(){app.ComTool().DesktopPlatform()&&(this.node.scale=this.scaleInput)},t.prototype.start=function(){},a([c],t.prototype,"scaleInput",void 0),a([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],AdjustEventTrackManager:[function(e,t){"use strict";cc._RF.push(t,"49dcaVnzxRPSrFQBK8TKSgJ","AdjustEventTrackManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.AdjustEventTrackManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/HttpServerDefine"),a=e("../Define/TrackEventName"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="LoginManager",this.Log("Init"),app.HttpServerManager().RegNetPack(i.HttpAPI.GET_WITHDRAWGOLD,this.OnGetWithdrawgold,this),app.HttpServerManager().RegNetPack(i.HttpAPI.GET_AJNOTICE,this.OnGetAjNotice,this),this.MapObEvent={},this.MapObEvent[a.default.AJ_CONSUMEEVENT]=this.ConSumeAdjustEvent.bind(this)},t.prototype.ConSumeAdjustEvent=function(){this.RequestAJGetWithdrawgold(),this.RequestAJNotice()},t.prototype.RequestAJGetWithdrawgold=function(){},t.prototype.RequestAJNotice=function(){},t.prototype.LogEvent=function(e){"function"==typeof this.MapObEvent[e]&&this.MapObEvent[e]()},t.prototype.OnGetWithdrawgold=function(e){e.forEach(function(e){e.amount&&(app.NativeMgr().AdjustlogEvent("withdraw",e.amount),app.NativeMgr().FacebooklogEvent("withdraw",e.amount))})},t.prototype.OnGetAjNotice=function(e){isgoServer&&(e instanceof Array||(e=[])),e.forEach(function(e){app.NativeMgr().AdjustlogEvent(e.key,e.amount),app.NativeMgr().FacebooklogEvent(e.key,e.amount)})},t}(o.Singleton);n.AdjustEventTrackManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/HttpServerDefine":"HttpServerDefine","../Define/TrackEventName":"TrackEventName"}],App:[function(e,t){"use strict";cc._RF.push(t,"29696OAvLlIeY2xeDpTGzl6","App");var n,o={};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../script/common/NativeMgr"),a=e("./Base/BaseClass"),r=e("./Base/FormManager"),s=e("./DB/LaunchManager"),c=e("./Mgr/ClientConfigManager"),p=e("./Mgr/ConfirmManager"),l=e("./Mgr/ControlManager"),h=e("./Mgr/LocalDataManager"),d=e("./Mgr/CompressStorageMgr"),u=e("./Mgr/SysDataManager"),_=e("./Mgr/SysNotifyManager"),m=e("./Mgr/TestManager"),g=e("./Net/HttpRequest"),f=e("./Net/HttpServerManager"),y=e("./Util/ComTool"),v=e("../script/i18n_script/LanguageData"),E=e("./DB/LoginManager"),C=e("./DB/Hall/VIPManager"),M=e("./DB/Hall/BetBonusManager"),S=e("./DB/Hall/LoseWaiverManager"),I=e("./DB/Hall/HallManager"),G=e("./DB/Hall/CashOutManager"),O=e("./Mgr/UserManager"),T=e("./DB/Hall/StoreManager"),R=e("./DB/Hall/ActivityManager"),D=e("./DB/Hall/WheelManager"),N=e("./DB/Hall/WorldCup/WorldCupManager"),L=e("./DB/LanguageManager"),b=e("./Mgr/LogManager"),A=e("./Mgr/SoundManager"),P=e("./DB/Hall/Task/TaskManager"),B=e("./Net/GameServerManager"),U=e("./DB/GameConfigManager"),w=e("./DB/Hall/GoldRewardManager"),F=e("./DB/LoadTextManager"),k=e("./DB/HGameManager"),H=e("./DB/NotifyManager"),x=e("./DB/RoomManager"),W=e("./DB/ExternGameManager"),V=e("./DB/HNoticeManager"),j=e("./DB/Hall/MenuManager"),J=e("./DB/Hall/PromoteMainManager"),q=e("../script/common/GameManager"),Y=e("./DB/Hall/GameTypeManager"),K=e("./DB/Hall/GameListManager"),z=e("./DB/Hall/Email/EmailManager"),X=e("./DB/Hall/RedDotManager"),Z=e("./Mgr/ResManager"),Q=e("./Mgr/KeyManager"),$=e("./DB/FacebookManager"),ee=e("./Util/ComUtil"),te=e("./Util/StringUtil"),ne=e("./Util/TimeUtil"),oe=e("./Util/ChatUtil"),ie=e("./Util/MathUtil"),ae=e("./DB/EventTrackManager"),re=e("./DB/GoogleAnalyticsManager"),se=e("./DB/GoogleLoginManager"),ce=e("./DB/PushTrackRecordManager"),pe=e("./Base/ClickInterceptorHelp"),le=e("./Mgr/InteractionMgr"),he=e("./DB/Hall/SupportManager"),de=e("../script/common_hall/HallMessageCenter"),ue=e("../script/common_room/RoomMessageCenter"),_e=e("./DB/AdjustEventTrackManager"),me=e("./DB/WebClientManager"),ge=e("./DB/DemoServerManager"),fe=e("./Net/GoServerManager"),ye=e("./Base/SubGameLoadManager"),ve=e("./Mgr/EffectMgr"),Ee=e("./DB/PageTrackManager"),Ce=e("./Base/GameEventMgr"),Me=e("./Base/VibrationMgr"),Se=e("./Util/ScoreUtil"),Ie=e("./Util/ImageUtil"),Ge=e("./DB/PlaceholderManager"),Oe=e("../script/HallScene/Guide/GuideManager"),Te=e("./DB/GoogleReCaptChaManager"),Re=e("./DB/IndexManager"),De=e("./DB/Hall/Store2Manager"),Ne=e("./DB/Hall/Store3Manager"),Le=e("./DB/TextManager"),be=e("./DB/PixelManager"),Ae=e("./DB/CameraMgr"),Pe=e("./Mgr/CommonComponentMgr/GameBetCommonMgr"),Be=e("./DB/AISupportManager");new(function(t){function o(){var n=t.call(this)||this;return n.BaseClass=a.BaseClass,n.Client=null,n.JS_Name="App",n.GetGlobal().app=n,n.require=e,n}return __extends(o,t),o.prototype.GetGlobal=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;throw new Error("unable to locate global object")},o.prototype.GetInstance=function(e){if(this.require(e))return this.require(e).GetModel();this.ErrLog("not find Instance name:%s",e)},o.prototype.ControlManager=function(){return l.ControlManager.GetInstance()},o.prototype.ComTool=function(){return y.ComTool.GetInstance()},o.prototype.ComUtil=function(){return ee.ComUtil.GetInstance()},o.prototype.StringUtil=function(){return te.StringUtil.GetInstance()},o.prototype.TimeUtil=function(){return ne.TimeUtil.GetInstance()},o.prototype.ScoreUtil=function(){return Se.ScoreUtil.GetInstance()},o.prototype.MathUtil=function(){return ie.MathUtil.GetInstance()},o.prototype.ImageUtil=function(){return Ie.default.GetInstance()},o.prototype.ChatUtil=function(){return oe.ChatUtil.GetInstance()},o.prototype.FormManager=function(){return r.FormManager.GetInstance()},o.prototype.SysDataManager=function(){return u.SysDataManager.GetInstance()},o.prototype.LocalDataManager=function(){return h.LocalDataManager.GetInstance()},o.prototype.CompressStorageMgr=function(){return d.CompressStorageMgr.GetInstance()},o.prototype.TestManager=function(){return m.TestManager.GetInstance()},o.prototype.NativeMgr=function(){return i.NativeMgr.GetInstance()},o.prototype.ConfirmManager=function(){return p.ConfirmManager.GetInstance()},o.prototype.SysNotifyManager=function(){return _.SysNotifyManager.GetInstance()},Object.defineProperty(o.prototype,"i18n",{get:function(){return v.default.inst},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"emitter",{get:function(){return n||(n=e("emitter")),n},enumerable:!1,configurable:!0}),o.prototype.HttpRequest=function(){return g.HttpRequest.GetInstance()},o.prototype.HttpServerManager=function(){return f.HttpServerManager.GetInstance()},o.prototype.GameServerManager=function(){return B.GameServerManager.GetInstance()},o.prototype.GoServerManager=function(){return fe.GoServerManager.GetInstance()},o.prototype.LogManager=function(){return b.LogManager.GetInstance()},o.prototype.EventTrackManager=function(){return ae.EventTrackManager.GetInstance()},o.prototype.PixelManager=function(){return be.PixelManager.GetInstance()},o.prototype.CameraMgr=function(){return Ae.CameraMgr.GetInstance()},o.prototype.GoogleAnalyticsManager=function(){return re.GoogleAnalyticsManager.GetInstance()},o.prototype.ResManager=function(){return Z.default.GetInstance()},o.prototype.ClientConfigManager=function(){return c.ClientConfigManager.GetInstance()},o.prototype.WebClientManager=function(){return me.WebClientManager.GetInstance()},o.prototype.LoginManager=function(){return E.LoginManager.GetInstance()},o.prototype.PlaceholderManager=function(){return Ge.PlaceholderManager.GetInstance()},o.prototype.LanguageManager=function(){return L.LanguageManager.GetInstance()},o.prototype.TextManager=function(){return Le.TextManager.GetInstance()},o.prototype.KeyManager=function(){return Q.default.GetInstance()},o.prototype.EffectMgr=function(){return ve.default.GetInstance()},o.prototype.LaunchManager=function(){return s.LaunchManager.GetInstance()},o.prototype.GameConfigManager=function(){return U.GameConfigManager.GetInstance()},o.prototype.HGameManager=function(){return k.HGameManager.GetInstance()},o.prototype.NotifyManager=function(){return H.NotifyManager.GetInstance()},o.prototype.RoomManager=function(){return x.RoomManager.GetInstance()},o.prototype.HallMessageCenter=function(){return de.HallMessageCenter.GetInstance()},o.prototype.RoomMessageCenter=function(){return ue.default.GetInstance()},o.prototype.ExternGameManager=function(){return W.ExternGameManager.GetInstance()},o.prototype.DemoServerManager=function(){return ge.DemoServerManager.GetInstance()},o.prototype.HNoticeManager=function(){return V.HNoticeManager.GetInstance()},o.prototype.GameManager=function(){return q.GameManager.GetInstance()},o.prototype.SubGameLoadManager=function(){return ye.SubGameLoadManager.GetInstance()},o.prototype.InteractionMgr=function(){return le.InteractionMgr.GetInstance()},o.prototype.HallManager=function(){return I.HallManager.GetInstance()},o.prototype.GameTypeManager=function(){return Y.GameTypeManager.GetInstance()},o.prototype.GameListManager=function(){return K.GameListManager.GetInstance()},o.prototype.VIPManager=function(){return C.VIPManager.GetInstance()},o.prototype.BetBonusManager=function(){return M.BetBonusManager.GetInstance()},o.prototype.LoseWaiverManager=function(){return S.LoseWaiverManager.GetInstance()},o.prototype.CashOutManager=function(){return G.CashOutManager.GetInstance()},o.prototype.UserManager=function(){return O.UserManager.GetInstance()},o.prototype.StoreManager=function(){return T.StoreManager.GetInstance()},o.prototype.Store2Manager=function(){return De.Store2Manager.GetInstance()},o.prototype.Store3Manager=function(){return Ne.Store3Manager.GetInstance()},o.prototype.ActivityManager=function(){return R.ActivityManager.GetInstance()},o.prototype.WheelManager=function(){return D.WheelManager.GetInstance()},o.prototype.WorldCupManager=function(){return N.WorldCupManager.GetInstance()},o.prototype.SoundManager=function(){return A.SoundManager.GetInstance()},o.prototype.VibrationMgr=function(){return Me.VibrationMgr.GetInstance()},o.prototype.GameEventMgr=function(){return Ce.GameEventMgr.GetInstance()},o.prototype.TaskManager=function(){return P.TaskManager.GetInstance()},o.prototype.GoldRewardManager=function(){return w.GoldRewardManager.GetInstance()},o.prototype.LoadTextManager=function(){return F.LoadTextManager.GetInstance()},o.prototype.MenuManager=function(){return j.MenuManager.GetInstance()},o.prototype.PromoteMainManager=function(){return J.PromoteMainManager.GetInstance()},o.prototype.EmailManager=function(){return z.EmailManager.GetInstance()},o.prototype.RedDotManager=function(){return X.RedDotManager.GetInstance()},o.prototype.FacebookManager=function(){return $.FacebookManager.GetInstance()},o.prototype.GoogleLoginManager=function(){return se.GoogleLoginManager.GetInstance()},o.prototype.PushTrackRecordManager=function(){return ce.PushTrackRecordManager.GetInstance()},o.prototype.ClickInterceptorHelp=function(){return pe.ClickInterceptorHelp.GetInstance()},o.prototype.SupportManager=function(){return he.SupportManager.GetInstance()},o.prototype.AdjustEventTrackManager=function(){return _e.AdjustEventTrackManager.GetInstance()},o.prototype.PageTrackManager=function(){return Ee.PageTrackManager.GetInstance()},o.prototype.GuideManager=function(){return Oe.GuideManager.GetInstance()},o.prototype.GoogleReCaptChaManager=function(){return Te.GoogleReCaptChaManager.GetInstance()},o.prototype.IndexManager=function(){return Re.IndexManager.GetInstance()},o.prototype.GameBetCommonMgr=function(){return Pe.GameBetCommonMgr.GetInstance()},o.prototype.AISupportManager=function(){return Be.AISupportManager.GetInstance()},o}(a.BaseClass)),t.exports=o,cc._RF.pop()},{"../script/HallScene/Guide/GuideManager":"GuideManager","../script/common/GameManager":"GameManager","../script/common/NativeMgr":"NativeMgr","../script/common_hall/HallMessageCenter":"HallMessageCenter","../script/common_room/RoomMessageCenter":"RoomMessageCenter","../script/i18n_script/LanguageData":"LanguageData","./Base/BaseClass":"BaseClass","./Base/ClickInterceptorHelp":"ClickInterceptorHelp","./Base/FormManager":"FormManager","./Base/GameEventMgr":"GameEventMgr","./Base/SubGameLoadManager":"SubGameLoadManager","./Base/VibrationMgr":"VibrationMgr","./DB/AISupportManager":"AISupportManager","./DB/AdjustEventTrackManager":"AdjustEventTrackManager","./DB/CameraMgr":"CameraMgr","./DB/DemoServerManager":"DemoServerManager","./DB/EventTrackManager":"EventTrackManager","./DB/ExternGameManager":"ExternGameManager","./DB/FacebookManager":"FacebookManager","./DB/GameConfigManager":"GameConfigManager","./DB/GoogleAnalyticsManager":"GoogleAnalyticsManager","./DB/GoogleLoginManager":"GoogleLoginManager","./DB/GoogleReCaptChaManager":"GoogleReCaptChaManager","./DB/HGameManager":"HGameManager","./DB/HNoticeManager":"HNoticeManager","./DB/Hall/ActivityManager":"ActivityManager","./DB/Hall/BetBonusManager":"BetBonusManager","./DB/Hall/CashOutManager":"CashOutManager","./DB/Hall/Email/EmailManager":"EmailManager","./DB/Hall/GameListManager":"GameListManager","./DB/Hall/GameTypeManager":"GameTypeManager","./DB/Hall/GoldRewardManager":"GoldRewardManager","./DB/Hall/HallManager":"HallManager","./DB/Hall/LoseWaiverManager":"LoseWaiverManager","./DB/Hall/MenuManager":"MenuManager","./DB/Hall/PromoteMainManager":"PromoteMainManager","./DB/Hall/RedDotManager":"RedDotManager","./DB/Hall/Store2Manager":"Store2Manager","./DB/Hall/Store3Manager":"Store3Manager","./DB/Hall/StoreManager":"StoreManager","./DB/Hall/SupportManager":"SupportManager","./DB/Hall/Task/TaskManager":"TaskManager","./DB/Hall/VIPManager":"VIPManager","./DB/Hall/WheelManager":"WheelManager","./DB/Hall/WorldCup/WorldCupManager":"WorldCupManager","./DB/IndexManager":"IndexManager","./DB/LanguageManager":"LanguageManager","./DB/LaunchManager":"LaunchManager","./DB/LoadTextManager":"LoadTextManager","./DB/LoginManager":"LoginManager","./DB/NotifyManager":"NotifyManager","./DB/PageTrackManager":"PageTrackManager","./DB/PixelManager":"PixelManager","./DB/PlaceholderManager":"PlaceholderManager","./DB/PushTrackRecordManager":"PushTrackRecordManager","./DB/RoomManager":"RoomManager","./DB/TextManager":"TextManager","./DB/WebClientManager":"WebClientManager","./Mgr/ClientConfigManager":"ClientConfigManager","./Mgr/CommonComponentMgr/GameBetCommonMgr":"GameBetCommonMgr","./Mgr/CompressStorageMgr":"CompressStorageMgr","./Mgr/ConfirmManager":"ConfirmManager","./Mgr/ControlManager":"ControlManager","./Mgr/EffectMgr":"EffectMgr","./Mgr/InteractionMgr":"InteractionMgr","./Mgr/KeyManager":"KeyManager","./Mgr/LocalDataManager":"LocalDataManager","./Mgr/LogManager":"LogManager","./Mgr/ResManager":"ResManager","./Mgr/SoundManager":"SoundManager","./Mgr/SysDataManager":"SysDataManager","./Mgr/SysNotifyManager":"SysNotifyManager","./Mgr/TestManager":"TestManager","./Mgr/UserManager":"UserManager","./Net/GameServerManager":"GameServerManager","./Net/GoServerManager":"GoServerManager","./Net/HttpRequest":"HttpRequest","./Net/HttpServerManager":"HttpServerManager","./Util/ChatUtil":"ChatUtil","./Util/ComTool":"ComTool","./Util/ComUtil":"ComUtil","./Util/ImageUtil":"ImageUtil","./Util/MathUtil":"MathUtil","./Util/ScoreUtil":"ScoreUtil","./Util/StringUtil":"StringUtil","./Util/TimeUtil":"TimeUtil",emitter:"emitter"}],AutoBaseComponent:[function(e,t){"use strict";cc._RF.push(t,"9274c6OlLVKzJ9Rj+CTZL26","AutoBaseComponent");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.JS_Name="AutoBaseComponent",t}return __extends(t,e),t.prototype.AutoBindButtonEvent=function(e,t,n,o){void 0===o&&(o="");var i=new cc.Component.EventHandler;i.target=e.node,i.component=e.JS_Name,i.handler=n,i.customEventData=o,t?(t.clickEvents=[],t.clickEvents.push(i)):e.ErrLog("\u6309\u94ae\u6ca1\u6709\u6302\u5728\u63a7\u4ef6\u4e0a")},t.prototype.AutoBindToggleEvent=function(e,t,n,o){void 0===o&&(o=""),this.Log("BindToggleEvent");var i=new cc.Component.EventHandler;i.target=e.node,i.component=e.JS_Name,i.handler=n,i.customEventData=o,t?(t.checkEvents=[],t.checkEvents.push(i)):e.ErrLog("\u6309\u94ae\u6ca1\u6709\u6302\u5728\u63a7\u4ef6\u4e0a")},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"./BaseComponent":"BaseComponent"}],BaseClass:[function(e,t){"use strict";cc._RF.push(t,"d36edSKns5L16/S2lyBC3g3","BaseClass");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseClass=void 0;var o=e("../Define/ShareDefine"),i=cc._decorator.ccclass,a={"b-gb1":"background: #255; color: #ff80ff","b-gb":"background: #255; color: #00ffff","b-g":"background: #255; color: #00ff00","w-g":"background: #0; color: #007f00"},r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="BaseClass",this.Init.apply(this,e)}return e.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.OnReload=function(){},e.prototype.IsDevelopment=function(){return o.Development.IsDevelopment()},e.prototype.GetLogFormatList=function(e){var t=e.length,n=e[0];if("string"!=typeof n)return e;var o=e[t-1];if("string"==typeof o){var i=a[o];i&&("chrome"==cc.sys.browserType?(e.pop(),n="%c"+n,e.splice(1,0,i)):e.pop())}return e[0]="["+this.JS_Name+"]\t"+n,e},e.prototype.Log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e=this.GetLogFormatList(e),cc.log.apply(this,e))},e.prototype.NetLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e=this.GetLogFormatList(e),cc.log.apply(this,e))},e.prototype.SysLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e=this.GetLogFormatList(e),cc.syslog&&cc.syslog.apply(this,e)},e.prototype.WarnLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e=this.GetLogFormatList(e),cc.warn.apply(this,e))},e.prototype.ErrLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e=this.GetLogFormatList(e),cc.error.apply(this,e)},__decorate([i],e)}();n.BaseClass=r,t.exports=n,cc._RF.pop()},{"../Define/ShareDefine":"ShareDefine"}],BaseComponent:[function(e,t){"use strict";cc._RF.push(t,"ddb97oJ4z5BzpDeyBwkmCXO","BaseComponent");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Define/ShareDefine"),i=cc._decorator,a=i.ccclass,r=(i.property,{right:{DirSwitchName:"isAlignRight",DirValueName:"right"},left:{DirSwitchName:"isAlignLeft",DirValueName:"left"},top:{DirSwitchName:"isAlignTop",DirValueName:"top"},bottom:{DirSwitchName:"isAlignBottom",DirValueName:"bottom"},vertical:{DirSwitchName:"isAlignVerticalCenter",DirValueName:"verticalCenter"},horizontal:{DirSwitchName:"isAlignHorizontalCenter",DirValueName:"horizontalCenter"}}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.JS_Name="BaseComponent",t}return __extends(t,e),t.prototype.IsDevelopment=function(){return o.Development.IsDevelopment()},t.prototype.Log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e[0]="["+this.JS_Name+"]\t"+e[0],cc.log.apply(this,e))},t.prototype.NetLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e[0]="["+this.JS_Name+"]\t"+e[0],cc.log.apply(this,e))},t.prototype.SysLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e[0]="["+this.JS_Name+"]\t"+e[0],cc.syslog&&cc.syslog.apply(this,e))},t.prototype.WarnLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.IsDevelopment()&&(e[0]="["+this.JS_Name+"]\t"+e[0],cc.warn.apply(this,e))},t.prototype.ErrLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e[0]="["+this.JS_Name+"]\t"+e[0],cc.error.apply(this,e)},t.prototype.onLoad=function(){this.OnLoad()},t.prototype.OnLoad=function(){},t.prototype.BindButtonEvent=function(e,t,n){void 0===n&&(n="");var o=new cc.Component.EventHandler;o.target=this.node,o.component=this.JS_Name,o.handler=t,o.customEventData=n,e?e.clickEvents.push(o):this.ErrLog("\u6309\u94ae\u6ca1\u6709\u6302\u5728\u63a7\u4ef6\u4e0a")},t.prototype.BindToggleEvent=function(e,t,n){void 0===n&&(n=""),this.Log("BindToggleEvent");var o=new cc.Component.EventHandler;o.target=this.node,o.component=this.JS_Name,o.handler=t,o.customEventData=n,e.getComponent(cc.Toggle).checkEvents=[],e.getComponent(cc.Toggle).checkEvents.push(o)},t.prototype.BindEvent=function(e,t,n){if(void 0===n&&(n=""),e){var o=e.clickEvents||e.checkEvents;if(!o)return void this.ErrLog("\u8be5\u7ec4\u4ef6\u4e0d\u5b58\u5728checkEvents\u6216clickEvents\u65b9\u6cd5");var i=new cc.Component.EventHandler;i.target=this.node,i.component=this.JS_Name,i.handler=t,i.customEventData=n,o.push(i)}else this.ErrLog("\u627e\u4e0d\u5230\u7ec4\u4ef6")},t.prototype.GetWndProperty=function(e,t){var n=cc.find(e,this.node);if(n){var o=null;return"text"==t?((o=n.getComponent(cc.Label))||(o=n.getComponent(cc.EditBox)),o?o.string:void this.ErrLog("GetWndProperty(%s,%s) wnd not find cc.Label cc.EditBox",e,t)):"position"==t?n.getPosition():"active"==t?n.active:"color"==t?n.color:"scale"==t?n.scale:"opacity"==t?n.opacity:"interactable"==t?(o=n.getComponent(cc.Button))?o.interactable:void this.ErrLog("GetWndProperty(%s,%s) wnd not find cc.Button",e,t):"progress"==t?(o=n.getComponent(cc.ProgressBar))?o.progress:void this.ErrLog("GetWndProperty(%s,%s) wnd not find cc.ProgressBar",e,t):void this.ErrLog("GetWndProperty(%s,%s) property error",e,t)}this.ErrLog("GetWndProperty(%s,%s) not find wndPath",e,t)},t.prototype.SetWndProperty=function(e,t,n,o){var i=this.GetWndNode(e,o);if(i){var a=null;if("text"==t){if((a=i.getComponent(cc.Label))||(a=i.getComponent(cc.RichText)?i.getComponent(cc.RichText):i.getComponent(cc.EditBox)),!a)return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.Label cc.EditBox",e,t,n);a.string=n+""}else if("position"==t)i.setPosition(n);else if("active"==t)i.active=n;else if("color"==t)i.color=n;else if("image"==t)this.SetWndImage(e,n);else if("scale"==t)i.scale=n;else if("opacity"==t)i.opacity=n;else if("interactable"==t){if(!(a=i.getComponent(cc.Button)))return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.Button",e,t,n);a.interactable=n}else if("progress"==t){if(!(a=i.getComponent(cc.ProgressBar)))return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.ProgressBar",e,t,n);a.progress=n}else{if("widget"!=t)return void this.ErrLog("SetWndProperty(%s,%s,%s) property error",e,t,n);if(!(a=i.getComponent(cc.Widget)))return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.Widget",e,t,n);for(var s=Object.keys(r),c=s.length,p=0;p<c;p++){var l=s[p],h=r[l],d=h.DirValueName,u=h.DirSwitchName;n.hasOwnProperty(l)?(a[u]=!0,a[d]=n[l]):a[u]=!1}a.updateAlignment()}}else this.ErrLog("SetWndProperty(%s,%s,%s) not find wndPath",e,t,n)},t.prototype.SetWndImage=function(e,t){if(!cc.find(e,this.node))return this.ErrLog("(%s) SetWndImageByFilePath not find node Image:(%s)",e,t),Promise.resolve(!1)},t.prototype.ClearWndImage=function(e){cc.find(e,this.node)||this.ErrLog("ClearWndImage(%s) not find node",e)},t.prototype.GetWndNode=function(e,t){var n=this.node;return t instanceof cc.Component?n=t.node:t instanceof cc.Node&&(n=t),(n=cc.find(e,n))||(this.WarnLog("GetWndNode(%s) not find",e),null)},t.prototype.GetWndComponent=function(e,t,n){var o=this.node;if(n instanceof cc.Component?o=n.node:n instanceof cc.Node&&(o=n),o=cc.find(e,o)){var i=o.getComponent(t);if(i)return i;this.ErrLog("GetWndComponent wndPath(%s) not find Component(%s)",e,t.name)}else this.WarnLog("GetWndComponent wndPath(%s) error",e)},t.prototype.GetOrSetComponent=function(e,t){return t||(t=this.node),t.getComponent(e)||t.addComponent(e)},t.prototype.GetOrSetWndComponent=function(e,t,n){try{n||(n=this.node);var o=null;return n instanceof cc.Component?o=n.node:n instanceof cc.Node&&(o=n),(o=cc.find(e,o))?this.GetOrSetComponent(t,o):void this.WarnLog("GetWndComponent wndPath(%s) error",e)}catch(i){this.ErrLog("GetOrSetWndComponent \u83b7\u53d6\u7ec4\u4ef6\u5931\u8d25:",i)}},__decorate([a],t)}(cc.Component);n.default=s,t.exports=n,cc._RF.pop()},{"../Define/ShareDefine":"ShareDefine"}],BaseDefaultNodeSetSelect:[function(e,t){"use strict";cc._RF.push(t,"67cd4BdDzFBM6Cntpd+8Vjo","BaseDefaultNodeSetSelect");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.SetColorAndFontSize=function(e,t){if(e){if(this.node.color=cc.Color.WHITE.fromHEX(e),this.node.getComponent(cc.Label)&&t&&(this.node.getComponent(cc.Label).fontSize=t),this.node.getComponent(cc.Label)){var n=function(e){return e&&(e.getComponent(cc.Button)||e.getComponent(cc.Toggle))},o=n(this.node.parent)||n(this.node.parent.parent);o&&o.target==this.node&&o.transition==cc.Button.Transition.COLOR&&(o.normalColor=this.node.color)}var i=this.node.getChildByName("underline");i&&(i.color=cc.Color.WHITE.fromHEX(e))}},__decorate([i],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],BaseDefine:[function(e,t){"use strict";cc._RF.push(t,"825a6r/xHpAfYLppPH3MThQ","BaseDefine");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.COMMONGAME_MSG=o.COMMONGAME_ROOM_STATE=o.COMMONGAME_BANKER_TYPE=o.GameStatus=o.ROOM_TYPE=o.ROOM_CARD_TYPE=o.BASE_COMMONGAME_HORSE_TYPE=o.ROOM_START_MODE=o.ROOM_STATE=o.ROOM_OPERATION=o.ROOM_MODE=o.MAX_CARD=void 0,o.MAX_CARD=13,(n=o.ROOM_MODE||(o.ROOM_MODE={}))[n.ROOM_MODE_NONE=0]="ROOM_MODE_NONE",n[n.ROOM_MODE_13WATER=1]="ROOM_MODE_13WATER",n[n.ROOM_MODE_6FLOWER=2]="ROOM_MODE_6FLOWER",n[n.ROOM_MODE_BULL=3]="ROOM_MODE_BULL",n[n.ROOM_MODE_GOLDEN_FLOWER=4]="ROOM_MODE_GOLDEN_FLOWER",n[n.ROOM_MODE_MAHJONG=5]="ROOM_MODE_MAHJONG",n[n.ROOM_MODE_TEXAS_POKER=6]="ROOM_MODE_TEXAS_POKER",n[n.ROOM_MODE_RUN_FAST=7]="ROOM_MODE_RUN_FAST",n[n.ROOM_MODE_FIGHT_LANDLORD=8]="ROOM_MODE_FIGHT_LANDLORD",n[n.ROOM_MODE_PISCATION=9]="ROOM_MODE_PISCATION",n[n.ROOM_MODE_BACCARAT=10]="ROOM_MODE_BACCARAT",n[n.ROOM_MODE_SLOT=11]="ROOM_MODE_SLOT",n[n.ROOM_MODE_SLOT_HALL=12]="ROOM_MODE_SLOT_HALL",n[n.ROOM_MODE_LUDO=27]="ROOM_MODE_LUDO",function(e){e[e.ROOM_OPERATION_KICK=1]="ROOM_OPERATION_KICK",e[e.ROOM_OPERATION_READY=2]="ROOM_OPERATION_READY",e[e.ROOM_OPERATION_CHATFACE=3]="ROOM_OPERATION_CHATFACE",e[e.ROOM_OPERATION_CHOOSE_SEAT=4]="ROOM_OPERATION_CHOOSE_SEAT",e[e.ROOM_OPERATION_REQ_DESTROY=5]="ROOM_OPERATION_REQ_DESTROY",e[e.ROOM_OPERATION_READY_ROUND=6]="ROOM_OPERATION_READY_ROUND",e[e.ROOM_OPERATION_MAHJONG_SETTINGS_ROUND_COUNT=51]="ROOM_OPERATION_MAHJONG_SETTINGS_ROUND_COUNT",e[e.ROOM_OPERATION_MAHJONG_SETTINGS_ADD_BAN_PATTERN=52]="ROOM_OPERATION_MAHJONG_SETTINGS_ADD_BAN_PATTERN",e[e.ROOM_OPERATION_MAHJONG_SETTINGS_REMOVE_BAN_PATTERN=53]="ROOM_OPERATION_MAHJONG_SETTINGS_REMOVE_BAN_PATTERN",e[e.ROOM_OPERATION_MAHJONG_SETTINGS_PAYTYPE=54]="ROOM_OPERATION_MAHJONG_SETTINGS_PAYTYPE"}(o.ROOM_OPERATION||(o.ROOM_OPERATION={})),function(e){e[e.ROOM_STATE_INIT=1]="ROOM_STATE_INIT",e[e.ROOM_STATE_PREPARE=3]="ROOM_STATE_PREPARE",e[e.ROOM_STATE_GAME=4]="ROOM_STATE_GAME",e[e.ROOM_STATE_ZOMBIE=5]="ROOM_STATE_ZOMBIE",e[e.ROOM_STATE_END=10]="ROOM_STATE_END"}(o.ROOM_STATE||(o.ROOM_STATE={})),function(e){e[e.ROOM_START_MODE_ALL_PREPARE=0]="ROOM_START_MODE_ALL_PREPARE",e[e.ROOM_START_MODE_OWNER_START=1]="ROOM_START_MODE_OWNER_START",e[e.ROOM_START_MODE_PREPARE_OWNER_START=2]="ROOM_START_MODE_PREPARE_OWNER_START"}(o.ROOM_START_MODE||(o.ROOM_START_MODE={})),function(e){e[e.BASE_COMMONGAME_HORSE_TYPE_NONE=0]="BASE_COMMONGAME_HORSE_TYPE_NONE",e[e.BASE_COMMONGAME_HORSE_TYPE_GAME=1]="BASE_COMMONGAME_HORSE_TYPE_GAME",e[e.BASE_COMMONGAME_HORSE_TYPE_ROUND=2]="BASE_COMMONGAME_HORSE_TYPE_ROUND",e[e.BASE_COMMONGAME_HORSE_TYPE_ASSIGEN=3]="BASE_COMMONGAME_HORSE_TYPE_ASSIGEN"}(o.BASE_COMMONGAME_HORSE_TYPE||(o.BASE_COMMONGAME_HORSE_TYPE={})),function(e){e[e.ROOM_CARD_TYPE_NONE=0]="ROOM_CARD_TYPE_NONE",e[e.ROOM_CARD_TYPE_CREATOR=1]="ROOM_CARD_TYPE_CREATOR",e[e.ROOM_CARD_TYPE_OWNER_NO_PLAY=2]="ROOM_CARD_TYPE_OWNER_NO_PLAY",e[e.ROOM_CARD_TYPE_AA=3]="ROOM_CARD_TYPE_AA",e[e.ROOM_CARD_TYPE_BIGWEINNER=4]="ROOM_CARD_TYPE_BIGWEINNER"}(o.ROOM_CARD_TYPE||(o.ROOM_CARD_TYPE={})),function(e){e[e.ROOM_TYPE_NONE=0]="ROOM_TYPE_NONE",e[e.ROOM_TYPE_CARD=1]="ROOM_TYPE_CARD",e[e.ROOM_TYPE_MATCH=2]="ROOM_TYPE_MATCH",e[e.ROOM_TYPE_PUBLIC=3]="ROOM_TYPE_PUBLIC",e[e.ROOM_TYPE_PRIVATE=4]="ROOM_TYPE_PRIVATE",e[e.ROOM_TYPE_CLUB=5]="ROOM_TYPE_CLUB"}(o.ROOM_TYPE||(o.ROOM_TYPE={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.GAME_START=1]="GAME_START",e[e.GAME_END=2]="GAME_END"}(o.GameStatus||(o.GameStatus={})),function(e){e[e.COMMONGAME_BANKER_TYPE_NONE=0]="COMMONGAME_BANKER_TYPE_NONE",e[e.COMMONGAME_BANKER_TYPE_OWNER=1]="COMMONGAME_BANKER_TYPE_OWNER",e[e.COMMONGAME_BANKER_TYPE_COMPETE=2]="COMMONGAME_BANKER_TYPE_COMPETE",e[e.COMMONGAME_BANKER_TYPE_WINNER=3]="COMMONGAME_BANKER_TYPE_WINNER",e[e.COMMONGAME_BANKER_TYPE_TURN=4]="COMMONGAME_BANKER_TYPE_TURN",e[e.COMMONGAME_BANKER_TYPE_RANDOM=5]="COMMONGAME_BANKER_TYPE_RANDOM"}(o.COMMONGAME_BANKER_TYPE||(o.COMMONGAME_BANKER_TYPE={})),function(e){e[e.COMMONGAME_ROOM_STATE_NONE=0]="COMMONGAME_ROOM_STATE_NONE",e[e.COMMONGAME_ROOM_STATE_COMPETE_BANKER=1]="COMMONGAME_ROOM_STATE_COMPETE_BANKER",e[e.COMMONGAME_ROOM_STATE_BET=2]="COMMONGAME_ROOM_STATE_BET",e[e.COMMONGAME_ROOM_STATE_NORMAL=3]="COMMONGAME_ROOM_STATE_NORMAL",e[e.COMMONGAME_ROOM_STATE_SETTLEMENT=4]="COMMONGAME_ROOM_STATE_SETTLEMENT",e[e.COMMONGAME_ROOM_STATE_PREDEAL=6]="COMMONGAME_ROOM_STATE_PREDEAL",e[e.COMMONGAME_ROOM_STATE_END=10]="COMMONGAME_ROOM_STATE_END",e[e.COMMONGAME_ROOM_STATE_FINISH=11]="COMMONGAME_ROOM_STATE_FINISH"}(o.COMMONGAME_ROOM_STATE||(o.COMMONGAME_ROOM_STATE={})),function(e){e[e.COMMONGAME_ACTION_NONE=0]="COMMONGAME_ACTION_NONE",e[e.COMMONGAME_START_GAME=1]="COMMONGAME_START_GAME",e[e.COMMONGAME_RECONN_GAME=2]="COMMONGAME_RECONN_GAME",e[e.COMMONGAME_GAME_INFO=3]="COMMONGAME_GAME_INFO",e[e.COMMONGAME_SECOND_BET=4]="COMMONGAME_SECOND_BET",e[e.COMMONGAME_ACTION_DEAL=5]="COMMONGAME_ACTION_DEAL",e[e.COMMONGAME_ACTION_PRE_DEAL=7]="COMMONGAME_ACTION_PRE_DEAL",e[e.COMMONGAME_ACTION_OPEN_JOKER=8]="COMMONGAME_ACTION_OPEN_JOKER",e[e.COMMONGAME_ACTION_RECOMMEND_MATCH=11]="COMMONGAME_ACTION_RECOMMEND_MATCH",e[e.COMMONGAME_ACTION_PLAY_MATCH=12]="COMMONGAME_ACTION_PLAY_MATCH",e[e.COMMONGAME_ACTION_MATCH_RESULT=13]="COMMONGAME_ACTION_MATCH_RESULT",e[e.COMMONGAME_ACTION_PLAY_CARD=14]="COMMONGAME_ACTION_PLAY_CARD",e[e.COMMONGAME_ROUND_RESULT=15]="COMMONGAME_ROUND_RESULT",e[e.COMMONGAME_ACTION_TAKE_CARD=17]="COMMONGAME_ACTION_TAKE_CARD",e[e.COMMONGAME_ACTION_UPDATE_CARD=18]="COMMONGAME_ACTION_UPDATE_CARD",e[e.COMMONGAME_ACTION_SHOW_CARD=19]="COMMONGAME_ACTION_SHOW_CARD",e[e.COMMONGAME_ACTION_PASS=20]="COMMONGAME_ACTION_PASS",e[e.COMMONGAME_ACTION_COMPETE_BANKER=21]="COMMONGAME_ACTION_COMPETE_BANKER",e[e.COMMONGAME_ACTION_BET=22]="COMMONGAME_ACTION_BET",e[e.COMMONGAME_ACTION_CHANGE_BANKER=23]="COMMONGAME_ACTION_CHANGE_BANKER",e[e.COMMONGAME_START_COMPETE=24]="COMMONGAME_START_COMPETE",e[e.COMMONGAME_ACTION_DISCARD=25]="COMMONGAME_ACTION_DISCARD",e[e.COMMONGAME_ACTION_FOLLOW=26]="COMMONGAME_ACTION_FOLLOW",e[e.COMMONGAME_ACTION_TRUSTEE=27]="COMMONGAME_ACTION_TRUSTEE",e[e.COMMONGAME_ACTION_COMPARE=28]="COMMONGAME_ACTION_COMPARE",e[e.COMMONGAME_ACTION_REQ_COMPARE=29]="COMMONGAME_ACTION_REQ_COMPARE",e[e.COMMONGAME_ACTION_RSP_COMPARE=30]="COMMONGAME_ACTION_RSP_COMPARE",e[e.COMMONGAME_SUSPEND_COUNTDOWN=31]="COMMONGAME_SUSPEND_COUNTDOWN",e[e.COMMONGAME_RESUME_COUNTDOWN=32]="COMMONGAME_RESUME_COUNTDOWN",e[e.COMMONGAME_ACTION_SHUFFLE=33]="COMMONGAME_ACTION_SHUFFLE",e[e.COMMONGAME_ACTION_DUMMY_PLAY=36]="COMMONGAME_ACTION_DUMMY_PLAY",e[e.COMMONGAME_AVALIABLEACTION=51]="COMMONGAME_AVALIABLEACTION",e[e.COMMONGAME_ACTION_FAIL=50]="COMMONGAME_ACTION_FAIL",e[e.COMMONGAME_END_GAME=60]="COMMONGAME_END_GAME",e[e.COMMONGAME_REPLAY=70]="COMMONGAME_REPLAY",e[e.PISCATION_LOCK=40]="PISCATION_LOCK",e[e.PISCATION_FIRE=41]="PISCATION_FIRE",e[e.PISCATION_SWITCH_FIRE=42]="PISCATION_SWITCH_FIRE",e[e.PISCATION_HITFISH=43]="PISCATION_HITFISH",e[e.PISCATION_KILLFISH=44]="PISCATION_KILLFISH",e[e.PISCATION_GENERATE_FISH=47]="PISCATION_GENERATE_FISH",e[e.PISCATION_SPECIAL_EVENT_TIME=48]="PISCATION_SPECIAL_EVENT_TIME",e[e.RUMMY_APPEND_INFO=2503]="RUMMY_APPEND_INFO",e[e.COMMONGAME_ADJUST_PAY_RATE=81]="COMMONGAME_ADJUST_PAY_RATE"}(o.COMMONGAME_MSG||(o.COMMONGAME_MSG={})),t.exports=o,cc._RF.pop()},{}],BaseForm:[function(e,t){"use strict";cc._RF.push(t,"a4fb1fETdpLhq/inTKqI5pV","BaseForm");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a,r,s=cc._decorator,c=s.ccclass,p=s.property,l=e("./BaseComponent"),h=e("../Define/ColorDefine"),d=e("../Define/EffectPosTypeDefine"),u=e("../Define/ShareDefine"),_=e("./EventFunAdapter"),m=e("../Define/GameEventDefine"),g=e("../../script/common/room_mode_tool");(r=o||(o={}))[r.ZorderLv0=0]="ZorderLv0",r[r.ZorderLv1=1]="ZorderLv1",r[r.ZorderLv2=2]="ZorderLv2",r[r.ZorderLv3=3]="ZorderLv3",r[r.ZorderLv4=4]="ZorderLv4",r[r.ZorderLv5=5]="ZorderLv5",r[r.ZorderLv6=6]="ZorderLv6",r[r.ZorderLv7=7]="ZorderLv7",r[r.ZorderLv8=8]="ZorderLv8",r[r.ZorderLv9=9]="ZorderLv9",function(e){e[e.None=0]="None",e[e.FromTop=1]="FromTop",e[e.FromBottom=2]="FromBottom",e[e.FromLeft=3]="FromLeft",e[e.FromRight=4]="FromRight",e[e.FromCenter=5]="FromCenter",e[e.FadeIn=6]="FadeIn"}(i||(i={})),function(e){e[e.None=0]="None",e[e.ToTop=1]="ToTop",e[e.ToBottom=2]="ToBottom",e[e.ToLeft=3]="ToLeft",e[e.ToRight=4]="ToRight",e[e.ToCenter=5]="ToCenter",e[e.FadeOut=6]="FadeOut"}(a||(a={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ShowEffectType=i.None,t.CloseEffectType=a.None,t.ZorderLv=o.ZorderLv6,t.background=null,t.closeForm=!1,t.buttonClose=!1,t.router=!1,t.phoneKey=!1,t.ShowFormActionSec=.2,t.CloseFormActionSec=.2,t.OpenClip=null,t.CloseClip=null,t}return __extends(t,e),t.prototype.OnCreate=function(e){if(this.JS_Name=e.FormName,this.ActionTag=1e3,this._closeAction=null,this._showAction=null,this._closeAnimationState=null,this._showAnimationState=null,this.OpenClip&&(this.node.getComponent(cc.Animation)||this.node.addComponent(cc.Animation)).addClip(this.OpenClip),this.CloseClip&&(this.node.getComponent(cc.Animation)||this.node.addComponent(cc.Animation)).addClip(this.CloseClip),this._dataInfo={InitScale:this.node.scale,InitWidth:this.node.width,InitHeight:this.node.height,InitAnchorX:this.node.anchorX,InitAnchorY:this.node.anchorY,InitOpacity:this.node.opacity,InitWidget:0,InitPosition:cc.v2(0,0)},this._formInfo=e,this.EventFunAdapter||(this.EventFunAdapter=new _.EventFunAdapter(this)),this.InitBaseData(),this.OnCreateInit(),this.background){this._background=cc.instantiate(this.background);var t=this._background.addComponent(cc.Button);this.closeForm?this.BindButtonEvent(t,"OnClick_Close"):this.BindButtonEvent(t,"OnClickForm")}else this._background=new cc.Node("background");this.phoneKey&&this.RegEvent(m.GameEventDefine.KEYBOARD_EVENTE,this.OnKeyBoardEvent)},t.prototype.InitBaseData=function(){this.ComTool=app.ComTool(),this.FormManager=app.FormManager(),this.ControlManager=app.ControlManager(),this.ButtonRepeatDict={},this.buttonClose&&this.RegBackEvent(this.OnClick_Return),this.router&&this.RegRouterEvent()},t.prototype.OnLoad=function(){},t.prototype.onDestroy=function(){},t.prototype.update=function(e){try{this.OnUpdate(e)}catch(t){this.FormManager.DingDingMessage("update error:"+this.JS_Name,t.stack)}},t.prototype.ShowForm=function(e){var t=this;e||(e=[]);var n=this._formInfo.Independent==u.FormType.Independent||this._formInfo.Independent==u.FormType.IndependentGame?app.Client.GetIndependentLayer():this._formInfo.Independent==u.FormType.Crossing?app.Client.GetHomeLayer():app.Client.GetContentLayer();if(n)if(this._showAction||this._showAnimationState)this.Log("\u754c\u9762\u6b63\u5728\u6253\u5f00\u4e2d...");else{this.node.parent==n?this._closeAction?(this.node.stopActionByTag(this.ActionTag),this._background.stopAllActions(),this._closeAction=null,this.ResetNodeInfo(),this.ShowFormAction()):this._closeAnimationState?(this._closeAnimationState.stop(),this._closeAnimationState=null,this.ResetNodeInfo(),this.ShowFormAction()):this.Log("\u754c\u9762\u5df2\u7ecf\u6253\u5f00,\u65e0\u9700\u91cd\u590d\u6253\u5f00"):(n.addChild(this._background,this.ZorderLv),n.addChild(this.node,this.ZorderLv),this.node.active=!0,this.ControlManager.UpdateAlignmentEx(this._background),this.ShowFormAction()),this.EventFunAdapter.RegisterEvent(e),this.Log("\u6210\u529f\u6253\u5f00\u754c\u9762");var o=function(){t.scheduleOnce(function(){app.Client.OnEvent(m.GameEventDefine.SET_VISIBLE_BOTTOM,!0)},.5)};this._formInfo.Independent==u.FormType.Hall?(app.UserManager().GetUserInfo.roomMode=0,app.GameManager().curr_scene_name=g.GameScene.HALL,o()):this._formInfo.Independent==u.FormType.HallGame&&o(),this.FormManager.AddShowingForm(this._formInfo.FormName);try{this.OnShow.apply(this,e)}catch(i){this.ErrLog("error",i),this.FormManager.DingDingMessage("ShowForm error:"+this.JS_Name,i.stack)}}else this.ErrLog("ShowForm not find uiLayer")},t.prototype.CloseForm=function(e){var t=app.Client.GetIndependentLayer(),n=app.Client.GetContentLayer(),o=app.Client.GetHomeLayer();if(this.node.parent==t||this.node.parent==n||this.node.parent==o){if(this._showAction&&(this.node.stopActionByTag(this.ActionTag),this._showAction=null),this._showAnimationState&&(this._showAnimationState.stop(),this._showAnimationState=null),this.Log("\u6210\u529f\u5173\u95ed\u754c\u9762"),this.node.parent===n&&app.Client.OnEvent(m.GameEventDefine.SET_VISIBLE_BOTTOM,!1),this.EventFunAdapter.UnRegisterEvent(),"ExitScene"==e)this.node.stopActionByTag(this.ActionTag),this._closeAction=null,this._closeAnimationState=null;else{if(this._closeAction||this._closeAnimationState)return void this.Log("\u6b63\u5728\u5173\u95ed\u754c\u9762,\u65e0\u9700\u91cd\u590d\u5173\u95ed");this.CreateFormAction()}if(this.FormManager.RemoveShowingForm(this._formInfo.FormName),app.Client.OnEvent("CloseForm",this._formInfo.FormName),this._closeAction){var i=cc.sequence(this._closeAction,cc.callFunc(this.onCloseFormEnd,this));this._background.stopAllActions(),this._background.runAction(cc.fadeOut(this.CloseFormActionSec)),i.setTag(this.ActionTag),this.node.runAction(i)}else{if(this.CloseClip&&"ExitScene"!=e){var a=this.node.getComponent(cc.Animation);return this._closeAnimationState=a.play(this.CloseClip.name),void a.once("finished",this.onCloseFormEnd,this)}this.onCloseFormEnd()}}else this.Log("\u754c\u9762\u5df2\u7ecf\u5173\u95ed")},t.prototype.onOpenFormEnd=function(){this._showAction=null,this._showAnimationState=null},t.prototype.onCloseFormEnd=function(){this.OnClose(),this._closeAction=null,this._closeAnimationState=null,this.FormManager.IsFormShow(this._formInfo.FormName)?this.Log("\u5173\u95ed\u754c\u9762\u7684\u65f6\u5019\u53c8\u6253\u5f00\u4e86\u754c\u9762"):(this.ResetNodeInfo(),this.node.active=!1,this._background.removeFromParent(!1),this.node.removeFromParent(!1),this._formInfo.FormRelease&&(this._background.destroy(),this.FormManager.DestroyForm(this._formInfo.FormName),this.ControlManager.ReleaseCache(this._formInfo.FormPath),this.node.destroy()))},t.prototype.ShowFormName=function(){if(!this.node.getChildByName("LabelFormName")){var e=new cc.Node("LabelFormName");e.parent=this.node,e.setPosition(10,-10);var t=e.addComponent(cc.Label);t.string=this._formInfo.FormName,t.fontSize=25,e.color=h.default.Color_Orange}},t.prototype.IsFormShow=function(){var e=cc.find("Canvas/uiLayer");return this.node.parent==e},t.prototype.GetComponentsInAllChildren=function(e,t,n){void 0===n&&(n=[]);var o=e.getComponent(t);o&&n.push(o);for(var i=e.children,a=e.childrenCount,r=0;r<a;r++){var s=i[r];this.GetComponentsInAllChildren(s,t,n)}return n},t.prototype.ShowFormAction=function(){if(!this.GetFormProperty("InitWidget")){this.ControlManager.UpdateAlignmentEx(this.node);var e=this.node.getPosition();this.SetFormProperty("InitPosition",e),this.SetFormProperty("InitWidget",1)}if(this.OpenClip){var t=this.node.getComponent(cc.Animation);return this._showAnimationState=t.play(this.OpenClip.name),void t.once("finished",this.onOpenFormEnd,this)}if(this.ShowEffectType!=i.None){this._background.opacity=128,this.node.opacity=0,this.node.setPosition(0,0),this.ControlManager.UpdateAlignmentEx(this.node),this.node.stopActionByTag(this.ActionTag),this._showAction=null,this._showAnimationState=null;var n=this.GetFormProperty("InitPosition"),o=this.GetFormProperty("InitScale"),a=this.GetFormProperty("InitWidth"),r=this.GetFormProperty("InitHeight"),s=null,c=null;if(this.ShowEffectType){switch(this.ShowEffectType){case i.FromTop:var p=cc.v2(n.x,n.y+r);s=cc.spawn(cc.fadeIn(0),cc.moveTo(0,p)),c=cc.moveTo(this.ShowFormActionSec,n);break;case i.FromBottom:var l=cc.v2(n.x,n.y-r);s=cc.spawn(cc.fadeIn(0),cc.moveTo(0,l)),c=cc.moveTo(this.ShowFormActionSec,n);break;case i.FromLeft:var h=cc.v2(n.x-a,n.y);s=cc.spawn(cc.fadeIn(0),cc.moveTo(0,h)),c=cc.moveTo(this.ShowFormActionSec,n);break;case i.FromRight:var d=cc.v2(n.x+a,n.y);s=cc.spawn(cc.fadeIn(0),cc.moveTo(0,d)),c=cc.moveTo(this.ShowFormActionSec,n);break;case i.FromCenter:s=cc.scaleTo(0,.3*o),c=cc.spawn(cc.fadeIn(this.ShowFormActionSec),cc.scaleTo(this.ShowFormActionSec,o).easing(cc.easeBackOut()));break;case i.FadeIn:s=cc.fadeIn(this.ShowFormActionSec)}s&&c?this._showAction=cc.sequence(s,c,cc.callFunc(this.onOpenFormEnd,this)):s&&(this._showAction=cc.sequence(s,cc.callFunc(this.onOpenFormEnd,this))),this._showAction&&(this._background.stopAllActions(),this._background.runAction(cc.fadeIn(this.ShowFormActionSec)),this._showAction.setTag(this.ActionTag),this.node.runAction(this._showAction))}}},t.prototype.CreateFormAction=function(){if(this.CloseEffectType!=a.None){this.node.stopActionByTag(this.ActionTag),this._closeAction=null;var e=this.GetFormProperty("InitPosition"),t=this.GetFormProperty("InitHeight"),n=this.GetFormProperty("InitScale");if(!this._closeAction&&this.CloseEffectType)switch(this.CloseEffectType){case a.ToTop:var o=cc.v2(e.x,e.y+t);this._closeAction=cc.moveTo(this.CloseFormActionSec,o);break;case a.ToBottom:var i=cc.v2(e.x,e.y-t);this._closeAction=cc.moveTo(this.CloseFormActionSec,i);break;case a.ToLeft:var r=cc.v2(e.x-t,e.y);this._closeAction=cc.moveTo(this.CloseFormActionSec,r);break;case a.ToRight:var s=cc.v2(e.x+t,e.y);this._closeAction=cc.moveTo(this.CloseFormActionSec,s);break;case a.ToCenter:this._closeAction=cc.spawn(cc.fadeOut(this.CloseFormActionSec),cc.scaleTo(this.CloseFormActionSec,.3*n).easing(cc.easeBackIn()));break;case a.FadeOut:this._closeAction=cc.fadeOut(this.CloseFormActionSec)}}else this.ResetNodeInfo()},t.prototype.ResetNodeInfo=function(){var e=this.GetFormProperty("InitPosition"),t=this.GetFormProperty("InitScale"),n=this.GetFormProperty("InitWidth"),o=this.GetFormProperty("InitHeight");switch(this.ShowEffectType){case i.None:this.node.setScale(t),this.node.setPosition(e),this._background.opacity=255;break;case i.FromTop:var a=cc.v2(e.x,e.y+o);this.node.setScale(t),this.node.setPosition(a),this.node.opacity=255;break;case i.FromBottom:var r=cc.v2(e.x,e.y-o);this.node.setScale(t),this.node.setPosition(r),this.node.opacity=255;break;case i.FromLeft:var s=cc.v2(e.x-n,e.y);this.node.setScale(t),this.node.setPosition(s),this.node.opacity=255;break;case i.FromRight:var c=cc.v2(e.x+n,e.y);this.node.setScale(t),this.node.setPosition(c),this.node.opacity=255;break;case i.FromCenter:this.node.setScale(t),this.node.setPosition(e),this.node.opacity=128;break;case i.FadeIn:this.node.setScale(t),this.node.setPosition(e),this._background.opacity=128;break;default:this.ErrLog("ShowEffectType:%s error",this.ShowEffectType)}},t.prototype.GetFormContentSize=function(){return this.node.getContentSize()},t.prototype.GetFormProperty=function(e){if(this._dataInfo.hasOwnProperty(e))return this._dataInfo[e];this.ErrLog("GetFormProperty not find:%s",e)},t.prototype.SetFormPosition=function(e){this.node.setPosition(e)},t.prototype.SetFormProperty=function(e,t){this._dataInfo.hasOwnProperty(e)?this._dataInfo[e]=t:this.ErrLog("\u8bbe\u7f6e\u754c\u9762\u5c5e\u6027\u627e\u4e0d\u5230key not find:%s",e)},t.prototype.SetWndFlyTo=function(e,t,n,o,i){void 0===i&&(i=0);var a={StartPos:t,EndPos:n,Time:o};this.WndRunAction(e,"MoveAction",a,i)},t.prototype.SetWndOpacity=function(e,t,n,o){void 0===o&&(o=0);var i={EndFade:t,Time:n};this.WndRunAction(e,"OpacityAction",i,o)},t.prototype.SetWndDelay=function(e,t,n){void 0===n&&(n=0);var o={DelayTime:t};this.WndRunAction(e,"DelayAction",o,n)},t.prototype.SetWndRotateTo=function(e,t,n,o){void 0===o&&(o=0);var i={Rotation:t,Time:n};this.WndRunAction(e,"RotateAction",i,o)},t.prototype.StopWndFly=function(e){var t=cc.find(e,this.node);t?t.stopActionByTag(11111):this.ErrLog("StopWndFly(%s) wndPath not find",e)},t.prototype.StopWndOpacity=function(e){var t=cc.find(e,this.node);t?t.stopActionByTag(22222):this.ErrLog("StopWndFly(%s) wndPath not find",e)},t.prototype.StopWndDelay=function(e){var t=cc.find(e,this.node);t?t.stopActionByTag(33333):this.ErrLog("StopWndDelay(%s) wndPath not find",e)},t.prototype.WndRunAction=function(e,t,n){var o=cc.find(e,this.node);if(o)if(o.stopActionByTag(11111),"MoveAction"==t){var i=n.StartPos,a=n.EndPos,r=n.Time;o.setPosition(i),(p=cc.sequence(cc.moveTo(r,a),cc.callFunc(this.OnRunActionEnd,this,"FlyWndEnd"))).setTag(11111),o.runAction(p)}else if("OpacityAction"==t){var s=n.EndFade;r=n.Time,(p=cc.sequence(cc.fadeTo(r,s),cc.callFunc(this.OnRunActionEnd,this,"OpacityWndEnd"))).setTag(11111),o.runAction(p)}else if("DelayAction"==t){var c=n.DelayTime;(p=cc.sequence(cc.delayTime(c),cc.callFunc(this.OnRunActionEnd,this,"DelayEnd"))).setTag(11111),o.runAction(p)}else{if("RotateAction"!=t)return void this.ErrLog("WndRunAction(%s) error",t);var p,l=n.Rotation;r=n.Time,(p=cc.sequence(cc.rotateBy(r,l),cc.callFunc(this.OnRunActionEnd,this,"RotateWndEnd"))).setTag(11111),o.runAction(p)}else this.ErrLog("WndRunAction(%s,%s) wndPath not find",e,t)},t.prototype.OnRunActionEnd=function(e,t){"FlyWndEnd"==t?this.FlyWnd_FlyEnd(e.name,e):"OpacityWndEnd"==t?this.OpacityWnd_End(e.name,e):"DelayEnd"==t?this.FlyWnd_DelayEnd(e.name,e):"RotateWndEnd"==t?this.RotateWnd_End(e.name,e):this.ErrLog("OnRunActionEnd useData:%s error",t)},t.prototype.FlyWnd_FlyEnd=function(){},t.prototype.OpacityWnd_End=function(){},t.prototype.FlyWnd_DelayEnd=function(){},t.prototype.RotateWnd_End=function(){},t.prototype.GetWndEffectPos=function(e,t,n){t||(t=d.default.EffectPosType_5);var o=e.getContentSize(),i=0,a=0;switch(t){case d.default.EffectPosType_1:i=-o.width/2,a=-o.height/2;break;case d.default.EffectPosType_2:i=0,a=-o.height/2;break;case d.default.EffectPosType_3:i=o.width/2,a=-o.height/2;break;case d.default.EffectPosType_4:i=-o.width/2,a=0;break;case d.default.EffectPosType_5:i=0,a=0;break;case d.default.EffectPosType_6:i=o.width/2,a=0;break;case d.default.EffectPosType_7:i=-o.width/2,a=o.height/2;break;case d.default.EffectPosType_8:i=0,a=o.height/2;break;case d.default.EffectPosType_9:i=o.width/2,a=o.height/2;break;case d.default.EffectPosType_10:var r=o.width/2,s=o.height/2;i=this.ComTool.RandInt(-r,r),a=this.ComTool.RandInt(-s,s)}return 2==n.length&&(i+=n[0],a+=n[1]),cc.v2(i,a)},t.prototype.RegEvent=function(e,t){this.EventFunAdapter.RegEvent(e,t)},t.prototype.RegSystemEvent=function(e,t){this.EventFunAdapter.RegSystemEvent(e,t)},t.prototype.RegBackEvent=function(e){this.EventFunAdapter.RegBackEvent(e)},t.prototype.RegRouterEvent=function(){this.EventFunAdapter.RegRouterEvent()},t.prototype.RegHttpEvent=function(e,t){this.EventFunAdapter.RegHttpEvent(e,t)},t.prototype.RegRoomEvent=function(e,t){this.EventFunAdapter.RegRoomEvent(e,t)},t.prototype.SimulateOnClick=function(e){var t=cc.find(e,this.node);if(t)if(t.getComponent(cc.Button)){var n=t.name;this.OnClick(n,t,"")}else this.ErrLog("SimulateOnClick(%s) not find cc.Button",e);else this.ErrLog("SimulateOnClick not find (%s)",e)},t.prototype.OnClick_Close=function(e){try{if(this._closeAction||this._closeAnimationState)return void this.WarnLog("OnClick_Close doing closeAction");e.currentTarget.getComponent("ButtonSound")||app.ComUtil().playBtnClick(),this.OnClick_Return()}catch(t){this.ErrLog("OnClick_Close:%s",t.stack)}},t.prototype.OnClick_BtnWnd=function(e,t){try{if(this._closeAction||this._closeAnimationState)return void this.ErrLog("OnClick_BtnWnd doing closeAction");var n=e.currentTarget,o=n.name;n.getComponent("ButtonSound")||app.ComUtil().playBtnClick();var i=n.getComponent("DependentClickEvent");if(i&&i.IsOutGamePop())return;if(this.ButtonRepeatDict.hasOwnProperty(o)){var a=Date.now();a-this.ButtonRepeatDict[o].LastTime>this.ButtonRepeatDict[o].RepeatTime?(this.OnClick(o,n,t),this.ButtonRepeatDict[o].LastTime=a):this.Log("nextTime is not to")}else this.OnClick(o,n,t)}catch(s){this.ErrLog("OnClick_BtnWnd:%s",s.stack),this.FormManager.DingDingMessage("OnClick_BtnWnd:"+this.JS_Name+","+s.message,s.stack)}},t.prototype.SetButtonRepeat=function(e,t){void 0===t&&(t=1e3);var n=this.GetWndNode(e);if(n){var o=n.name,i=t;this.ButtonRepeatDict[o]={LastTime:0,RepeatTime:i}}else this.ErrLog("SetButtonRepeat is not find wndPath",e)},t.prototype.OnClick_Toggle=function(e,t){try{if(this._closeAction||this._closeAnimationState)return void this.ErrLog("OnClick_Toggle doing closeAction");var n=e.node,o=n.name;n.getComponent("ButtonSound")||app.ComUtil().playBtnClick(),this.OnClick(o,n,t)}catch(i){this.ErrLog("OnClick_Toggle:%s",i.stack)}},t.prototype.OnClick_Form=function(e){try{if(this._closeAction||this._closeAnimationState)return void this.WarnLog("OnClick_Form doing closeAction");this.OnClickForm(e)}catch(t){this.ErrLog("OnClick_Form:%s",t.stack)}},t.prototype.OnClick_Return=function(){this.CloseForm()},t.prototype.WaitForConfirm=function(e,t,n,o,i,a){n||(n=u.ConfirmType.Confirm),app.ConfirmManager().ShowConfirm(n,e,t,o||this.OnConFirm,i||this.OnCancel,a||this)},t.prototype.OnConFirm=function(e,t){this.ErrLog("\u6ca1\u6709\u5b9e\u73b0 OnConFirm(%s,%s,%s)",e,t)},t.prototype.OnCancel=function(e,t){this.WarnLog("\u6ca1\u6709\u5b9e\u73b0 OnCancel(%s,%s,%s)",e,t)},t.prototype.OnCreateInit=function(){},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.OnUpdate=function(){},t.prototype.OnReload=function(){},t.prototype.OnClick=function(){},t.prototype.OnClickForm=function(){},t.prototype.OnKeyBoardEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},__decorate([p({tooltip:"\u663e\u793a\u754c\u9762\u52a8\u753b",type:cc.Enum(i)})],t.prototype,"ShowEffectType",void 0),__decorate([p({tooltip:"\u5173\u95ed\u754c\u9762\u52a8\u753b",type:cc.Enum(a)})],t.prototype,"CloseEffectType",void 0),__decorate([p({tooltip:"\u754c\u9762\u5c42\u7ea7//\u7f6e\u5e95\u754c\u9762\u5c42(UIFightTower)\nZorderLv0 = 0,\n//\u804a\u5929\u5c42(UIChat)\nZorderLv1 = 1,\n//\u73a9\u5bb6\u5934\u50cf\u5c42(UIPlayer)\nZorderLv2 = 2,\n//\u901a\u7528\u80cc\u666f\u5c42(UIResource)\nZorderLv3 = 3,\n//\u5e03\u9635\u5c42\nZorderLv4 = 4,\n//\u4e3b\u573a\u666f\u5de5\u5177\u5c42(UIMenu)\nZorderLv5 = 5,\n//\u6b63\u5e38\u754c\u9762\u5c42(\u591a\u6570\u754c\u9762)\nZorderLv6 = 6,\n//\u7f6e\u9876\u5c42(3\u7ea7\u754c\u9762\u4f7f\u7528\u5230,UICardPackFragSale)\nZorderLv7 = 7,\n//\u6a21\u6001\u5c42,\u6d88\u606f\u63d0\u793a\u5c42(UIMessage)\nZorderLv8 = 8,\n//debugTool\u754c\u9762\nZorderLv9 = 9,",type:cc.Enum(o)})],t.prototype,"ZorderLv",void 0),__decorate([p({type:cc.Prefab,tooltip:"\u754c\u9762\u80cc\u666f"})],t.prototype,"background",void 0),__decorate([p({tooltip:"\u70b9\u51fb\u80cc\u666f\u5173\u95ed\u754c\u9762",visible:function(){return null!=this.background}})],t.prototype,"closeForm",void 0),__decorate([p({tooltip:"\u6a21\u62df\u70b9\u51fb\u6309\u94ae\u5173\u95ed\u754c\u9762(window:esc,android:\u8fd4\u56de\u952e)"})],t.prototype,"buttonClose",void 0),__decorate([p({tooltip:"\u662f\u5426\u652f\u6301\u8def\u7531"})],t.prototype,"router",void 0),__decorate([p({tooltip:"\u624b\u673a\u7aef\u81ea\u5b9a\u4e49\u952e\u76d8\u4e8b\u4ef6\u76d1\u542c"})],t.prototype,"phoneKey",void 0),__decorate([p({tooltip:"\u754c\u9762\u5f00\u542f\u663e\u793a\u52a8\u4f5c\u65f6\u95f4(\u79d2)"})],t.prototype,"ShowFormActionSec",void 0),__decorate([p({tooltip:"\u754c\u9762\u5173\u95ed\u663e\u793a\u52a8\u4f5c\u65f6\u95f4(\u79d2)"})],t.prototype,"CloseFormActionSec",void 0),__decorate([p({tooltip:"\u8bf7\u6dfb\u52a0\u6253\u5f00\u52a8\u753b",type:cc.AnimationClip,visible:function(){return this.ShowEffectType==i.None}})],t.prototype,"OpenClip",void 0),__decorate([p({tooltip:"\u8bf7\u6dfb\u52a0\u5173\u95ed\u52a8\u753b",type:cc.AnimationClip,visible:function(){return this.CloseEffectType==a.None}})],t.prototype,"CloseClip",void 0),__decorate([c],t)}(l.default);n.default=f,t.exports=n,cc._RF.pop()},{"../../script/common/room_mode_tool":"room_mode_tool","../Define/ColorDefine":"ColorDefine","../Define/EffectPosTypeDefine":"EffectPosTypeDefine","../Define/GameEventDefine":"GameEventDefine","../Define/ShareDefine":"ShareDefine","./BaseComponent":"BaseComponent","./EventFunAdapter":"EventFunAdapter"}],BaseGameForm:[function(e,t){"use strict";cc._RF.push(t,"95145u+tbxNwpvTKk6DcBiC","BaseGameForm");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseGameForm=void 0;var o=e("../../Common/Base/BaseForm"),i=cc._decorator.ccclass,a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.OnFistOpenHelp()},t.prototype.OnFistOpenHelp=function(){var e=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().UserInfo.roomMode),t=app.LocalDataManager().GetConfigObject("FistGame");!e||t&&t.indexOf(e.GID)>-1||!e.Help||(!t&&(t=[]),t.push(e.GID),app.LocalDataManager().SetConfigObject("FistGame",t),this.OpenGameHelp())},t.prototype.OpenGameHelp=function(){var e=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().UserInfo.roomMode);e&&app.FormManager().ShowForm(e.Help,{bundle:e.BundleName})},__decorate([i],t)}(o.default);n.BaseGameForm=a,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm"}],BaseGameMgr:[function(e,t){"use strict";cc._RF.push(t,"70d218WM+9GZoWfxfot9L4V","BaseGameMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseGameMgr=void 0;var o=e("../Define/ShareDefine"),i=e("./BaseClass"),a=e("./EventFunAdapter"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DefaultBetGold=0,t.GameBetSizeLimit={min:0,max:0},t}return __extends(t,e),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="BaseGameMgr",this.gameId="",this.EventFunAdapter||(this.EventFunAdapter=new a.EventFunAdapter(this))},t.prototype.OnReload=function(){this.EventFunAdapter.RegisterEvent(),this.GameBetSizeLimit=app.GameConfigManager().GameBetSizeLimit(Number(this.gameId)),this.InitDefaultBetCount()},t.prototype.OnClear=function(){this.EventFunAdapter.UnRegisterEvent()},t.prototype.RegRoomEvent=function(e,t){this.EventFunAdapter.RegRoomEvent(e,t)},t.prototype.RegHttpEvent=function(e,t){this.EventFunAdapter.RegHttpEvent(e,t)},t.prototype.LeaveRoom=function(){this.gameId="",app.RoomManager().gameId="",app.UserManager().UserInfo.roomMode=0,app.GameManager().BackHallScene()},t.prototype.InitDefaultBetCount=function(){if(this.gameId.length){var e=app.UserManager().UserInfo.uid+"FistGameBetGold",t=app.LocalDataManager().GetConfigObject(e);t&&t[this.gameId]&&t[this.gameId]<app.UserManager().UserInfo.gold?this.DefaultBetGold=t[this.gameId]:(this.DefaultBetGold=this.GetDefaultBetCount(),this.SetDefaultBetGold(this.DefaultBetGold))}else this.ErrLog("InitDefaultBetCount Error.")},t.prototype.SetDefaultBetGold=function(e){this.DefaultBetGold=e;var t=app.UserManager().UserInfo.uid+"FistGameBetGold",n=app.LocalDataManager().GetConfigObject(t)||{};n[this.gameId]=this.DefaultBetGold,app.LocalDataManager().SetConfigObject(t,n)},t.prototype.OnFistOpenHelp=function(){var e=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().UserInfo.roomMode),t=app.LocalDataManager().GetConfigObject("FistGame");if(e&&!(t&&t.indexOf(e.GID)>-1)&&e.Help){var n={bundle:e.BundleName};app.FormManager().ShowForm(e.Help,n),t||(t=[]),t.push(e.GID),app.LocalDataManager().SetConfigObject("FistGame",t)}},Object.defineProperty(t.prototype,"GetDefaultBetGold",{get:function(){return this.DefaultBetGold},enumerable:!1,configurable:!0}),t.prototype.GetDefaultBetCount=function(){return 1},Object.defineProperty(t.prototype,"GetGameOfficialUrl",{get:function(){return app.GameConfigManager().GetGameOfficialUrl(Number(this.gameId))},enumerable:!1,configurable:!0}),t.prototype.ErrorCodeHint=function(e){if(e.code==o.HTTPERRORCODE.GOLD_NOT_ENOUGH)return!1;if(e.code==o.HTTPERRORCODE.LEAST_GOLD_NOT_ENOUGH){var t=app.GameConfigManager().GameBetLimit(app.UserManager().GetUserInfo.roomMode);return t&&app.SysNotifyManager().ShowToast("Error_Define_50014",[""+t]),!1}return e.code==o.HTTPERRORCODE.MIN_BET_LIMIT?(app.SysNotifyManager().ShowToast("UI_Game840_MinimumNum",[""+e.data]),!1):e.code==o.HTTPERRORCODE.MAX_BET_LIMIT?(app.SysNotifyManager().ShowToast("UI_Game840_MaximumNum",[""+e.data]),!1):1!=e.code},t}(i.BaseClass);n.BaseGameMgr=r,t.exports=n,cc._RF.pop()},{"../Define/ShareDefine":"ShareDefine","./BaseClass":"BaseClass","./EventFunAdapter":"EventFunAdapter"}],BaseHttpMgr:[function(e,t){"use strict";cc._RF.push(t,"44c57vzlOhB4ZAKgDBY46ry","BaseHttpMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseHttpMgr=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.Init.call(this,t),this.JS_Name="BaseHttpMgr"},t}(e("./BaseGameMgr").BaseGameMgr);n.BaseHttpMgr=o,t.exports=n,cc._RF.pop()},{"./BaseGameMgr":"BaseGameMgr"}],BaseHttpServerManager:[function(e,t){"use strict";cc._RF.push(t,"4c216x4NApPp5+3oBSpJ+hZ","BaseHttpServerManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseHttpServerManager=void 0;var o=e("../Define/EventWaitType"),i=e("../Base/Singleton"),a=e("../Define/ShareDefine"),r=new Map,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Emitter=new app.emitter,t.HadFailed=!1,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="BaseHttpServerManager",this.Log("Init"),this.HttpRequest=app.HttpRequest(),this.CurrentHostIndex=app.LocalDataManager().GetConfigProperty("ServerInfo","LastConnectedHostIndex")},t.prototype.RegNetPack=function(e,t,n){this.Emitter.on(e,t,n)},t.prototype.UnRegNetPack=function(e,t,n){this.Emitter.off(e,t,n)},t.prototype.SendHttpPack=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1),t||(t={}),this.ObserverFailedEvent(e)&&i&&r.set(e,2);var a,s=app.ClientConfigManager().GetGlobalConfig.hosts;this.HadFailed&&s.length>1?(this.HadFailed=!1,this.CurrentHostIndex=++this.CurrentHostIndex%s.length,a=s[this.CurrentHostIndex]):s.length>0?a=s[0]:this.ErrLog("Get Hosts error");var c=app.ClientConfigManager().GetGlobalConfig.scheme+"://"+a;n&&app.Client.OnEvent("ModalLayer",o.EventWaitType.OpenNet),this.NetLog("[SendHttp]:",c+e,t,"b-g"),this.HttpRequest.SendHttpRequest(c,e,"POST",t,this.OnReceiveHttpPack.bind(this),this.OnConnectHttpFail.bind(this))},t.prototype.OnReceiveHttpPack=function(e,t,n,i){var s;r.delete(t),app.Client.OnEvent("ModalLayer",o.EventWaitType.ReceiveNet);try{s=JSON.parse(n)}catch(l){return void this.ErrLog("OnReceiveHttpPack(%s) error:%s",t,n)}this.IsDevelopment()&&this.NetLog("[RecvHttp]:",e+t,JSON.parse(JSON.stringify(s)),"b-gb"),1==isgoServer&&(-1==s.code&&(s.code=1),s.message&&(s.msg=s.message));var c=s.code;if("/config/commonConfig"==t)s.data.current_sys_time=s.time;else if("/user/getWithdrawal"==t){var p={};p.withdrawalList=s.data,p.describe=s.describe,s.data=p}if(c){if(this.ErrLog("OnReceiveHttpPack HttpCode:",t,s),c==a.ReqFailCode.TokenInviable)return app.LoginManager().RemoveCurrentUser(),void app.GameManager().BackLoginScene();c!=a.ReqFailCode.IP_Limit&&c!=a.ReqFailCode.LOGIN_FAILED_VERIFICATION&&c!=a.ReqFailCode.CPFverify&&app.SysNotifyManager().ShowToast(s.msg),this.ObserverErrorEvent(t)&&this.Emitter.emit(t,s,i)}else try{this.Emitter.emit(t,s.data,i)}catch(h){return void this.ErrLog("OnReceiveHttpPack(%s)httpResText:%s, error:%s",t,n,h)}},t.prototype.OnConnectHttpFail=function(e,t,n,i,a){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return app.Client.OnEvent("ModalLayer",o.EventWaitType.ReceiveNet),this.ErrLog("OnConnectHttpFail(%s%s)",e,t),this.HadFailed=!0,(n=r.get(t))>0?(r.set(t,--n),[4,new Promise(function(e){return setTimeout(e,1e3)})]):[3,2];case 1:return i.sent(),this.SendHttpPack(t,a,!0,!1),[2];case 2:try{this.ObserverFailedEvent(t)?this.Emitter.emit(t,null,a):app.SysNotifyManager().ShowToast("UI.System_44")}catch(s){return this.ErrLog("OnConnectHttpFail Emit (%s%s)",e,t),[2]}return[2]}})})},t.prototype.SendHttpCB=function(e,t,n,i){var r=this;void 0===t&&(t={}),void 0===i&&(i=!1);var s=app.LanguageManager().GetLocalLanguage(!0);t.language=s;var c=app.ClientConfigManager().GetGlobalConfig.hosts,p=app.ClientConfigManager().GetGlobalConfig.scheme+"://"+c[this.CurrentHostIndex];i&&app.Client.OnEvent("ModalLayer",o.EventWaitType.OpenNet),this.NetLog("[SendHttp]:",p+e,t,"b-g"),this.HttpRequest.SendHttpRequest(p,e,"POST",t,function(e,t,s){var c;i&&app.Client.OnEvent("ModalLayer",o.EventWaitType.ReceiveNet);try{c=JSON.parse(s)}catch(p){return void r.ErrLog("OnReceiveHttpPack(%s) error:%s",t,s)}if(r.IsDevelopment()&&r.NetLog("[RecvHttp]:",e+t,JSON.parse(JSON.stringify(c)),"b-gb"),c.code==a.ReqFailCode.TokenInviable)return app.GameManager().BackLoginScene(),void r.Log("TokenInviable");try{n&&n(c)}catch(l){return void r.ErrLog("SendHttpCB (%s%s)",e,t)}},function(){app.Client.OnEvent("ModalLayer",o.EventWaitType.ReceiveNet),app.SysNotifyManager().ShowToast("UI.System_44")})},t}(i.Singleton);n.BaseHttpServerManager=s,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/EventWaitType":"EventWaitType","../Define/ShareDefine":"ShareDefine"}],BaseNativeMgr:[function(e,t){"use strict";cc._RF.push(t,"84bc7ffVM5KpYgbbksRrGbu","BaseNativeMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseNativeMgr=n.DataType=void 0;var o,i,a=e("../../Common/Base/Singleton");(i=o=n.DataType||(n.DataType={})).Empty="",i.Number="number",i.String="string",i.Boolean="boolean";var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getDataTypeString=function(e){return e==o.String?"Ljava/lang/String;":e==o.Number?"I":e==o.Boolean?"Z":"V"},t.prototype.callJava=function(e,t,n){if(cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative){t||(t={});var i=JSON.stringify(t),a=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/App","callJava","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",e,i);if(n==o.Number)return parseFloat(a);if(n==o.Boolean)return"true"===a;if(n==o.String)return a}else if(cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.platform==cc.sys.MOBILE_BROWSER&&(i=JSON.stringify(t),app.ComTool().AndroidHybirdPlatform())){if(a=android.callJava(e,i),n==o.Number)return parseFloat(a);if(n==o.Boolean)return"true"===a;if(n==o.String)return a}},t.prototype.callScript=function(e,t){try{this[e]?this[e](t):this.ErrLog("callScript error 1, "+e+", "+t)}catch(n){this.ErrLog("callScript error 2",n)}},t}(a.Singleton);n.BaseNativeMgr=r,t.exports=n,cc._RF.pop()},{"../../Common/Base/Singleton":"Singleton"}],BaseRoomDefine:[function(e,t){"use strict";cc._RF.push(t,"107d3icjAhJZ55KJDbsxd89","BaseRoomDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BaseRoomRouterType=n.BaseRoomDefine=void 0;var o,i=function(){function e(){}return e.UserAuth="gate.user.auth",e.UserKick="gate.user.kick",e}();n.BaseRoomDefine=i,(o=n.BaseRoomRouterType||(n.BaseRoomRouterType={}))[o.JoinRoom=0]="JoinRoom",o[o.GetRoomInfo=1]="GetRoomInfo",o[o.LeaveRoom=2]="LeaveRoom",t.exports=n,cc._RF.pop()},{}],BaseScene:[function(e,t){"use strict";cc._RF.push(t,"45801nNOeBMlbiC4EAlZ2pP","BaseScene");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../script/common/Orientation"),i=e("../Define/FormDefine"),a=e("../Define/ShareDefine"),r=e("./UIBaseComponent"),s=cc._decorator.ccclass,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneType=a.SceneType.None,t}return __extends(t,e),t.prototype.OnEnable=function(){app.Client.GetUILayer();var e=app.SysDataManager().GetTableDict(i.FormDefine.SceneInfo);if(this.sceneType){var t=e[a.SceneType[this.sceneType]].DefaultForm.slice();app.FormManager().CreateFormList(t)}},t.prototype.setOrientationVertical=function(){var e=this.node.getComponent(cc.Canvas);e&&o.default.setOrientation(e,"V")},t.prototype.setOrientationHorizon=function(){var e=this.node.getComponent(cc.Canvas);e&&o.default.setOrientation(e,"H")},t.prototype.onDestroy=function(){app.FormManager().DestroyAllForm()},__decorate([s],t)}(r.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../script/common/Orientation":"Orientation","../Define/FormDefine":"FormDefine","../Define/ShareDefine":"ShareDefine","./UIBaseComponent":"UIBaseComponent"}],BaseSingleGameHistory:[function(e,t){"use strict";cc._RF.push(t,"dbbbf9t6u5CXqwRuv9pgVc9","BaseSingleGameHistory");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.noDataNode=null,t.allContent=null,t.item=null,t.itemNum=20,t}return __extends(t,e),t.prototype.init=function(e){if(this.noDataNode.active=0==e.length,this.allContent.active=0!=e.length,this.allContent.removeAllChildren(),0!=e.length)for(var t=0;t<e.length;t++){if(t>this.itemNum-1)return;var n=cc.instantiate(this.item);this.itemInfo(n,e[t]),this.allContent.addChild(n)}},t.prototype.BackPushData=function(e){var t=null,n=1,o=this.allContent.children[0];o&&(n=o.zIndex-this.itemNum),this.allContent.children.length>=this.itemNum?(t=this.allContent.children[this.itemNum-1]).zIndex=n:((t=cc.instantiate(this.item)).zIndex=n,this.allContent.addChild(t),this.noDataNode.active=!1,this.allContent.active=!0),this.itemInfo(t,e)},t.prototype.itemInfo=function(e){e.active=!0},__decorate([r(cc.Node)],t.prototype,"noDataNode",void 0),__decorate([r(cc.Node)],t.prototype,"allContent",void 0),__decorate([r(cc.Node)],t.prototype,"item",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent"}],BaseWebviewScene:[function(e,t){"use strict";cc._RF.push(t,"df930kGUqdPlaESK67GM/E9","BaseWebviewScene");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/TrackEventName"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.webView=null,t.newWebView=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.Log("BaseWebviewScene onLoad"),this.RegSystemEvent("e_back_hall",this.onBtnBack),this.RegSystemEvent(i.GameEventDefine.GAME_EVENT_SHOW,this.onGameEventShow)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.EventTrackManager().LogEvent(a.default.ENTER_GAME,{gid:app.ExternGameManager().Track_gid}),this.newWebView=cc.instantiate(this.webView.node),this.newWebView.active=!0,this.node.addChild(this.newWebView),this.newWebView.on("loaded",this.onWebviewLoaded,this),this.renderVideoGame(),this.ChangeWebViewDivTimer()},t.prototype.onGameEventShow=function(){app.SoundManager().PauseAll()},t.prototype.onWebviewLoaded=function(){var e=cc.winSize,t=this.webView.node;t.x=0,t.width=e.width,t.height=e.height,app.SoundManager().PauseAll(),this.Log("game landscape onWebviewLoaded")},t.prototype.renderVideoGame=function(){var e=app.ExternGameManager().GetExternGameUrl;this.Log("game url = "+e),this.newWebView.getComponent(cc.WebView).url=e},t.prototype.onBtnBack=function(){this.leaveGame()},t.prototype.leaveGame=function(){this.newWebView.destroy(),app.GameManager().BackHallScene()},t.prototype.ChangeWebViewDivTimer=function(){var e=this;cc.sys.isBrowser&&(this.schedule(this.ChangeWebViewDiv,.1),this.scheduleOnce(function(){e.unschedule(e.ChangeWebViewDiv)},10))},t.prototype.ChangeWebViewDiv=function(){try{var e=this.newWebView.getComponent(cc.WebView)._impl;e._div&&(e._div.style.width="100%",e._div.style.height="100%",e._div.style.transform="",e._div.style["-webkit-transform"]="")}catch(t){this.ErrLog("ChangeWebViewDiv  Error")}},__decorate([c(cc.WebView)],t.prototype,"webView",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/TrackEventName":"TrackEventName"}],BetBonusManager:[function(e,t){"use strict";cc._RF.push(t,"b7cdftvNJxAerBuXX8ymQcu","BetBonusManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BetBonusManager=void 0;var o=e("../../Base/Singleton"),i=e("../../Define/GameEventDefine"),a=e("../../Define/HttpServerDefine"),r=e("../../Define/ShareDefine"),s=e("../../Define/UINameDefine"),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.BetBonusInfo=null,e.BetPercentList=null,e.NewBetPercentList=null,e.BetBonusVIPPerInfo={},e.betHistoryList=null,e}return __extends(n,t),n.prototype.Init=function(){this.JS_Name="BetBonusManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.UNABLE_BETLIST,this.onUnableBet,this),app.HttpServerManager().RegNetPack(a.HttpAPI.BETBONUSINFO,this.onBetBonusInfo,this),app.HttpServerManager().RegNetPack(a.HttpAPI.CLEANBETV2,this.onCleanBet,this),app.HttpServerManager().RegNetPack(a.HttpAPI.BET_PERCENTLIST,this.onPercentList,this),app.HttpServerManager().RegNetPack(a.HttpAPI.NEW_PERCENTLIST,this.onNewPercentList,this),app.HttpServerManager().RegNetPack(a.HttpAPI.New_CleanBetList,this.onCleanBetHistoryList,this),app.Client.RegEvent(i.GameEventDefine.LOAD_HALL_SUCCESS,this.OnLoadHallSuccess,this),app.Client.RegEvent(i.GameEventDefine.SINGLE_CLEARBAT,this.GetBackHallBetBonus,this)},n.prototype.RequestBetBonusInfo=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.BETBONUSINFO,{token:app.UserManager().GetUserInfo.token,platform:1})},n.prototype.onBetBonusInfo=function(t){if(isgoServer){(function(e){for(var t in e)if(null==e[t])e[t]=[];else if(e[t]instanceof Object)for(var n in e[t])null==e[t][n]&&(e[t][n]=[])})(t.list);var n=e("Http_info");for(var o in n)t[o]||(t[o]=n[o])}this.BetBonusInfo=t,app.Client.OnEvent(i.GameEventDefine.BETBONUSINFO,t)},Object.defineProperty(n.prototype,"GetBetBonusInfo",{get:function(){return this.BetBonusInfo},enumerable:!1,configurable:!0}),n.prototype.GetBetGold=function(){var e=0;if(!this.BetBonusInfo)return e;for(var t=0;t<this.BetBonusInfo.list.length;t++)this.BetBonusInfo.list[t].list.forEach(function(t){e+=Number(t.gold)});return e},n.prototype.GeBetVIPLvPercent=function(){if(!this.BetBonusInfo)return this.BetBonusVIPPerInfo;var e=app.UserManager().GetUserInfo.vip_id,t=app.UserManager().GetUserInfo.vip_id+1;0==app.UserManager().UserInfo.is_keep_level&&(e=1,t=app.UserManager().GetUserInfo.vip_id);for(var n=0;n<this.BetBonusInfo.list.length;n++){var o=this.BetBonusInfo.list[n],i=this.BetBonusInfo.vip_conf[e],a="0.00%";if(i){var r=i[o.type_id];a=app.MathUtil().multiply(Number(r),100)+"%"}var s=this.BetBonusInfo.vip_conf[t],c="0.00%";if(s){var p=s[o.type_id];c=app.MathUtil().multiply(Number(p),100)+"%"}else c="max";this.BetBonusVIPPerInfo[n]={name:o.name,nextLevel:c,current:a}}return this.BetBonusVIPPerInfo},n.prototype.RequestUnableBet=function(e,t){app.HttpServerManager().SendHttpPack(a.HttpAPI.UNABLE_BETLIST,{token:app.UserManager().GetUserInfo.token,page:e,count:t})},n.prototype.onUnableBet=function(e){app.Client.OnEvent(i.GameEventDefine.UNABLE_BETLIST,e)},n.prototype.RequestCleanBet=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.CLEANBETV2,{token:app.UserManager().GetUserInfo.token})},n.prototype.onCleanBet=function(e){this.RequestBetBonusInfo(),app.GoldRewardManager().FormGoldReward({gold:e.gold,source:app.i18n.t("UI_Player_Vip_WashCode"),send_type:11}),app.RedDotManager().updateSingleData({type:r.RedDotStr.clean_bet,bShow:!1}),app.LocalDataManager().Remove(app.UserManager().UserInfo.uid+"ShowBetList"),app.Client.OnEvent(i.GameEventDefine.CLEANBETV2)},n.prototype.RequestNewPercentList=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.NEW_PERCENTLIST,{token:app.UserManager().GetUserInfo.token})},n.prototype.onNewPercentList=function(e){this.NewBetPercentList=e,app.Client.OnEvent(i.GameEventDefine.NewBetPercentList)},Object.defineProperty(n.prototype,"getNewBetPercentList",{get:function(){return this.NewBetPercentList},enumerable:!1,configurable:!0}),n.prototype.GetNewPerListItemInfo=function(e,t){if(this.NewBetPercentList){var n=this.NewBetPercentList.list[""+e];if(n)for(var o=0;o<n.length;o++){var i=n[o];if(t==o)return i.percent}}return""},n.prototype.RequestPercentList=function(e,t){app.HttpServerManager().SendHttpPack(a.HttpAPI.BET_PERCENTLIST,{token:app.UserManager().GetUserInfo.token,type:e,type_id:t})},n.prototype.onPercentList=function(e){this.BetPercentList=e,app.Client.OnEvent(i.GameEventDefine.BetPercentList)},Object.defineProperty(n.prototype,"getBetPercentList",{get:function(){return this.BetPercentList},enumerable:!1,configurable:!0}),n.prototype.RequestCleanBetHistoryList=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.New_CleanBetList,{token:app.UserManager().GetUserInfo.token,limit:e})},n.prototype.onCleanBetHistoryList=function(e){this.betHistoryList=e,this.betHistoryList.title.splice(0,1),app.Client.OnEvent(i.GameEventDefine.New_CleanBetList)},Object.defineProperty(n.prototype,"GetBetHistoryList",{get:function(){return this.betHistoryList},enumerable:!1,configurable:!0}),n.prototype.OnLoadHallSuccess=function(){app.UserManager().getIsOfficialAccount()&&app.GameConfigManager().GetGameConfig().auto_clean_bet_switch&&!app.UserManager().GetUserInfo.day_first_login&&this.RequestCleanBet()},n.prototype.GetBackHallBetBonus=function(){if(!app.UserManager().getIsOfficialAccount()||app.GameConfigManager().GetGameConfig().auto_clean_bet_switch||!app.FormManager().IsFormShow(s.UINameDefine.UIHall))return!1;var e=app.RedDotManager().ShowRedDotDataResult;if(e){var t=e[r.RedDotEnum[5]];if(t&&t.is_show&&t.is_show)return!!this.getLocaldataShowBet()&&(app.FormManager().EnqueueForm({formName:s.UINameDefine.UIBetBonusGold,key:"hall",argumentsList:[{type:r.SelTypeNode.BetBonus}]}),!0)}return!1},n.prototype.getLocaldataShowBet=function(){var e=app.GameConfigManager().GetGameConfig().bet_pop_up_config.split(","),t=app.RedDotManager().ShowRedDotDataResult,n=0;if(t&&e){for(var o=t[r.RedDotEnum[5]].value,i=e.length-1;i>=0;i--){var a=e[i];if(o>=Number(a)){n=i;break}}var s=app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"ShowBetList");return!(null!=s&&s>=n||(app.LocalDataManager().SetConfigObject(app.UserManager().UserInfo.uid+"ShowBetList",n),0))}return!1},n}(o.Singleton);n.BetBonusManager=c,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine","../../Define/UINameDefine":"UINameDefine",Http_info:void 0}],BundleConfig:[function(e,t){"use strict";cc._RF.push(t,"9ea58AcjxNHvpOWXwrzVRZm","BundleConfig");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.BundleNames=o.Config=void 0,(n=o.Config||(o.Config={})).assetBundle={},n.isSkipCheckUpdate=!1,n.TEST_HOT_UPDATE_URL_ROOT="http://192.168.1.210/hotupdate",n.BUNDLE_HALL="hall",o.BundleNames={TP:"zhajinhua",RUMMY:"Game210",BCBM:"car",LHD:"DragonTiger",HHDZ:"honghei",SHZ:"shuihuzhuan",LUDO:"ludo",Game30:"Game30",TIENLEN:"tienlen",toubao:"toubao",LUNPAN:"lunpan",SLOT777:"777slot",SLOT2_777:"777_slot2",BAODIAN:"baodian",CRASH2:"crash2",SHIJIEBEI:"shijiebei",LROLLER:"LuckyRoller",Roulette:"Roulette",ABgame:"ABgame",Baccarat:"Baccarat",MINES:"MINES",AB_Classis:"ABjingdian",Dice:"Dice",Game620:"Game620",Game650:"Game650",Game700:"Game700",Game730:"Game730",Game750:"Game750",Game840:"Game840",Game850:"Game850",Game860:"Game860",Game890:"Game890",Game900:"Game900",Game910:"Game910",Game920:"Game920",Game970:"Game970",Game1050:"Game1050",Game1051:"Game1051",Game1052:"Game1052",Game1053:"Game1053",Game1054:"Game1054"},t.exports=o,cc._RF.pop()},{}],BundleManager:[function(e,t){"use strict";cc._RF.push(t,"c71a18LELNCyYiCHB4moalf","BundleManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BundleManager=n.ResourceCacheData=n.ResourceInfo=n.ResourceType=n.ResourceCacheStatus=void 0;var o,i,a,r=e("./EventDefine"),s=e("./EventListener"),c=e("./BundleConfig"),p=e("./BundleUpdate"),l=e("../Define/FormDefine"),h=e("../Define/GameEventDefine");(a=o=n.ResourceCacheStatus||(n.ResourceCacheStatus={}))[a.NONE=0]="NONE",a[a.WAITTING_FOR_RELEASE=1]="WAITTING_FOR_RELEASE",function(e){e[e.Local=0]="Local",e[e.Remote=1]="Remote"}(i=n.ResourceType||(n.ResourceType={}));var d=function(){this.url="",this.type=null,this.data=null,this.assetUrl="",this.retain=!1,this.bundle=null,this.resourceType=i.Local};n.ResourceInfo=d;var u=function(){function e(){this.isLoaded=!1,this.data=null,this.info=new d,this.status=o.NONE,this.getCb=[],this.finishCb=[]}return e.prototype.doGet=function(e){for(var t=0;t<this.getCb.length;t++)this.getCb[t]&&this.getCb[t](e);this.getCb=[]},e.prototype.doFinish=function(e){for(var t=0;t<this.finishCb.length;t++)this.finishCb[t]&&this.finishCb[t](e);this.finishCb=[]},Object.defineProperty(e.prototype,"isInvalid",{get:function(){return this.isLoaded&&this.data&&!cc.isValid(this.data)},enumerable:!1,configurable:!0}),e}();n.ResourceCacheData=u,function(){function e(e){this._caches=new Map,this.name="unknown",this.name=e}e.prototype.print=function(){var e=[],t=[];this._caches.forEach(function(n,o){var i={url:o,data:{url:n.info.url,isLoaded:n.isLoaded,isValid:cc.isValid(n.data),assetType:cc.js.getClassName(n.info.type),data:n.data?cc.js.getClassName(n.data):null,status:n.status}};n.isLoaded&&n.data&&!cc.isValid(n.data)?t.push(i):e.push(i)}),e.length>0&&(cc.log("----------- Current valid caches -----------"),cc.log(JSON.stringify(e))),t.length>0&&(cc.log("----------- Current invalid caches -----------"),cc.log(JSON.stringify(t)))},e.prototype.get=function(e,t){if(this._caches.has(e)){var n=this._caches.get(e);return t&&n.isInvalid?(cc.warn("\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff0c\u4f46\u5df2\u7ecf\u88ab\u91ca\u653e , \u91cd\u65b0\u52a0\u8f7d\u8d44\u6e90 : "+e),this.remove(e),null):this._caches.get(e)}return null},e.prototype.set=function(e,t){this._caches.set(e,t)},e.prototype.remove=function(e){return this._caches.delete(e)},e.prototype.removeUnuseCaches=function(){var e=this;this._caches.forEach(function(t,n){t.data&&0==t.data.refCount&&e._caches.delete(n)})},Object.defineProperty(e.prototype,"size",{get:function(){return this._caches.size},enumerable:!1,configurable:!0})}();var _=function(){function e(){this.curBundle=null,this.isLoading=!1,this.loadedBundle=[],this._bundles=new Map}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new e)},enumerable:!1,configurable:!0}),e.getBundle=function(e){return e?"string"==typeof e?cc.assetManager.getBundle(e):e:null},e.prototype.getBundleName=function(e){return"string"==typeof e?e:e?e.name:null},e.prototype.removeBundle=function(t){var n=e.getBundle(t);n&&(this.removeBundleCache(t),n.releaseAll(),cc.assetManager.removeBundle(n))},e.prototype.removeBundleCache=function(e){var t=this.getBundleName(e);t&&this._bundles.has(t)&&this._bundles.delete(t)},e.prototype._removeUnuseCaches=function(){this._bundles.forEach(function(e){e&&e.removeUnuseCaches()})},e.prototype.removeLoadedBundle=function(){var e=this;this.loadedBundle.forEach(function(t){e.removeBundle(t)}),this.loadedBundle=[]},e.prototype.removeLoadedGamesBundle=function(){for(var e=this.loadedBundle.length;e--;)this.loadedBundle[e]!=c.Config.BUNDLE_HALL&&(this.removeBundle(this.loadedBundle[e]),this.loadedBundle.splice(e,1))},e.prototype.checkCondition=function(){return this.isLoading?(app.SysNotifyManager().ShowToast(app.i18n.t("SC_goldRefreshLoading")+"..."),cc.log("The game is being updated, please wait"),!1):!(!app.GameConfigManager().GetGameConfig().hot_update_url&&cc.sys.isNative&&(app.SysNotifyManager().ShowToast("download url error"),1))},e.prototype.enterBundle=function(e,t){if(!this.checkCondition)return!1;var n=app.RoomManager().GetRoomModeInfoByRoomMode(e);if(n){var o=n.BundleName,i=new p.BundleConfig(e,o,o,t);this.curBundle=i,this.isLoading=!0,p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle]||(p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle]=i);var a=p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle];return this.checkUpdate(a),!0}app.SysNotifyManager().ShowToast("Get game config error")},e.prototype.enterCommonBundle=function(e,t){if(!this.checkCondition())return!1;var n=new p.BundleConfig(0,e,e,t,r.default.ENTER_GAME_COMMON);this.curBundle=n,this.isLoading=!0,p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle]||(p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle]=n);var o=p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle];return this.checkUpdate(o),!0},e.prototype.onGameReady=function(){cc.systemEvent.emit(this.curBundle.event,this.curBundle)},e.prototype.checkUpdate=function(e){var t=this;cc.log("Detect update information:"+e.name+"("+e.bundle+")"),s.default.Inst.removeEventListener(r.default.HOTUPDATE_DOWNLOAD,this.onDownload,this),p.BundleHotUpdate.checkGameUpdate(this.curBundle.bundle,function(n,o){if(n==p.AssetManagerCode.NEW_VERSION_FOUND)s.default.Inst.addEventListener(r.default.HOTUPDATE_DOWNLOAD,t.onDownload,t),cc.log("Detected"+e.name+"("+e.bundle+")There is a new version"),e.isNeedPrompt?cc.log("state=>"+o+" versionInfo=>"+e.name):p.BundleHotUpdate.hotUpdate();else if(o==p.AssetManagerState.TRY_DOWNLOAD_FAILED_ASSETS)s.default.Inst.addEventListener(r.default.HOTUPDATE_DOWNLOAD,t.onDownload,t),cc.log("The resource failed to download before attempting to redownload"),e.isNeedPrompt?cc.log("state=>"+o+" versionInfo=>"+e.name):p.BundleHotUpdate.downloadFailedAssets();else if(n==p.AssetManagerCode.ALREADY_UP_TO_DATE)t.onLoadBundle();else if(n==p.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST||n==p.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST||n==p.AssetManagerCode.ERROR_PARSE_MANIFEST){t.loadFinish(!0);var i="version manifest error download!";n==p.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST?i="version manifest not found":n==p.AssetManagerCode.ERROR_PARSE_MANIFEST&&(i="version manifest error parse"),app.SysNotifyManager().ShowToast(i)}else n==p.AssetManagerCode.CHECKING?cc.log("Detecting updates!!"):(cc.log("Detects the update of the current state code : "+n+" state : "+o),t.loadFinish())})},e.prototype.onLoadBundle=function(){var t=this;cc.log("updateGame : "+this.curBundle.bundle);var n=p.BundleHotUpdate.bundlesConfig[this.curBundle.bundle];e.loadBundle(n.bundle,function(e){if(e)return t.loadFinish(!0),cc.error("load bundle : "+n.bundle+" fail !!!",e),void app.SysNotifyManager().ShowToast("Update "+n.name+" fail");cc.log("load bundle : "+n.bundle+" success !!!"),t.GetLoadedBundle(n.bundle)||t.loadedBundle.push(n.bundle),app.SubGameLoadManager().LoadSubGameForm(n.bundle).then(function(){t.loadFinish(),t.onGameReady()})})},e.prototype.GetLoadedBundle=function(e){return this.loadedBundle.indexOf(e)>-1},e.prototype.onDownload=function(e){var t=0,n=p.BundleHotUpdate.getBundleName(this.curBundle.bundle);e.code==p.AssetManagerCode.UPDATE_PROGRESSION?(cc.log(JSON.stringify(e)+"\u4e0b\u8f7d\u66f4\u65b0\u8fdb\u5ea6"+JSON.stringify(n)),t=e.percent==Number.NaN?0:e.percent,cc.systemEvent.emit(r.default.DOWNLOAD_PROGRESS,{progress:t,config:n})):e.code==p.AssetManagerCode.ALREADY_UP_TO_DATE?(t=1,cc.systemEvent.emit(r.default.DOWNLOAD_PROGRESS,{progress:t,config:n})):e.code==p.AssetManagerCode.UPDATE_FINISHED?(cc.sys.localStorage.setItem(n.name,1),t=1.1,cc.log("update"+n.name+"Success"),cc.systemEvent.emit(r.default.DOWNLOAD_PROGRESS,{progress:t,config:n}),this.onLoadBundle()):e.code!=p.AssetManagerCode.UPDATE_FAILED&&e.code!=p.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST&&e.code!=p.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST&&e.code!=p.AssetManagerCode.ERROR_PARSE_MANIFEST&&e.code!=p.AssetManagerCode.ERROR_DECOMPRESS||(t=-1,this.loadFinish(!0),cc.error("\u66f4\u65b0"+n.name+"\u5931\u8d25"),cc.systemEvent.emit(r.default.DOWNLOAD_PROGRESS,{progress:t,config:n}))},e.prototype.loadFinish=function(e){void 0===e&&(e=!1),this.isLoading=!1,e&&app.Client.OnEvent(h.GameEventDefine.GAME_LOADING_FAILED)},e.loadBundle=function(e,t){cc.assetManager.loadBundle(e,t)},e.LoadAssets=function(e,t,n){return app.ControlManager().CreateBundleLoadPromise(t,e,n)},e.ReleaseAssets=function(t,n){var o=e.getBundle(t);o&&o.release(n)},e.CreateUINode=function(t){var n=app.SysDataManager().GetTableDict(l.FormDefine.Form)[t],o=n.FormPath;return new Promise(function(t,i){e.LoadAssets(o,n.bundleName,cc.Prefab).then(function(e){var n=cc.instantiate(e);t(n)}).catch(function(e){return i(e)})})},e._instance=null,e}();n.BundleManager=_,t.exports=n,cc._RF.pop()},{"../Define/FormDefine":"FormDefine","../Define/GameEventDefine":"GameEventDefine","./BundleConfig":"BundleConfig","./BundleUpdate":"BundleUpdate","./EventDefine":"EventDefine","./EventListener":"EventListener"}],BundleUpdate:[function(e,t){"use strict";cc._RF.push(t,"0a011L2g4REDqcAJ8I2nBUY","BundleUpdate");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.BundleHotUpdate=n.BundleConfig=n.AssetManagerState=n.AssetManagerCode=void 0;var o,i,a,r=e("./EventDefine"),s=e("./EventListener"),c=e("./BundleConfig"),p=e("../../script/common/room_mode_tool");(a=o=n.AssetManagerCode||(n.AssetManagerCode={}))[a.ERROR_NO_LOCAL_MANIFEST=0]="ERROR_NO_LOCAL_MANIFEST",a[a.ERROR_DOWNLOAD_MANIFEST=1]="ERROR_DOWNLOAD_MANIFEST",a[a.ERROR_PARSE_MANIFEST=2]="ERROR_PARSE_MANIFEST",a[a.NEW_VERSION_FOUND=3]="NEW_VERSION_FOUND",a[a.ALREADY_UP_TO_DATE=4]="ALREADY_UP_TO_DATE",a[a.UPDATE_PROGRESSION=5]="UPDATE_PROGRESSION",a[a.ASSET_UPDATED=6]="ASSET_UPDATED",a[a.ERROR_UPDATING=7]="ERROR_UPDATING",a[a.UPDATE_FINISHED=8]="UPDATE_FINISHED",a[a.UPDATE_FAILED=9]="UPDATE_FAILED",a[a.ERROR_DECOMPRESS=10]="ERROR_DECOMPRESS",a[a.CHECKING=11]="CHECKING",function(e){e[e.UNINITED=0]="UNINITED",e[e.UNCHECKED=1]="UNCHECKED",e[e.PREDOWNLOAD_VERSION=2]="PREDOWNLOAD_VERSION",e[e.DOWNLOADING_VERSION=3]="DOWNLOADING_VERSION",e[e.VERSION_LOADED=4]="VERSION_LOADED",e[e.PREDOWNLOAD_MANIFEST=5]="PREDOWNLOAD_MANIFEST",e[e.DOWNLOADING_MANIFEST=6]="DOWNLOADING_MANIFEST",e[e.MANIFEST_LOADED=7]="MANIFEST_LOADED",e[e.NEED_UPDATE=8]="NEED_UPDATE",e[e.READY_TO_UPDATE=9]="READY_TO_UPDATE",e[e.UPDATING=10]="UPDATING",e[e.UNZIPPING=11]="UNZIPPING",e[e.UP_TO_DATE=12]="UP_TO_DATE",e[e.FAIL_TO_UPDATE=13]="FAIL_TO_UPDATE",e[e.TRY_DOWNLOAD_FAILED_ASSETS=14]="TRY_DOWNLOAD_FAILED_ASSETS"}(i=n.AssetManagerState||(n.AssetManagerState={})),n.BundleConfig=function(e,t,n,o,i,a){void 0===a&&(a=!1),this.roomMode=p.RoomMode.HALL,this.bundle="",this.name="",this.event=r.default.ENTER_GAME,this.isNeedPrompt=!1,this.customData=null,this.roomMode=e,this.name=t,this.bundle=n,this.isNeedPrompt=a,this.customData=o,i&&(this.event=i)};var l=cc._decorator,h=l.ccclass,d=(l.property,function(){function e(){this.manifestRoot="manifest/",this.storagePath="",this.updating=!1,this._projectManifest=null,this.checkCallback=null,this.bundlesConfig={},this.assetsManagers={},this.currentAssetsManager=null,this._hotUpdateUrls={}}return Object.defineProperty(e.prototype,"commonHotUpdateUrl",{get:function(){var e=app.ClientConfigManager().GetGlobalConfig.packageUrl;return e.length>0?e:this.projectManifest.packageUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"projectManifest",{get:function(){return this._projectManifest},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hallProjectMainfest",{get:function(){return this.manifestRoot+"project.manifest"},enumerable:!1,configurable:!0}),e.prototype.getHotUpdateUrl=function(){var e=app.GameConfigManager().GetGameConfig().hot_update_url;return e&&""!=e?("/"!=e[e.length-1]&&(e+="/"),e):""},e.prototype.getBundleName=function(e){return this.bundlesConfig[e]},e.prototype.destroyAssetsManager=function(e){void 0===e&&(e="HALL"),this.assetsManagers[e]&&(cc.log("destroyAssetsManager : "+e),this.currentAssetsManager=null,delete this.assetsManagers[e])},e.prototype.getAssetsManager=function(e){return void 0===e&&(e="HALL"),this.assetsManagers[e],this.assetsManagers[e]},e.prototype.isTryDownloadFailedAssets=function(){return!(!this.currentAssetsManager||this.currentAssetsManager.manager.getState()!=i.FAIL_TO_UPDATE||this.currentAssetsManager.code!=o.ERROR_NO_LOCAL_MANIFEST||this.currentAssetsManager.code!=o.ERROR_DOWNLOAD_MANIFEST||this.currentAssetsManager.code!=o.ERROR_PARSE_MANIFEST)},Object.defineProperty(e.prototype,"isBrowser",{get:function(){return cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.isBrowser},enumerable:!1,configurable:!0}),e.prototype.isNeedUpdate=function(e){return this.isBrowser?(this.updating=!1,e(o.ALREADY_UP_TO_DATE,i.UP_TO_DATE),!1):(c.Config.isSkipCheckUpdate&&(cc.log("Skip hot updates and use local resource code directly"),this.updating=!1,e(o.ALREADY_UP_TO_DATE,i.UP_TO_DATE)),!c.Config.isSkipCheckUpdate)},e.prototype.checkUpdate=function(e){if(this.isNeedUpdate(e)){if(cc.log("--checkUpdate--"),this.updating)return cc.log("Checking or updating..."),void e(o.CHECKING,i.PREDOWNLOAD_VERSION);if(!this.currentAssetsManager.manager.getLocalManifest()||!this.currentAssetsManager.manager.getLocalManifest().isLoaded())return cc.log("Failed to load local manifest ...."),void e(o.ERROR_DOWNLOAD_MANIFEST,i.FAIL_TO_UPDATE);this.isTryDownloadFailedAssets()?(cc.log("The previous download of the resource was not fully downloaded, please try downloading again"),e(o.UPDATE_FAILED,i.TRY_DOWNLOAD_FAILED_ASSETS)):(cc.log("updating......"),this.updating=!0,this.checkCallback=e,this.currentAssetsManager.manager.setEventCallback(this.checkCb.bind(this)),this.currentAssetsManager.manager.checkUpdate())}},e.prototype.downloadFailedAssets=function(){this.currentAssetsManager&&this.currentAssetsManager.manager.downloadFailedAssets()},e.prototype.checkHallUpdate=function(e){this.isNeedUpdate(e)&&(this.currentAssetsManager=this.getAssetsManager(),this.currentAssetsManager.manager.loadLocalManifest(this.hallProjectMainfest),this.checkUpdate(e))},e.prototype.getGameManifest=function(e){return""+this.manifestRoot+e+"_project.manifest"},e.prototype.checkGameUpdate=function(e,t){if(this.isNeedUpdate(t)){this.currentAssetsManager=this.getAssetsManager(e);var n=this.getGameManifest(e),a=this.getHotUpdateUrl(e);if(jsb.fileUtils.isFileExist(n)){var r=jsb.fileUtils.getStringFromFile(n),s=JSON.parse(r);s.packageUrl=a,s.remoteManifestUrl=""+a+n,s.remoteVersionUrl=""+a+this.manifestRoot+e+"_version.manifest",r=JSON.stringify(s);var c=this.storagePath+"/"+n;jsb.fileUtils.writeStringToFile(r,c);var p=new jsb.Manifest(r,this.storagePath,this.getHotUpdateUrl(this.currentAssetsManager.name));cc.log("--A local version control file exists--"),cc.log("mainifestUrl : "+n),this.currentAssetsManager.manager.loadLocalManifest(p,""),this.checkUpdate(t)}else{if(this.updating)return cc.log("Checking or updating..."),void t(o.CHECKING,i.PREDOWNLOAD_VERSION);var l={version:"0",packageUrl:a,remoteManifestUrl:""+a+n,remoteVersionUrl:""+a+this.manifestRoot+e+"_version.manifest",assets:{},searchPaths:[]},h=JSON.stringify(l);c=this.storagePath+"/"+n,jsb.fileUtils.writeStringToFile(h,c),p=new jsb.Manifest(h,this.storagePath,this.getHotUpdateUrl(this.currentAssetsManager.name)),cc.log("--checkUpdate--"),cc.log("mainifest content : "+h),this.currentAssetsManager.manager.loadLocalManifest(p,""),this.checkUpdate(t)}}},e.prototype.checkCb=function(e){switch(this.currentAssetsManager.code=e.getEventCode(),cc.log("checkCb event code : "+e.getEventCode()+" state : "+this.currentAssetsManager.manager.getState()),e.getEventCode()){case o.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped.");break;case o.ERROR_DOWNLOAD_MANIFEST:case o.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped.");break;case o.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version.");break;case o.NEW_VERSION_FOUND:cc.log("New version found, please try to update.");break;default:return}this.updating=!1,this.checkCallback&&this.currentAssetsManager.manager.getState()!=i.DOWNLOADING_VERSION&&(this.checkCallback(e.getEventCode(),this.currentAssetsManager.manager.getState()),this.checkCallback=null)},e.prototype.hotUpdate=function(){this.currentAssetsManager?(cc.log("The upcoming hot update module is:"+this.currentAssetsManager.name+" , updating : "+this.updating),this.updating||(cc.log("Perform the update "+this.currentAssetsManager.name+" "),this.currentAssetsManager.manager.setEventCallback(this.updateCb.bind(this)),this.currentAssetsManager.manager.update())):cc.error("\u70ed\u66f4\u65b0\u7ba1\u7406\u5668\u672a\u521d\u59cb\u5316")},e.prototype.updateCb=function(e){var t=!1,n=!1,i=this.currentAssetsManager.name;switch(cc.log("--update cb code : "+e.getEventCode()+" state : "+this.currentAssetsManager.manager.getState()),this.currentAssetsManager.code=e.getEventCode(),e.getEventCode()){case o.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),n=!0;break;case o.UPDATE_PROGRESSION:cc.log(e.getDownloadedBytes()+" / "+e.getTotalBytes()),cc.log(e.getDownloadedFiles()+" / "+e.getTotalFiles()),cc.log("percent : "+e.getPercent()),cc.log("percent by file : "+e.getPercentByFile());var a=e.getMessage();a&&cc.log("Updated file: "+a);break;case o.ERROR_DOWNLOAD_MANIFEST:case o.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),n=!0;break;case o.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),n=!0;break;case o.UPDATE_FINISHED:cc.log("Update finished. "+e.getMessage()),t=!0;break;case o.UPDATE_FAILED:cc.log("Update failed. "+e.getMessage()),this.updating=!1;break;case o.ERROR_UPDATING:cc.log("Asset update error: "+e.getAssetId()+" , "+e.getMessage());break;case o.ERROR_DECOMPRESS:cc.log("Asset decompress fail "+e.getMessage())}if(n&&(this.currentAssetsManager.manager.setEventCallback(null),this.updating=!1),t){var c=jsb.fileUtils.getSearchPaths(),p=this.currentAssetsManager.manager.getLocalManifest().getSearchPaths();cc.log("newPaths=>"+JSON.stringify(p)),Array.prototype.unshift.apply(c,p);for(var l={},h=0;h<c.length;h++)l[c[h]]=!0;c=Object.keys(l),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(c)),jsb.fileUtils.setSearchPaths(c)}var d=this.currentAssetsManager.manager.getState();"HALL"==this.currentAssetsManager.name?t&&(this.currentAssetsManager.manager.setEventCallback(null),e.getDownloadedFiles()>0&&cc.game.restart(),this.destroyAssetsManager(this.currentAssetsManager.name)):t&&(cc.log(this.currentAssetsManager.name+" \u4e0b\u8f7d\u8d44\u6e90\u6570 : "+e.getDownloadedFiles()),this.destroyAssetsManager(this.currentAssetsManager.name));var u={downloadedBytes:e.getDownloadedBytes(),totalBytes:e.getTotalBytes(),downloadedFiles:e.getDownloadedFiles(),totalFiles:e.getTotalFiles(),percent:e.getPercent(),percentByFile:e.getPercentByFile(),code:e.getEventCode(),state:d,needRestart:t,name:i};s.default.Inst.dispatchMsg(r.default.HOTUPDATE_DOWNLOAD,u),cc.log("update cb  failed : "+n+"  , need restart : "+t+" , updating : "+this.updating)},e.prototype.versionCompareHanle=function(e,t){cc.log("JS Custom Version Compare : version A is "+e+" , version B is "+t);var n=e.split("."),o=t.split(".");cc.log("version A "+n+" , version B "+o);for(var i=0;i<n.length&&i<o.length;++i){var a=parseInt(n[i]),r=parseInt(o[i]);if(a!==r)return a-r}return o.length>n.length?-1:0},__decorate([h],e)}());n.BundleHotUpdate=new d,t.exports=n,cc._RF.pop()},{"../../script/common/room_mode_tool":"room_mode_tool","./BundleConfig":"BundleConfig","./EventDefine":"EventDefine","./EventListener":"EventListener"}],CameraMgr:[function(e,t){"use strict";cc._RF.push(t,"c7ce2xLaC5NVI13g+RE2/4j","CameraMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.CameraMgr=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="CameraMgr",this.Log("Init"),cc.systemEvent.on("GetPhotoAndCameraDataSuccess",this.OnGetPhoto)},t.prototype.OnGetPhoto=function(e){var t={str_ImageUrl:encodeURIComponent(e.base64Bitmap),base64Img:e.base64Bitmap};app.Client.OnEvent(i.GameEventDefine.CAMERA_IMAGEDATA,t)},t.prototype.openNativeCamera=function(){app.NativeMgr().openCamera()},t.prototype.openNativePhoto=function(){app.NativeMgr().openPhoto()},t.prototype.RequestImage=function(){if(cc.sys.isNative&&cc.sys.isMobile)this.openNativePhoto();else{this.input=document.createElement("input"),this.input.type="file",this.input.setAttribute("accept","image/*");var e=this;this.input.addEventListener("change",function(){for(var t=0;t<e.input.files.length;t++){var n=e.input.files[t];if(window.FileReader){var o=new FileReader;o.readAsDataURL(n),o.onloadend=function(t){e.onCutDownImage(t.target.result)}}}}),this.input.click()}},t.prototype.onCutDownImage=function(e){var t=new Image;t.src=e,t.onload=function(){var e,n=document.createElement("canvas"),o=n.getContext("2d"),a=.3*t.width,r=.3*t.height;n.width=a,n.height=r,o.drawImage(t,0,0,a,r),e=n.toDataURL("image/png");var s={str_ImageUrl:encodeURIComponent(e),base64Img:e};app.Client.OnEvent(i.GameEventDefine.CAMERA_IMAGEDATA,s)}},t.prototype.onLocalImageView=function(e,t){var n=new Image;n.src=e,n.onload=function(){var e=new cc.Texture2D;e.initWithElement(n),e.handleLoadedTexture(),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}},t}(o.Singleton);n.CameraMgr=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],CashOutManager:[function(e,t){"use strict";cc._RF.push(t,"b9ad1FVaZpLiJWogHsZEoI5","CashOutManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.CashOutManager=n.CashOutType=void 0;var o,i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine");(o=n.CashOutType||(n.CashOutType={}))[o.Bank=1]="Bank",o[o.USDT=2]="USDT";var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CurrentCashOutType=1,t.SendPixType="CPF",t.NigeriaData=null,t.isAgentTx=!1,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="CashOutManager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.BIND_USER_WALLET,this.onBindUserWallet,this),app.HttpServerManager().RegNetPack(r.HttpAPI.BIND_BANK_ACCOUNT,this.onBindBankAccount,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GOLD_TXTIPS,this.onGoldTxtTips,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_NIGERIA,this.onNigeria,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_TXRECORDDETAILS,this.onTxRecordDetails,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_TX,this.onRecvTx,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_AGENTTX,this.onRecvAgentTx,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_TXRECORD,this.onRecvTxRecord,this)},t.prototype.RequestTx=function(e){var t={token:app.UserManager().GetUserInfo.token,channel:e.channel,amount:e.amount,is_usdt:e.is_usdt};app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_TX,t)},t.prototype.onRecvTx=function(e){app.Client.OnEvent(a.GameEventDefine.GET_TX,e)},t.prototype.RequestTX=function(e){this.isAgentTx?this.RequestAgentTx(e):this.RequestTx(e)},t.prototype.RequestAgentTx=function(e){var t={token:app.UserManager().GetUserInfo.token,channel:e.channel,amount:e.amount,is_usdt:e.is_usdt};app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_AGENTTX,t)},t.prototype.RequestTxRecord=function(e){var t={token:app.UserManager().GetUserInfo.token,channel:4,page:e,count:30};app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_TXRECORD,t)},t.prototype.onRecvAgentTx=function(e,t){if(this.Log(e),app.PromoteMainManager().GetShareData){var n=app.PromoteMainManager().GetShareData.agent_commission;app.PromoteMainManager().GetShareData.agent_commission=Number(n)-Number(t.amount),app.Client.OnEvent(a.GameEventDefine.UPDATE_COMMISSIONDESC)}app.Client.OnEvent(a.GameEventDefine.GET_AGENTTX,e)},t.prototype.onRecvTxRecord=function(e){app.Client.OnEvent(a.GameEventDefine.GET_TXRECORD,e.data)},t.prototype.RequstTxRecordDetails=function(e){var t={token:app.UserManager().GetUserInfo.token,id:e};app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_TXRECORDDETAILS,t)},t.prototype.onTxRecordDetails=function(e){app.Client.OnEvent(a.GameEventDefine.GET_TXRECORDDETAILS,e)},t.prototype.RequstGoldTxtTips=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GOLD_TXTIPS,{token:app.UserManager().GetUserInfo.token,type:this.CurrentCashOutType})},t.prototype.onGoldTxtTips=function(e){app.Client.OnEvent(a.GameEventDefine.GOLD_TXTIPS,e)},t.prototype.RequestNigeria=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_NIGERIA,{token:app.UserManager().GetUserInfo.token})},t.prototype.onNigeria=function(e){for(var t=0;t<e.length;t++)e[t].id=t;this.NigeriaData=e,app.Client.OnEvent(a.GameEventDefine.GET_NIGERIA)},t.prototype.GetNigeriaDataIndex=function(){for(var e=0;e<this.NigeriaData.length;e++)if(this.NigeriaData[e].selected)return e;return 0},t.prototype.SetNigeriaDataSelected=function(e){for(var t=0;t<this.NigeriaData.length;t++){var n=this.NigeriaData[t];n.selected=e==n.id}},t.prototype.SetSendPixType=function(e){this.SendPixType=e},t.prototype.GetSendPixType=function(){return this.SendPixType},t.prototype.SetCurrentCashOutType=function(e){this.CurrentCashOutType=e},t.prototype.GetCurrentCashOutType=function(){return this.CurrentCashOutType},t.prototype.RequstBindUserWallet=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.BIND_USER_WALLET,e)},t.prototype.onBindUserWallet=function(e,t){app.UserManager().GetUserInfo.user_wallet=t.wallet,app.UserManager().SaveLoginUser(app.UserManager().GetUserInfo),app.Client.OnEvent(a.GameEventDefine.BIND_USER_WALLET,e)},t.prototype.RequstBindBankAccount=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.BIND_BANK_ACCOUNT,e)},t.prototype.onBindBankAccount=function(e,t){app.UserManager().GetUserInfo.colombia_idType=t.colombia_idType,app.UserManager().GetUserInfo.colombia_idNumber=t.colombia_idNumber,app.UserManager().GetUserInfo.bankAccountType=t.bankAccountType,app.UserManager().GetUserInfo.bank_account=t.bank_account,app.UserManager().GetUserInfo.bank_name=t.bank_name,app.UserManager().GetUserInfo.branch_bank=t.branch_bank,app.UserManager().GetUserInfo.cardholder_name=t.cardholder_name,app.UserManager().GetUserInfo.cardholder_tel=t.tel,app.UserManager().GetUserInfo.email=t.email,app.UserManager().GetUserInfo.ifsc_code=t.ifsc_code,app.UserManager().GetUserInfo.upi=t.upi,app.UserManager().GetUserInfo.taxid=t.taxid,app.UserManager().GetUserInfo.zipcode=t.zipcode,app.UserManager().GetUserInfo.account_digit=t.account_digit,app.UserManager().GetUserInfo.account_type=t.account_type,app.UserManager().GetUserInfo.pix_key=t.pix_key,app.UserManager().GetUserInfo.pix_type=t.pix_type,app.UserManager().GetUserInfo.prepay_type=t.prepay_type,app.UserManager().GetUserInfo.province=t.province,app.UserManager().GetUserInfo.city=t.city,app.UserManager().GetUserInfo.gcash_number=t.gcash_number,app.UserManager().GetUserInfo.pay_maya_account=t.pay_maya_account,app.UserManager().GetUserInfo.beneficiary_name=t.beneficiary_name,t.upi&&(app.UserManager().GetUserInfo.upi=t.upi),t.bank_code&&(app.UserManager().GetUserInfo.bank_code=t.bank_code),t.repay_rfc&&(app.UserManager().GetUserInfo.repay_rfc=t.repay_rfc),t.repay_curp&&(app.UserManager().GetUserInfo.repay_curp=t.repay_curp),t.document_type&&(app.UserManager().GetUserInfo.document_type=t.document_type),t.card_type&&(app.UserManager().GetUserInfo.card_type=t.card_type),t.repay_card_debit&&(app.UserManager().GetUserInfo.repay_card_debit=t.repay_card_debit),t.repay_card_phone&&(app.UserManager().GetUserInfo.repay_card_phone=t.repay_card_phone),t.repay_card_clabe&&(app.UserManager().GetUserInfo.repay_card_clabe=t.repay_card_clabe),app.UserManager().SaveLoginUser(app.UserManager().GetUserInfo),app.Client.OnEvent(a.GameEventDefine.BIND_BANK_ACCOUNT,e)},t.prototype.GetWithdrawGold=function(){var e=0;if(this.isAgentTx)app.PromoteMainManager().GetShareData&&(e=app.ScoreUtil().fix_float_number(app.PromoteMainManager().GetShareData.agent_commission));else{var t=app.UserManager().GetUserWallet();t&&(e=t.withdraw_gold)}return e},t}(i.Singleton);n.CashOutManager=s,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine"}],ChatUtil:[function(e,t){"use strict";cc._RF.push(t,"20f5c9mWUlDHKXozyJ2UuO8","ChatUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ChatUtil=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ChatUtil",this.Log("Init")},t.prototype.stringToUint=function(e){for(var t=(e=o.from(decodeURIComponent(encodeURIComponent(e)),"binary").toString("base64")).split(""),n=[],i=0;i<t.length;i++)n.push(t[i].charCodeAt(0));return new Uint8Array(n)},t.prototype.uintToString=function(e){var t=String.fromCharCode.apply(null,e);return o.from(t,"base64").toString()},t}(e("../Base/Singleton").Singleton);n.ChatUtil=i,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ClickInterceptorHelp:[function(e,t){"use strict";cc._RF.push(t,"44578xBLz1Fh4wnEs08II14","ClickInterceptorHelp");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ClickInterceptorHelp=void 0;var o=1,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickFlag=o,t}return __extends(t,e),t.prototype.checkClickAllow=function(e){var t=this;return void 0===e&&(e=200),this.clickFlag==o?(this.clickFlag=0,setTimeout(function(){t.clickFlag=o},e),!0):(app.SysNotifyManager().ShowToast(app.i18n.t("Sc_Error_Youroperationfrequent")),!1)},t}(e("./Singleton").Singleton);n.ClickInterceptorHelp=i,t.exports=n,cc._RF.pop()},{"./Singleton":"Singleton"}],ClientConfigManager:[function(e,t){"use strict";cc._RF.push(t,"a2296FkBmZH+LjBoGnMHarB","ClientConfigManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ClientConfigManager=void 0;var o=e("../Base/Singleton"),i=e("../../script/common/global_config"),a=e("../../Common/Define/LanguageDefine"),r=function(){},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maxRetryCount=0,t.deltaTime=0,t.GlobalConfig=i,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ClientConfigManager",this.Log("Init"),this.ClientConfig=new r},Object.defineProperty(t.prototype,"GetClientConfig",{get:function(){return this.ClientConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetVersion",{get:function(){var e=app.NativeMgr().getApkVersion()?"-"+app.NativeMgr().getApkVersion():"";return"V"+i.mainVer+"."+i.subVer+"."+i.buildVer+e},enumerable:!1,configurable:!0}),t.prototype.LoadStartInfo=function(){if(app.ComTool().CheckPlatform()){var e=window.g_config;e&&(this.Log("g_config = "+JSON.stringify(e)),this.ClientConfig.webapi_url=e.webapi_url,this.ClientConfig.channel_id=e.channel_id,this.ClientConfig.channel_account=e.channel_account)}else this.ClientConfig.channel_id=app.NativeMgr().getChannel(),this.ClientConfig.channel_account="";if(this.ClientConfig.currentHostIndex=app.LocalDataManager().GetConfigProperty("ServerInfo","LastConnectedHostIndex"),this.LocalUrlInfo=app.ComTool().GetUrlParam(),isgoServer){var t=app.ClientConfigManager().getLocalUrlDataByName("channel_id");t?(this.ClientConfig.channel_id=t,app.LocalDataManager().SetConfigProperty("LocalInfo","channel_id",this.ClientConfig.channel_id)):(this.ClientConfig.channel_id=app.LocalDataManager().GetConfigProperty("LocalInfo","channel_id"),this.ClientConfig.channel_id||(this.ClientConfig.channel_id="default")),"tgbot"==this.ClientConfig.channel_id&&(cc.sys.platform=cc.sys.MOBILE_BROWSER);var n=app.ClientConfigManager().getLocalUrlDataByName("click_id");this.ClientConfig.click_id=n||0;var o=app.ClientConfigManager().getLocalUrlDataByName("ttclid");this.ClientConfig.ttclid=o||0;var i=app.ClientConfigManager().getLocalUrlDataByName("language");this.ClientConfig.language=i,i==a.default.enus?app.LocalDataManager().SetConfigProperty("SysSetting","Language2",i):i==a.default.zhcn&&app.LocalDataManager().SetConfigProperty("SysSetting","Language2",i)}var r=app.ClientConfigManager().getLocalUrlDataByName("agentid");r?(this.ClientConfig.agentID=r,app.LocalDataManager().SetConfigProperty("LocalInfo","agentID",this.ClientConfig.agentID)):(this.ClientConfig.agentID=app.LocalDataManager().GetConfigProperty("LocalInfo","agentID"),this.ClientConfig.ajtrackerName=app.LocalDataManager().GetConfigProperty("LocalInfo","ajtrackerName"),this.ClientConfig.aj_gaid=app.LocalDataManager().GetConfigProperty("LocalInfo","aj_gaid"));var s=app.ClientConfigManager().getLocalUrlDataByName("f");"UICashWheel"==s&&(s=void 0),s&&(s.startsWith("game")?this.startRouterG=s:this.startRouterF=s,this.startData=app.ClientConfigManager().getLocalUrlDataByName("d"))},t.prototype.SetRoomNumber=function(){var e=0,t=app.NativeMgr().getContentFromClipBoard();if(t&&""!=t){var n=""+t,o=n.indexOf("["),i=n.indexOf("]");if(o>-1&&i>-1&&i-o>0){if(e=parseInt(n.substring(o+1,i)),isNaN(e))return;app.NativeMgr().copyToClipBoard(" ")}}this.ClientConfig.roomNumber=e},Object.defineProperty(t.prototype,"GetStartRouterF",{get:function(){return this.startRouterF},enumerable:!1,configurable:!0}),t.prototype.ResetRouterF=function(){this.startRouterF=null},Object.defineProperty(t.prototype,"GetStartRouterG",{get:function(){return this.startRouterG},enumerable:!1,configurable:!0}),t.prototype.ResetRouterG=function(){this.startRouterG=null},Object.defineProperty(t.prototype,"GetStartData",{get:function(){return this.startData},enumerable:!1,configurable:!0}),t.prototype.StartRouter=function(){var e=this.GetStartRouterF;e&&(this.ResetRouterF(),!app.FormManager().IsFormShow(e)&&(app.FormManager().IsSupportVisitor(e)?app.FormManager().ShowForm(e,this.GetStartData):app.UserManager().getIsOfficialAccount()&&app.FormManager().ShowForm(e,this.GetStartData)));var t=this.GetStartRouterG;if(t){this.ResetRouterG();var n=app.RoomManager().GetRoomModeInfoBySceneName(t);n?app.HallManager().EnterRoomGame(Number(n.RoomMode)):this.ErrLog("GetRoomModeInfoBySceneName error: "+e)}},t.prototype.setAgentID=function(){if(!this.ClientConfig.agentID){var e=app.NativeMgr().getAll_preinstallKey();if(e)return this.ClientConfig.agentID=e,void app.LocalDataManager().SetConfigProperty("LocalInfo","agentID",this.ClientConfig.agentID);var t=app.NativeMgr().getAdJustData();if(t){var n=t.clickLabel||t.trackerToken;n&&(this.ClientConfig.agentID=n,app.LocalDataManager().SetConfigProperty("LocalInfo","agentID",this.ClientConfig.agentID));var o=t.trackerName;o&&(this.ClientConfig.ajtrackerName=o,app.LocalDataManager().SetConfigProperty("LocalInfo","ajtrackerName",this.ClientConfig.ajtrackerName));var i=t.adid;i&&(this.ClientConfig.aj_gaid=i,app.LocalDataManager().SetConfigProperty("LocalInfo","aj_gaid",this.ClientConfig.aj_gaid))}}},t.prototype.OnTimer=function(e){this.maxRetryCount>5||(this.deltaTime+=e,this.deltaTime<=1||(this.deltaTime=0,this.maxRetryCount++,this.ClientConfig.agentID||this.setAgentID(),this.ClientConfig.gaid||(this.ClientConfig.gaid=app.NativeMgr().getAdvertisingId())))},Object.defineProperty(t.prototype,"GetGlobalConfig",{get:function(){return this.GlobalConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ApiUrl",{get:function(){return this.ClientConfig.webapi_url||this.GetGlobalConfig.scheme+"://"+this.GetGlobalConfig.hosts[0]},enumerable:!1,configurable:!0}),t.prototype.getLocalUrlDataByName=function(e){return this.LocalUrlInfo[e]},t}(o.Singleton);n.ClientConfigManager=s,t.exports=n,cc._RF.pop()},{"../../Common/Define/LanguageDefine":"LanguageDefine","../../script/common/global_config":"global_config","../Base/Singleton":"Singleton"}],ClientMgr:[function(e,t){"use strict";cc._RF.push(t,"1bcceWGEdJPlYA6P1BugKDn","ClientMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Base/BaseComponent"),i=e("./Define/GameEventDefine"),a=e("./Define/HttpServerDefine"),r=e("./Define/ShareDefine"),s=e("./UIRoot"),c=cc._decorator,p=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.JS_Name="ClientMgr",app.Client=this,cc.log("init"),cc.game.addPersistRootNode(this.node),cc.debug.setDisplayStats(!1),cc.game.setFrameRate(60),this.schedule(this.OnTimer.bind(this),.1),this.InitManager()},t.prototype.InitManager=function(){window.t=app.TestManager(),app.LogManager(),app.LocalDataManager().InitConfig(),app.ClientConfigManager().LoadStartInfo(),app.HttpServerManager().RegNetPack(a.HttpAPI.COMMON_CONFIG,this.OnGameConfig,this),app.LaunchManager(),app.LoadTextManager(),app.HNoticeManager(),app.GuideManager(),app.NotifyManager(),app.GameManager(),app.HallMessageCenter(),app.RoomMessageCenter(),app.RedDotManager(),app.KeyManager(),app.EventTrackManager(),app.GoogleLoginManager(),app.BetBonusManager(),app.GameEventMgr()},t.prototype.Reload=function(){app.RedDotManager().OnReload(),app.SupportManager().OnReload(),app.GameTypeManager().OnReload(),app.HallManager().OnReload(),app.LaunchManager().ClearTimeout()},t.prototype.GetUILayer=function(){return cc.find("Canvas/RootLayer/UILayer")},t.prototype.GetIndependentLayer=function(){return cc.find("Canvas/RootLayer/UILayer/independent")},t.prototype.GetIndependentChildren=function(){return this.GetIndependentLayer().children},t.prototype.DownloadbarActive=function(){},t.prototype.GetDownload=function(){},t.prototype.GetContentLayer=function(){return cc.find("Canvas/RootLayer/UILayer/contain/scrollview/view/node_home/content")},t.prototype.GetContentChildren=function(){return this.GetContentLayer().children},t.prototype.GetHomeLayer=function(){return cc.find("Canvas/RootLayer/UILayer/contain/scrollview/view/node_home/bottom")},t.prototype.InitUILayer=function(){return this.GetUILayer().getComponent(s.default).InitLayer()},t.prototype.OnGameConfig=function(){},t.prototype.InitDebug=function(e){this.EnableLog(e),this.OnEvent(i.GameEventDefine.SHOW_DEBUG_FORM,e)},t.prototype.EnableLog=function(e){app.LogManager().IsOpenLog(e),r.Development.SetDevelopment(e)},t.prototype.OnEvent=function(e,t,n){void 0===n&&(n=!1),n&&(t?this.Log("OnEvent(%s):",e,t):this.Log("OnEvent(%s)",e));try{this.node.emit(e,t)}catch(o){this.ErrLog("OnEvent:%s",o.stack)}},t.prototype.RegEvent=function(e,t,n){t&&n?this.node.on(e,t,n):this.ErrLog("eventName:%s error",e)},t.prototype.UnRegTargetEvent=function(e,t,n){void 0===t&&(t=""),t&&n?this.node.off(t,n,e):this.node.targetOff(e)},t.prototype.OnTimer=function(e){try{app.ClientConfigManager().OnTimer(e)}catch(t){this.ErrLog("OnTimer:%s",t.stack)}},__decorate([p],t)}(o.default));n.default=l,t.exports=n,cc._RF.pop()},{"./Base/BaseComponent":"BaseComponent","./Define/GameEventDefine":"GameEventDefine","./Define/HttpServerDefine":"HttpServerDefine","./Define/ShareDefine":"ShareDefine","./UIRoot":"UIRoot"}],ColorDefine:[function(e,t){"use strict";cc._RF.push(t,"8743fMym3dHu6IiWmydMUMK","ColorDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.VIP_Num_Color=n.VIP_LineLbl_Color=n.VIP_Lbl_Color=void 0;var o=function(){function e(){}return e.Color_Red=new cc.Color(255,0,0),e.Color_Green=new cc.Color(0,255,0),e.Color_White=new cc.Color(255,255,255),e.Color_Black=new cc.Color(0,0,0),e.Color_Gray=new cc.Color(125,125,125),e.Color_Purple=new cc.Color(255,125,255),e.Color_Orange=new cc.Color(255,125,0),e.Color_RoseRed=new cc.Color(253,62,208),e.Color_Blue=new cc.Color(72,211,242),e.Color_Yellow=new cc.Color(255,235,84),e.Color_LiteOrange=new cc.Color(255,165,102),e.Color_Brown=new cc.Color(89,38,3),e}();n.default=o,n.VIP_Lbl_Color=["#6C3C02","#322E5C","#6C3C02","#185860","#5baeff","#311355","#5f0065","#6F0B19","#7C2E0A","#017069","#44005E"],n.VIP_LineLbl_Color=["#CF9383","#b1a5ce","#FBE78B","#63bcda","#5a81e1","#bd89fd","#fc83df","#e86665","#e79d69","#81dad9","#b985d9"],n.VIP_Num_Color=["#FFC278","#E0D4FF","#FCFFD4","#D4FDFF","#D4E3FF","#F8D4FF","#FFD4FA","#FFBABA","#FFD6BA","#BAF7FF","#F7BAFF"],t.exports=n,cc._RF.pop()},{}],ComTool:[function(e,t){"use strict";cc._RF.push(t,"3d51f19NEJAs6QZYTm8SvZK","ComTool");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ComTool=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ComTool",this.Log("Init")},t.prototype.RandInt=function(e,t,n){void 0===n&&(n=[]);var o=Math.floor(Math.random()*(t+1-e)+e);return t-e<=n.length?(this.ErrLog("\u968f\u673a\u7684\u6574\u6570\u6570\u91cf\u5c0f\u4e8e\u6392\u9664\u7684\u6574\u6570\u6570\u91cf"),o):n.InArray(o)?this.RandInt(e,t,n):o},t.prototype.StringAddNumSuffix=function(e,t,n){var o=""+t;if(n){var i=o.length;o=i<n?Array(n-i+1).join("0")+t:o}return[e,o].join("")},t.prototype.H5Platform=function(){return cc.sys.platform==cc.sys.MOBILE_BROWSER},t.prototype.DesktopPlatform=function(){return cc.sys.platform==cc.sys.DESKTOP_BROWSER},t.prototype.IsIOS=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS},t.prototype.IsAndroid=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID},t.prototype.IsWindows=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_WINDOWS},t.prototype.AndroidHybirdPlatform=function(){return"undefined"!=typeof android},t.prototype.CheckPlatform=function(){return!cc.sys.isNative},t.prototype.getPackageName=function(){return cc.sys.isNative||this.AndroidHybirdPlatform()?app.NativeMgr().getPackageName():"h5_client"},t.prototype.GetQueryString=function(e){if(!cc.sys.isBrowser)return null;var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},t.prototype.ReplaceParamVal=function(e,t,n){var o=new RegExp("("+t+"=)([^&]*)","gi");return e.replace(o,t+"="+n)},t.prototype.ParseParamsToUri=function(e,t){var n=[];return Object.keys(t).forEach(function(e){return t[e]&&n.push(e+"="+t[e])}),-1===e.search(/\?/)?e+="?"+n.join("&"):e+="&"+n.join("&"),e},t.prototype.NodeAConvertToNodeBSpaceAR=function(e,t){var n=e.convertToWorldSpaceAR(new cc.Vec2(0,0));return t.convertToNodeSpaceAR(n)},t.prototype.ResetAnimationNode=function(e,t){var n=e.getComponent(cc.Animation);if(n){n.stop();var o=n.play(t);n.setCurrentTime(o.duration)}},t.prototype.DeepCopyArray=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n].slice(0);t.push(o)}return t},t.prototype.RandomGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.prototype.GenQRCode=function(e,t,n){void 0===n&&(n=1);var o=new QRCode(-1,n);o.addData(e),o.make();for(var i=t.node.width/o.getModuleCount(),a=t.node.height/o.getModuleCount(),r=0;r<o.getModuleCount();r++)for(var s=0;s<o.getModuleCount();s++){o.isDark(r,s)?t.fillColor=cc.Color.BLACK:t.fillColor=cc.Color.WHITE;var c=Math.ceil((s+1)*i)-Math.floor(s*i),p=Math.ceil((r+1)*a)-Math.floor(r*a);t.rect(Math.round(s*i),Math.round(r*a),c,p),t.fill()}},t.prototype.PrefixInteger=function(e,t){return("0000000000000000"+e).substr(-t)},t.prototype.getIosBrowserType=function(){return"standalone"in window.navigator&&window.navigator.standalone},t.prototype.GetUrlParam=function(){var e=document.location.toString().split("?"),t=Object.create(null);return e.length>1&&(e=e[1].split("&")).forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t},t.prototype.htmlEncode=function(e){return 0===e.length?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},t.prototype.htmlRestore=function(e){return 0===e.length?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')},t.prototype.checkSpecialStr=function(e){return!/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im.test(e)&&!/[\xb7\uff01#\uffe5\uff08\u2014\u2014\uff09\uff1a\uff1b\u201c\u201d\u2018\u3001\uff0c|\u300a\u3002\u300b\uff1f\u3001\u3010\u3011[\]]/im.test(e)},t.prototype.isSafari=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("applewebkit")>-1&&e.indexOf("mobile")>-1&&e.indexOf("safari")>-1&&-1===e.indexOf("linux")&&-1===e.indexOf("android")&&-1===e.indexOf("chrome")&&-1===e.indexOf("ios")&&-1===e.indexOf("browser")},t.prototype.getRandomNumber=function(e,t){return Math.random()*(t-e)+e},t.prototype.GetLocalTime=function(e){if("number"==typeof e){var t=new Date,n=t.getTime(),o=6e4*t.getTimezoneOffset();return new Date(n+o+36e5*e)}},t.prototype.GetServerTimeString=function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},t}(e("../Base/Singleton").Singleton);n.ComTool=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ComUtil:[function(e,t){"use strict";cc._RF.push(t,"d9169eVVn9HZoWsJmhn2vI1","ComUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ComUtil=void 0;var o=e("../Base/Singleton"),i=(new Map,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ComUtil",this.Log("Init")},t.prototype.uniqueid=function(){var e=Math.random,t=parseInt;return Number(new Date).toString()+t(""+10*e())+t(""+10*e())},t.prototype.shuffle=function(e){for(var t=void 0,n=void 0,o=e.length;o;t=parseInt(""+Math.random()*o),n=e[--o],e[o]=e[t],e[t]=n);return e},t.prototype.format_date=function(e){var t=null==e?new Date:new Date(1e3*parseInt(e));return t.getFullYear()+"."+(t.getMonth()+1)+"."+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},t.prototype.deepCopy=function(e){if("object"!=typeof e)return e;if(this.isArray(e))return e;var t={};for(var n in e)if(this.isArray(e[n])){var o=e[n];t[n]=[];for(var i=0;i<o.length;i++)t[n].push(o[i])}else t[n]=this.deepCopy(e[n]);return t},t.prototype.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.prototype.formatName=function(e){var t="";if(2===e.length)t=e.substring(0,1)+"*";else if(e.length>2){for(var n="",o=0,i=e.length-2;o<i;o++)n+="*";t=e.substring(0,1)+n+e.charAt(e.length-1)}else t=e;return t},t.prototype.get_strLength=function(e){var t,n,o=0;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))<127?o+=1:128<=n&&n<=2047?o+=2:2048<=n&&n<=65535&&(o+=3);return o},t.prototype.copyToClipboard=function(e){var t=e,n=!0;if(window.clipboardData)window.clipboardData.setData("Text",t);else{var o=app.ComUtil().createElementForExecCommand(t);app.ComUtil().selectContent(o);try{window.netscape&&window.netscape.security&&window.netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),n=document.execCommand("copy",!1,null)}catch(i){n=!1}document.body.removeChild(o)}return n},t.prototype.createElementForExecCommand=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.textContent=e,document.body.appendChild(t),t.contentEditable=!0,t},t.prototype.selectContent=function(e){var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)},t.prototype.calcRoomCard=function(e,t,n,o,i){var a=0;for(var r in e)if(r==t){for(var s in e[r].data)if(s==n){a=3==o?parseFloat(e[r].data[s].average_card_num):parseFloat(e[r].data[s].total_card_num),i&&(a+=3==o?parseFloat(e[r].data[s].king_average_num):parseFloat(e[r].data[s].king_num));break}break}var c=a+"",p=c.length,l=c.indexOf(".");return-1!=l&&p-l>=3&&(c=c.substr(0,l+2)),c},t.prototype.intToByteArray=function(e){for(var t=[];e;)e%2>0?t.push(1):t.push(0),e=Math.floor(e/2);return t},t.prototype.countOf1=function(e){for(var t=0,n=1;n;)e&n&&t++,n<<=1;return t},t.prototype.playBtnClick=function(){app.SoundManager().PlaySound("BtnClick")},t.prototype.playBoxOpenSound=function(){app.SoundManager().PlaySound("WndOpen")},t.prototype.playBoxCloseSound=function(){app.SoundManager().PlaySound("WndClose")},t.prototype.deepClone=function(e){var t=Array.isArray(e)?[]:{};if(e&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(e[n]&&"object"==typeof e[n]?t[n]=this.deepClone(e[n]):t[n]=e[n]);return t},t.prototype.createListItem=function(e,t,n){var o=t.children,i=o.length;if(0==i&&null==n)return cc.error("createChild"),!1;var a=i>0?o[0]:n;if(e>i)for(var r=i;r<e;++r){var s=cc.instantiate(a);t.addChild(s)}else if(e<i)for(r=e;r<i;++r)o[r].active=!1;return!0},t.prototype.cutStr=function(e,t){void 0===t&&(t=8);for(var n=0,o="",i=0;i<e.length;i++)if(e.charCodeAt(i)>128?n+=2:n++,o+=e.charAt(i),n>=t)return o+"...";return o},t.prototype.CheckDateEventTimeIn=function(e,t,n){var o=n-Math.round(Date.now()/1e3);o||(o=0);var i=Math.round(Date.now()/1e3)+o;return!(!e||!t||i>t||i<e)},t.prototype.translate=function(e){var t=e.replace(/[&\|\\\*^%$ #@\-.]/g,""),n=[];n[0]=t.substring(0,3),t.length>3&&(n[1]=t.substring(3,6),t.length>6&&(n[2]=t.substring(6,9),t.length>9&&(n[3]=t.substring(9,12),t.length>12&&(n[4]=t.substring(12,t.length)))));var o=n.join(".");if(11==t.length||14==t.length){var i=o.length-2,a=o.substring(0,i-1),r=o.substring(i,o.length);o=a+"-"+r}return o},t.prototype.timeStr=function(e){var t=new Date(e);return t.getFullYear(),(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+t.getDate()+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},t.prototype.IsSameDay=function(e){return new Date(e).getDay()===(new Date).getDay()},t.prototype.PlayAnim=function(e,t,n){if(e){var o=e.getComponent(cc.Animation);o?(n&&o.once("finished",function(){n()}),o.play(t)):this.ErrLog("cc.Animation fail==>"+e)}else this.ErrLog("PlayAnim fail  node==>")},t.prototype.StopAnimation=function(e,t){var n=e.getComponent(cc.Animation);n&&n.stop(t)},t}(o.Singleton));n.ComUtil=i,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],CompressStorageMgr:[function(e,t){"use strict";cc._RF.push(t,"4c715eGvWRArYhN8AiRZKwP","CompressStorageMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.CompressStorageMgr=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="CompressStorageMgr",this.Log("Init")},t.prototype.set=function(e,t){if(null!=t){var n=JSON.stringify(t),o=LZUTF8.compress(n,{outputEncoding:"Base64"});cc.sys.localStorage.setItem(e,o)}else cc.sys.localStorage.setItem(e,"")},t.prototype.get=function(e){var t=cc.sys.localStorage.getItem(e);if(null==t)return{};var n=LZUTF8.decompress(t,{inputEncoding:"Base64",outputEncoding:"String"});return JSON.parse(n)},t.prototype.remove=function(e){cc.sys.localStorage.removeItem(e)},t}(e("../Base/Singleton").Singleton);n.CompressStorageMgr=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ConfirmManager:[function(e,t){"use strict";cc._RF.push(t,"f89fbnjFaNH76UfijlHxhVv","ConfirmManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/UINameDefine"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheConfirmInfoList=[],t.cacheMsgIDDict={},t._ConfirmTarget=null,t._ConfirmFunc=null,t._CancelFunc=null,t._ConfirmMsgID="",t._ConfirmBackArgList=[],t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ConfirmManager",this.Log("create ConfirmManager"),this.OnReload()},t.prototype.OnReload=function(){this.cacheConfirmInfoList=[]},t.prototype.OnSwitchSceneEnd=function(){this.NextConfirmMessage()},t.prototype.NextConfirmMessage=function(){if(this.cacheConfirmInfoList.length>0){var e=this.cacheConfirmInfoList.shift();delete this.cacheMsgIDDict[e.msgID],this.ShowConfirm(e.confirmType,e.msgID,e.argList,e.confirm,e.cancel,e.target)}},t.prototype.ShowConfirm=function(e,t,n,o,a,r){var s=i.UINameDefine.UIMessage;if(app.FormManager().IsFormShow(s)){if(this._ConfirmMsgID==t){for(var c=!0,p=0;p<this._ConfirmBackArgList.length;p++)if(this._ConfirmBackArgList[p]!=n[p]){c=!1;break}if(c)return}else if(this.cacheMsgIDDict.hasOwnProperty(t))return;return this.WarnLog("ShowSysMsgEx(%s) Scene doing Load",t),this.cacheMsgIDDict[t]=1,void this.cacheConfirmInfoList.push({target:this,confirm:o,cancel:a,confirmType:e,msgID:t,argList:n})}this._ConfirmTarget=r,this._ConfirmFunc=o,this._CancelFunc=a,this._ConfirmMsgID=t,this._ConfirmBackArgList=n||[];var l=app.SysNotifyManager().GetSysMsgContentByMsgID(t,n);app.FormManager().ShowForm(s,e,t,n,l)},t.prototype.CloseAllBox=function(){},t.prototype.OnConFirmResult=function(e,t){void 0===t&&(t=!0);var n=this._ConfirmTarget,o=this._ConfirmMsgID,i=this._ConfirmFunc,a=this._CancelFunc,r=this._ConfirmBackArgList;t&&(this._ConfirmTarget=null,this._ConfirmMsgID="",this._ConfirmFunc=null,this._CancelFunc=null,this._ConfirmBackArgList=[]),"Sure"==e?i&&i.call(n,o,r):a&&a.call(n,o,r),this.NextConfirmMessage()},t}(o.Singleton);n.ConfirmManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/UINameDefine":"UINameDefine"}],ControlManager:[function(e,t){"use strict";cc._RF.push(t,"eded5V6bEtAWoLBkATxrL0j","ControlManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ControlManager=void 0;var o=e("../Bundle/BundleManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.downLoader=null,t.cacheDataDict={},t.cacheUrlDataDict={},t.cacheSpriteDict={},t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ControlManager",cc.sys.isNative&&(this.downLoader=new jsb.Downloader,this.downLoader.setOnTaskError(this.OnTaskError.bind(this)),this.downLoader.setOnTaskProgress(this.OnTaskProgress.bind(this)),this.downLoader.setOnFileTaskSuccess(this.OnFileTaskSuccess.bind(this))),this.Log("Init")},t.prototype.OnTaskError=function(e,t,n,o){var i=JSON.parse(e.identifier);app.Client.OnEvent("DownloadFailed",{requestURL:e.requestURL,storagePath:e.storagePath,eventType:i[0],userData:i[1]}),this.ErrLog("OnTaskError(%s,%s,%s):%s",e.requestURL,e.storagePath,e.identifier,o)},t.prototype.OnTaskProgress=function(e,t,n,o){var i=JSON.parse(e.identifier);app.Client.OnEvent("DownloadProgress",{requestURL:e.requestURL,storagePath:e.storagePath,eventType:i[0],userData:i[1],totalReceivedSize:n.byteLength,dataTotalSize:o.byteLength})},t.prototype.OnFileTaskSuccess=function(e){var t=e.identifier;if(this.SysLog("OnFileTaskSuccess:(%s)",JSON.stringify(e)),t){try{t=JSON.parse(t)}catch(a){return void this.ErrLog("OnFileTaskSuccess(%s):%s",t,a.stack)}var n=e.storagePath,o=t[0],i=t[1];app.Client.OnEvent(o,{userData:i,storagePath:n})}},t.prototype.UpdateAlignmentEx=function(e){var t=e.getComponent(cc.Widget);t&&t.updateAlignment();for(var n=e.children,o=e.childrenCount,i=0;i<o;i++){var a=n[i];this.UpdateAlignmentEx(a)}},t.prototype.ReleaseCache=function(e){delete this.cacheDataDict[e],cc.resources.release(e),this.Log("\u6e05\u9664\u7f13\u5b58:"+e)},t.prototype.CreateBundleLoadPromise=function(e,t,n){return new Promise(function(i,a){var r=o.BundleManager.getBundle(e);r?r.load(t,n,function(e,t){e?a(e):i(t)}):Promise.reject(null)})},t.prototype.CreateLoadPromise=function(e,t,n){var o=this;if(void 0===n&&(n=!0),this.cacheDataDict.hasOwnProperty(e)){var i=this.cacheDataDict[e];return Promise.resolve(i)}return new Promise(function(n,i){cc.resources.load(e,t,function(t,a){t?i(t):(o.cacheDataDict[e]=a,n(a))})})},t.prototype.CreateSpritePromise=function(e){var t=this;if(this.cacheSpriteDict.hasOwnProperty(e)){var n=this.cacheSpriteDict[e];return Promise.resolve(n)}return new Promise(function(n,o){cc.resources.load(e,cc.SpriteFrame,function(i,a){i?o(i):(t.cacheSpriteDict[e]=a,n(a))})})},t.prototype.GetResCache=function(e){return this.cacheUrlDataDict[e]},t.prototype.CreateLoadPromiseByUrl=function(e){var t=this;if(this.cacheUrlDataDict.hasOwnProperty(e)){var n=this.cacheUrlDataDict[e];return Promise.resolve(n)}return new Promise(function(n,o){cc.assetManager.loadRemote(e+"?version=24",{maxRetryCount:0},function(i,a){if(i)return t.ErrLog("\u6307\u5b9a\u8def\u5f84\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25  %s",e),void o(i);t.cacheUrlDataDict[e]=a,n(a)})})},t.prototype.DownLoadFile=function(e,t,n,o){if(this.downLoader){var i="";n&&(i=JSON.stringify([n,o])),this.downLoader.createDownloadFileTask(e,t,i)}else this.ErrLog("DownLoadFile not find downLoader")},t.prototype.CreateImageSavePath=function(e){if(cc.sys.isNative){var t=[jsb.fileUtils.getWritablePath(),e].join("");if(jsb.fileUtils.isDirectoryExist(t))return t;if(!jsb.fileUtils.createDirectory(t))return this.ErrLog("CreateImageSavePath is Fail:%s",t),""}return""},t}(e("../Base/Singleton").Singleton);n.ControlManager=i,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Bundle/BundleManager":"BundleManager"}],D_PromoteMember:[function(e,t){"use strict";cc._RF.push(t,"762dd8QNmNH7ZI3uB4KGIDI","D_PromoteMember");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t,"ins",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.infoData=function(){this.allDtailList=[],this.dtailList=[],this._allDtailType=""},Object.defineProperty(t.prototype,"allDtailList",{get:function(){return this._allDtailList},set:function(e){this._allDtailList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dtailList",{get:function(){return this._dtailList},set:function(e){this._dtailList=e},enumerable:!1,configurable:!0}),t.prototype.addAllDtailList=function(e,t){if(null==this.allDtailList||this._allDtailType!=t.level)this.allDtailList=e;else for(var n=0;n<e.length;n++){var o=e[n];this._allDtailList.push(o)}this._allDtailType=t.level},t}(e("../Base/Singleton").Singleton);n.default=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],DebugLayer:[function(e,t){"use strict";cc._RF.push(t,"37d76buCmVOu4CPv7cb6Tk2","DebugLayer");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/UIBaseComponent"),i=e("../Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnDebug=null,t.UIDebug=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){var e=this;this.JS_Name="DebugLayer",this.btnDebug=this.GetWndNode("Debug"),this.btnDebug.active=!1,this.btnDebug.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.btnDebug.x+=t.getDeltaX(),e.btnDebug.y+=t.getDeltaY()}),this.RegEvent(i.GameEventDefine.SHOW_DEBUG_FORM,this.onShowDebugForm)},t.prototype.OnEnable=function(){app.ClientConfigManager().GetGlobalConfig.debug&&(this.btnDebug.active=!0)},t.prototype.onShowDebugForm=function(e){this.btnDebug.active=e},t.prototype.OnClick=function(e){var t=this;if("BtnShowDebug"!=e)"BtnHideDebug"!=e||(this.node.active=!1);else if(this.UIDebug)this.UIDebug.active=!0;else try{app.ControlManager().CreateLoadPromise("Launch/Prefab/UIDebug",cc.Prefab,!1).then(function(e){t.UIDebug=cc.instantiate(e),cc.isValid(t.node)&&t.node.addChild(t.UIDebug)})}catch(n){}},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../Base/UIBaseComponent":"UIBaseComponent","../Define/GameEventDefine":"GameEventDefine"}],DefaultBGColor:[function(e,t){"use strict";cc._RF.push(t,"299e7iHfa1GaI5NY2MNQJMT","DefaultBGColor");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultBGColor=void 0,(n=o.DefaultBGColor||(o.DefaultBGColor={})).Launch="#0d131c",n.HallTop="#161f2c",t.exports=o,cc._RF.pop()},{}],DefaultNodeAccount:[function(e,t){"use strict";cc._RF.push(t,"7543fcF8PBKFLN7OeUcGKpu","DefaultNodeAccount");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.Name=1]="Name",i[i.ID=2]="ID",i[i.infoText=3]="infoText",i[i.TitleToggle=4]="TitleToggle",i[i.TitleToggleCheck=5]="TitleToggleCheck",i[i.TextLight=6]="TextLight",i[i.TextDark=7]="TextDark",i[i.CardTopNum=8]="CardTopNum",i[i.CardNum=9]="CardNum",i[i.CardNumSmall=10]="CardNumSmall",i[i.ProgressNum=11]="ProgressNum",i[i.Title=12]="Title",i[i.Date=13]="Date",i[i.ItemLabel=14]="ItemLabel",i[i.InfoBonusNumL=15]="InfoBonusNumL",i[i.InfoBonusNumR=16]="InfoBonusNumR",i[i.InfoProNum=17]="InfoProNum",i[i.Percentum=18]="Percentum",i[i.AllRanks=19]="AllRanks",i[i.AccountVip=20]="AccountVip";var d=["#FFFFFF","#B8D7FF","#59677C","#AAC4EC","#59677C","#FFFFFF","#FFFFFF","#59677C","#FFFFFF","#29E649","#6B708E","#29E649","#FFFFFF","#59677C","#BBCAE1","#00FF2E","#59677C","#52B445","#B8D7FF","#3085FF","#A03210"],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeAccount")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DefaultNodeList:[function(e,t){"use strict";cc._RF.push(t,"b8358YyLo5FFJ0h/Mt1N/Nc","DefaultNodeList");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.TitleToggle=1]="TitleToggle",i[i.TitleToggleCheck=2]="TitleToggleCheck",i[i.ListLight=3]="ListLight",i[i.ListDark=4]="ListDark",i[i.ListSpecail=5]="ListSpecail",i[i.TextClink=6]="TextClink",i[i.BtnLabel=7]="BtnLabel",i[i.PopupTitle=8]="PopupTitle",i[i.PopupText=9]="PopupText",i[i.InfoLight=10]="InfoLight",i[i.InfoDark=11]="InfoDark",i[i.LevelLabel=12]="LevelLabel",i[i.InviteTip=13]="InviteTip",i[i.InviteBouns=14]="InviteBouns",i[i.InviteBounsNum=15]="InviteBounsNum",i[i.BetBonusVIP=16]="BetBonusVIP",i[i.PopupLightTips=17]="PopupLightTips";var d=["#FFFFFF","#59677C","#FFFFFF","#FFFFFF","#B8D7FF","#3085FF","#3085FF","#FFFFFF","#FFFFFF","#59677C","#B8D7FF","#59677C","#FFFFFF","#B8D7FF","#B8D7FF","#FFFFFF","#FFFFFF","#B8D7FF"],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeList")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DefaultNodeLogin:[function(e,t){"use strict";cc._RF.push(t,"ade2b2dwEJLNpkEpGFqLiQh","DefaultNodeLogin");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.TopToggle=1]="TopToggle",i[i.TopToggleCheck=2]="TopToggleCheck",i[i.TextLight=3]="TextLight",i[i.TextDark=4]="TextDark",i[i.TextSpecial=5]="TextSpecial",i[i.MessageLabel=6]="MessageLabel",i[i.MessageNum=7]="MessageNum",i[i.BtnLabel=8]="BtnLabel",i[i.InputLabel=9]="InputLabel",i[i.TextClick=10]="TextClick",i[i.InputTextLabel=11]="InputTextLabel",i[i.TileToggle=12]="TileToggle",i[i.TileToggleCheck=13]="TileToggleCheck";var d=["#FFFFFF","#59677C","#FFFFFF","#B8D7FF","#59677C","#6751EB","#FFFFFF","#6CE35C","#FFFFFF","#59677C","#6751EB","#FFFFFF","#59677C","#FFFFFF"],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeLogin")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DefaultNodeSetSelect:[function(e,t){"use strict";cc._RF.push(t,"58647s4foZP+b8cRRus4M5t","DefaultNodeSetSelect");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.Black=1]="Black",i[i.LoginText=2]="LoginText",i[i.MenuText=3]="MenuText",i[i.MenuToggleNormal=4]="MenuToggleNormal",i[i.MenuToggleCheck=5]="MenuToggleCheck",i[i.Language=6]="Language",i[i.LanguageCheck=7]="LanguageCheck",i[i.TabNomal=8]="TabNomal",i[i.TabCheck=9]="TabCheck",i[i.BottomTitle=10]="BottomTitle",i[i.BottomText=11]="BottomText",i[i.MailTitle=12]="MailTitle",i[i.MailText=13]="MailText",i[i.MailHide=14]="MailHide",i[i.TypeItemViewAll=15]="TypeItemViewAll",i[i.TypeItemTitle=16]="TypeItemTitle",i[i.TypeItemMore=17]="TypeItemMore",i[i.HallTypeToggle=18]="HallTypeToggle",i[i.HallTypeToggleCheck=19]="HallTypeToggleCheck",i[i.TypeIcon=20]="TypeIcon",i[i.TypeIconCheck=21]="TypeIconCheck",i[i.Nodate=22]="Nodate",i[i.LoadMore=23]="LoadMore",i[i.HallListLabel=24]="HallListLabel",i[i.HallListTitle=25]="HallListTitle",i[i.MenuLight=26]="MenuLight",i[i.MenuDark=27]="MenuDark";var d=["#FFFFFF","#000000","#6751EB","#B8D7FF","#59677C","#B8D7FF","#59677C","#B8D7FF","#59677C","#9DB8EF","#B8D7FF","#59677C","#59677C","#FFFFFF","#59677C","#67778E","#99ACD3","#59677C","#59677C","#FFFFFF","#FFFFFF","#FFFFFF","#1C2532","#59677C","#FFFFFF","#FFFFFF","#FFFFFF","#59677C"],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeSetSelect")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DefaultNodeStore:[function(e,t){"use strict";cc._RF.push(t,"13879ZZZUVMXIO05pxlyW6F","DefaultNodeStore");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.TopToggle=1]="TopToggle",i[i.TopToggleCheck=2]="TopToggleCheck",i[i.TextLight=3]="TextLight",i[i.TextDark=4]="TextDark",i[i.TextSpecial=5]="TextSpecial",i[i.MessageLabel=6]="MessageLabel",i[i.MessageNum=7]="MessageNum",i[i.BtnLabel=8]="BtnLabel",i[i.InputLabel=9]="InputLabel",i[i.StoreLeft=10]="StoreLeft",i[i.StoreLeftCheck=11]="StoreLeftCheck",i[i.TileToggle=12]="TileToggle",i[i.TileToggleCheck=13]="TileToggleCheck",i[i.ScrollNumItem=14]="ScrollNumItem";var d=["#FFFFFF","#59677C","#FFFFFF","#FFFFFF","#59677C","#B8D7FF","#FFFFFF","#00FF2E","#FFFFFF","#59677C","#8C83C8","#FFFFFF","#59677C","#FFFFFF","#FFFFFF"],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeStore")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DefaultNodeSupport:[function(e,t){"use strict";cc._RF.push(t,"67c19KBvEdJfoSsKlYNn9rD","DefaultNodeSupport");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.SupportTitle=1]="SupportTitle",i[i.SupportText=2]="SupportText",i[i.ItemTitle=3]="ItemTitle",i[i.BottomService=4]="BottomService",i[i.BtnLabel=5]="BtnLabel",i[i.TitleToggle=6]="TitleToggle",i[i.TitleToggleCheck=7]="TitleToggleCheck";var d=["#FFFFFF","#FFFFFF","#B8D7FF","#59677C","#59677C","#FFFFFF","#59677C","#FFFFFF"],u=[0,0,0,0,0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeSupport")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DefaultNodeVIP:[function(e,t){"use strict";cc._RF.push(t,"53202+v+R5MR79OPFdBwS3n","DefaultNodeVIP");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./BaseDefaultNodeSetSelect"),r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,p=r.disallowMultiple,l=r.menu,h=r.property;(i=o||(o={}))[i.White=0]="White",i[i.VIPInfoTitle=1]="VIPInfoTitle",i[i.InfoTextLight=2]="InfoTextLight",i[i.InfoTextDark=3]="InfoTextDark";var d=["#FFFFFF","#3085FF","#FFFFFF","#B8D7FF"],u=[0,0,0,0],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colorType=o.White,t}return __extends(t,e),Object.defineProperty(t.prototype,"colorType",{get:function(){return this._colorType},set:function(e){this._colorType=e,this.SetColor()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.SetColor()},t.prototype.SetColor=function(){var t=d[this.colorType];e.prototype.SetColorAndFontSize.call(this,t,u[this.colorType])},__decorate([h()],t.prototype,"_colorType",void 0),__decorate([h({type:cc.Enum(o)})],t.prototype,"colorType",null),__decorate([s,p(),c,l("Art/DefaultNodeVIP")],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"./BaseDefaultNodeSetSelect":"BaseDefaultNodeSetSelect"}],DemoServerManager:[function(e,t){"use strict";cc._RF.push(t,"426e1xkUgJGZ5G+EVOR0BxS","DemoServerManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.DemoServerManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="DemoServerManager",this.Log("Init"),app.Client.RegEvent(i.GameEventDefine.CHECK_UPDATE_SUCCESS,this.onCheckUpdateSuccess,this)},t.prototype.EnterGame=function(){var e=app.GameConfigManager().ExperienceServerUrl.split("https://")[1]||app.GameConfigManager().ExperienceServerUrl;app.ClientConfigManager().GetGlobalConfig.hosts=[e],this.Log("Enter Game",app.ClientConfigManager().GetGlobalConfig.hosts),app.ExternGameManager().ClearTimer(),app.GameServerManager().closeNeedntConnect(),app.GoServerManager().CloseConnect(),app.GameConfigManager().RequestGameConfig()},t.prototype.onCheckUpdateSuccess=function(){app.LoginManager().StartLogin()},t}(o.Singleton);n.DemoServerManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],DependentClickEvent:[function(e,t){"use strict";cc._RF.push(t,"5824b/AupZP47qrPXQ5XqZV","DependentClickEvent");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,o.disallowMultiple),r=o.menu,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.IsOutGamePop=function(){return app.RoomManager().IsOutGoldGamePop()},__decorate([i,a(),r("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/DependentClickEvent")],t)}(cc.Component);n.default=s,t.exports=n,cc._RF.pop()},{}],DropDownItem:[function(e,t){"use strict";cc._RF.push(t,"225676KmgdD/a1zcSsHz4HE","DropDownItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnRenderItem=function(){},__decorate([i()],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],DropDown:[function(e,t){"use strict";cc._RF.push(t,"9bbdf+YMHdPqYTvwUtENXK9","DropDown");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("../../Base/UIBaseComponent"),r=e("./DropDownItem"),s=cc._decorator,c=s.ccclass,p=s.property,l=s.disallowMultiple,h=s.menu;(i=o||(o={}))[i.NODE=1]="NODE",i[i.PREFAB=2]="PREFAB";var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=o.NODE,t.tmpNode=null,t.tmpPrefab=null,t.btnHead=null,t.nodeArrow=null,t.listParent=null,t.NodeList=null,t._SelectIdx=0,t._OnRenderSelectIdx=null,t._OnRenderItem=null,t._Target=null,t._Data=null,t.NodeListRoot=null,t}return __extends(t,e),t.prototype.Init=function(e,t,n){this.JS_Name="DropDown",this._Target=e,this._OnRenderSelectIdx=t,this._OnRenderItem=n},t.prototype.RenderList=function(e,t){var n=this;void 0===t&&(t=0),this._SelectIdx=t;var i=0;if("number"==typeof e?i=e:(this._Data=e,i=e.length),this._OnRenderItem){this.listParent.node.removeAllChildren();for(var a=0;a<i;a++){var s=cc.instantiate(this.templateType==o.PREFAB?this.tmpPrefab:this.tmpNode);this.listParent.node.addChild(s)}}this.listParent.node.children.forEach(function(e,t){n._OnRenderItem&&n._OnRenderItem.call(n._Target,e,t);var o=e.getComponent(r.default);o&&o.OnRenderItem(n._Data[t]),e.targetOff(n),e.on("toggle",n.OnClick_Toggle.bind(n,e.getComponent(cc.Toggle),t),n)}),this._SelectCallBack()},t.prototype.OnEnable=function(){this.NodeList=this.NodeListRoot||this.listParent.node,this.NodeList.active=!1,this.RenderArrow(),this.btnHead.node.on(cc.Node.EventType.TOUCH_END,this.OnClick_BtnWnd,this)},t.prototype.OnDisable=function(){this.btnHead.node.off(cc.Node.EventType.TOUCH_END,this.OnClick_BtnWnd,this)},t.prototype.OnClick=function(e,t,n){if(e==this.btnHead.node.name)return this.NodeList.active=!this.NodeList.active,void this.RenderArrow();this._SelectIdx=Number(n),this.NodeList.active=!1,this.RenderArrow(),this._SelectCallBack()},t.prototype.RenderArrow=function(){this.nodeArrow&&(this.nodeArrow.angle=this.NodeList.active?180:0)},t.prototype._SelectCallBack=function(){if(this._OnRenderSelectIdx){var e=this.listParent.node.children[this._SelectIdx],t=this._Data?this._Data[this._SelectIdx]:null;this._OnRenderSelectIdx.call(this._Target,this.btnHead.node,e,this._SelectIdx,t)}},__decorate([p({type:cc.Enum(o)})],t.prototype,"templateType",void 0),__decorate([p({type:cc.Node,visible:function(){return this.templateType==o.NODE}})],t.prototype,"tmpNode",void 0),__decorate([p({type:cc.Prefab,visible:function(){return this.templateType==o.PREFAB}})],t.prototype,"tmpPrefab",void 0),__decorate([p(cc.Button)],t.prototype,"btnHead",void 0),__decorate([p(cc.Node)],t.prototype,"nodeArrow",void 0),__decorate([p(cc.ToggleContainer)],t.prototype,"listParent",void 0),__decorate([p(cc.Node)],t.prototype,"NodeListRoot",void 0),__decorate([c,l(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/DropDown")],t)}(a.default);n.default=d,t.exports=n,cc._RF.pop()},{"../../Base/UIBaseComponent":"UIBaseComponent","./DropDownItem":"DropDownItem"}],EditBoxRegExp:[function(e,t){"use strict";cc._RF.push(t,"1db18eRxFNApq8k0NUXicVH","EditBoxRegExp");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.RegExpType=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.on("text-changed",this.onTextChanged,this)},t.prototype.onTextChanged=function(e){this.reg&&(e.string=e.string.replace(this.reg,""),e.focus()),this.textChangeCb&&this.textChangeCb.apply(this.cbTarget)},t.prototype.initRegExp=function(e,t,n){this.reg=e,this.textChangeCb=t,this.cbTarget=n},t}(cc.Component);n.default=o;var i=function(){function e(){}return e.test=/[^A-Za-z0-9]/g,e.NUM_And_Zero=/^0+|[^0-9]/g,e}();n.RegExpType=i,t.exports=n,cc._RF.pop()},{}],EditBox:[function(e,t){"use strict";cc._RF.push(t,"00b0fcEXy1B0aUNtYvGghKi","EditBox");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,o.disallowMultiple),r=o.menu,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._onTouchEnded=function(e){var t=this._impl;t&&(t.beginEditing(),t._elem.autocomplete="off"),e.stopPropagation()},t.prototype.editBoxTextChanged=function(e){e=this._updateLabelStringStyle(e,!0),this.string=e,cc.Component.EventHandler.emitEvents(this.textChanged,e,this),this.node.emit("text-changed",this),this.focus()},__decorate([i,a(),r("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/EditBox")],t)}(cc.EditBox);n.default=s,t.exports=n,cc._RF.pop()},{}],EffectMgr:[function(e,t){"use strict";cc._RF.push(t,"f68aa30S5NLerZK4iD4bbHO","EffectMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/Singleton"),i=e("../Bundle/BundleManager"),a=e("../Define/FormDefine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapKey2LoadState=new Map,t.mapKey2Node=new Map,t}return __extends(t,e),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="EffectMgr",this.TableInfo=app.SysDataManager().GetTableDict(a.FormDefine.Effect)},t.prototype.PreLoad=function(e){var t=this.TableInfo[e];t?t.BundleName?i.BundleManager.LoadAssets(t.FilePath,t.BundleName,cc.Prefab):app.ControlManager().CreateLoadPromise(t.FilePath,cc.Prefab,!1):this.ErrLog("PlayAnimation")},t.prototype.PlayAnimation=function(e){var t,n,o,a,r=this;if(!e)return this.ErrLog("PlayAnimation failed, name is required"),!1;if("string"==typeof e?t=e:(t=e.name,n=e.loadCB,o=e.currentTime,a=e.target),this.mapKey2LoadState.get(t))return!1;var s=this.TableInfo[t];if(s)return this.mapKey2LoadState.set(t,!0),(s.BundleName?i.BundleManager.LoadAssets(s.FilePath,s.BundleName,cc.Prefab):app.ControlManager().CreateLoadPromise(s.FilePath,cc.Prefab,!1)).then(function(e){if(r.mapKey2LoadState.get(t)){var i=app.Client.GetUILayer(),s=cc.find("animation",i);s||(s=new cc.Node,i.addChild(s));var c=cc.instantiate(e);r.mapKey2Node.set(t,c),s.addChild(c),n&&n(c);var p=c.getComponent(cc.Animation);p.play(),o&&p.setCurrentTime(o),p.once("finished",function(){a&&a.emit(t),r.mapKey2Node.delete(t),c.destroy()},r)}}).finally(function(){r.mapKey2LoadState.delete(t)}),!0;this.ErrLog("PlayAnimation failed, find '"+t+"' error")},t.prototype.IsPlaying=function(e){return!!this.mapKey2Node.get(e)},t.prototype.StopAnimation=function(e){this.mapKey2LoadState.delete(e);var t=this.mapKey2Node.get(e);return t&&t.destroy(),!0},t.prototype.ClearAnimation=function(){this.mapKey2LoadState.clear(),this.mapKey2Node.forEach(function(e){e.destroy()}),this.mapKey2Node.clear()},t.prototype.ResetBeginAnimation=function(e,t){var n=e.getComponent(cc.Animation);n&&(n.play(t),n.setCurrentTime(0),n.stop(t))},t}(o.Singleton);n.default=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Bundle/BundleManager":"BundleManager","../Define/FormDefine":"FormDefine"}],EffectPosTypeDefine:[function(e,t){"use strict";cc._RF.push(t,"34a78Gij2JHr7CHjzl1QNDM","EffectPosTypeDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.EffectPosType_1=1,e.EffectPosType_2=2,e.EffectPosType_3=3,e.EffectPosType_4=4,e.EffectPosType_5=5,e.EffectPosType_6=6,e.EffectPosType_7=7,e.EffectPosType_8=8,e.EffectPosType_9=9,e.EffectPosType_10=10,e}();n.default=o,t.exports=n,cc._RF.pop()},{}],EmailManager:[function(e,t){"use strict";cc._RF.push(t,"cddc39Kl2pCI6Mj+OM1ovCq","EmailManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.EmailManager=void 0;var o=e("../../../Base/Singleton"),i=e("../../../Define/GameEventDefine"),a=e("../../../Define/HttpServerDefine"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="EmailManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_EMAIL_LIST,this.onGetEmailList,this),app.HttpServerManager().RegNetPack(a.HttpAPI.ET_EMAIL_DETAIL,this.onGetEmailDetail,this),app.HttpServerManager().RegNetPack(a.HttpAPI.EMAIL_RECEIVE,this.onGetEmailRecvie,this),app.HttpServerManager().RegNetPack(a.HttpAPI.EMAIL_RECEIVEAll,this.onEmailRecvieAll,this),app.HttpServerManager().RegNetPack(a.HttpAPI.EMAIL_DEl_ALL,this.onEmailDelAll,this)},t.prototype.RequstEmailRecvieAll=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.EMAIL_RECEIVEAll,{token:app.UserManager().GetUserInfo.token})},t.prototype.onEmailRecvieAll=function(e){app.Client.OnEvent(i.GameEventDefine.EMAIL_RECEIVEAll,e)},t.prototype.RequstEmailDelAll=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.EMAIL_DEl_ALL,{token:app.UserManager().GetUserInfo.token})},t.prototype.onEmailDelAll=function(e){app.Client.OnEvent(i.GameEventDefine.EMAIL_DEl_ALL,e)},t.prototype.onGetEmailDetail=function(e){app.Client.OnEvent(i.GameEventDefine.ET_EMAIL_DETAIL,e)},t.prototype.onGetEmailList=function(e){e.sort(function(e,t){return e.status-t.status}),app.Client.OnEvent(i.GameEventDefine.GET_EMAIL_LIST,e)},t.prototype.RequstGetEmailDetail=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.ET_EMAIL_DETAIL,e)},t.prototype.RequstGetEmailList=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_EMAIL_LIST,e)},t.prototype.RequstGetEmailRecive=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.EMAIL_RECEIVE,e)},t.prototype.onGetEmailRecvie=function(e){app.Client.OnEvent(i.GameEventDefine.EMAIL_RECEIVE,e)},t}(o.Singleton);n.EmailManager=r,t.exports=n,cc._RF.pop()},{"../../../Base/Singleton":"Singleton","../../../Define/GameEventDefine":"GameEventDefine","../../../Define/HttpServerDefine":"HttpServerDefine"}],EventDefine:[function(e,t){"use strict";cc._RF.push(t,"f475c1bAWhNcJOnf+h8DHq5","EventDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.ENTER_GAME="ENTER_GAME",e.ENTER_GAME_COMMON="ENTER_GAME_COMMON",e.HOTUPDATE_DOWNLOAD="HOTUPDATE_DOWNLOAD",e.DOWNLOAD_PROGRESS="DOWNLOAD_PROGRESS",e}();n.default=o,t.exports=n,cc._RF.pop()},{}],EventFunAdapter:[function(e,t){"use strict";cc._RF.push(t,"ba4209f/KdOh6XEEx8JwAHt","EventFunAdapter");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.EventFunAdapter=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isRegistEvent=!1,t.router=!1,t}return __extends(t,e),t.prototype.Init=function(e){this.target=e,this._eventFuncDict={},this._sysFuncDict={},this._httpFuncDict={},this._roomFuncDict={},this._backFuncDict=[]},t.prototype.RegisterEvent=function(e){if(!this.isRegistEvent){for(var t in this._eventFuncDict)for(var n=this._eventFuncDict[t],o=0;o<n.length;o++)app.Client.RegEvent(t,n[o],this.target);for(o=0;o<this._backFuncDict.length;o++){var i=this._backFuncDict[o];app.KeyManager().RegBackEvent(i,this.target)}for(var t in this._httpFuncDict)for(n=this._httpFuncDict[t],o=0;o<n.length;o++)app.HttpServerManager().RegNetPack(t,n[o],this.target);for(var t in this._roomFuncDict)for(n=this._roomFuncDict[t],o=0;o<n.length;o++)app.GoServerManager().RegisterMsgHandler(t,n[o],this.target);for(var t in this._sysFuncDict)for(n=this._sysFuncDict[t],o=0;o<n.length;o++)cc.systemEvent.on(t,n[o],this.target);this.router&&app.KeyManager().RegRouterEvent(this.target,e),this.isRegistEvent=!0}},t.prototype.UnRegisterEvent=function(){if(this.isRegistEvent){app.Client.UnRegTargetEvent(this.target);for(var e=0;e<this._backFuncDict.length;e++){var t=this._backFuncDict[e];app.KeyManager().UnRegBackEvent(t,this.target)}for(var n in this._httpFuncDict){var o=this._httpFuncDict[n];for(e=0;e<o.length;e++)app.HttpServerManager().UnRegNetPack(n,o[e],this.target)}for(var n in this._roomFuncDict)for(o=this._roomFuncDict[n],e=0;e<o.length;e++)app.GoServerManager().UnregisterMsgHandler(n,o[e],this.target);cc.systemEvent.targetOff(this.target),this.isRegistEvent=!1}},t.prototype.RegEvent=function(e,t){this._eventFuncDict.SetDefault(e,[]).push(t)},t.prototype.RegSystemEvent=function(e,t){this._sysFuncDict.SetDefault(e,[]).push(t)},t.prototype.RegBackEvent=function(e){this._backFuncDict.push(e)},t.prototype.RegRouterEvent=function(){this.router=!0},t.prototype.RegHttpEvent=function(e,t){this._httpFuncDict.SetDefault(e,[]).push(t)},t.prototype.RegRoomEvent=function(e,t){this._roomFuncDict.SetDefault(e,[]).push(t)},t}(e("./BaseClass").BaseClass);n.EventFunAdapter=o,t.exports=n,cc._RF.pop()},{"./BaseClass":"BaseClass"}],EventListener:[function(e,t){"use strict";cc._RF.push(t,"8e9e3SQrRtGfpvYIatRYEZd","EventListener");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){e.obsArray={}}return Object.defineProperty(e,"Inst",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(t,n,o){for(var i in void 0===e.obsArray[t]&&(e.obsArray[t]=[]),e.obsArray[t]){var a=e.obsArray[t][i];if(a.func==n&&a.ob==o)return}e.obsArray[t].push({func:n,ob:o})},e.prototype.removeEventListener=function(t,n,o){var i=!1,a=e.obsArray[t];if(a)for(var r in a){var s=a[r],c=s.func,p=s.ob;n==c&&o==p&&(this.removeByElements(a,s),i=!0)}return i},e.prototype.removeEventListenerWithObject=function(t){for(var n in e.obsArray){var o=e.obsArray[n];for(var i in o){var a=o[i];a.ob==t&&this.removeByElements(o,a)}}},e.prototype.cleanAllEventListener=function(){e.obsArray={}},e.prototype.dispatchMsg=function(t,n){var o=e.obsArray[t];if(void 0!==o)for(var i in o){var a=o[i],r=a.func,s=a.ob;r&&s&&r.apply(s,[n])}else console.warn("\u6d88\u606f\u5217\u8868\u4e2d\u4e0d\u5b58\u5728: "+t+" \u6570\u636e\uff1a"+n)},e.prototype.removeByElements=function(e,t){for(var n=-1,o=0;o<e.length;o++)if(e[o]==t){n=o;break}0<=n&&e.splice(n,1)},e._instance=null,e.obsArray={},e}();n.default=o,t.exports=n,cc._RF.pop()},{}],EventTrackManager:[function(e,t){"use strict";cc._RF.push(t,"052d7M6gtdJXp/kK96qPfgL","EventTrackManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.EventTrackManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/TrackEventName"),a={};a[i.default.LAUNCH_START_BEGIN]=!0,a[i.default.GET_USER_INFO]=!0,a[i.default.LOGIN_GS_END]=!0,a[i.default.ENTER_HALL_SCENE]=!0,a[i.default.CLICK_ENTER_GAME]=!0,a[i.default.ENTER_GAME]=!0;var r=function(e){function t(){var t=e.call(this)||this;if(t.mapEventCount={},t.appEventCount={},t.JS_Name="EventTrackManager",t.Log("Init"),cc.sys.localStorage.CanUse){var n=cc.sys.localStorage.getItem("mapEventCount");n&&(t.mapEventCount=JSON.parse(n))}return t}return __extends(t,e),t.prototype.SaveEventCount=function(e){this.mapEventCount[e]?this.mapEventCount[e]+=1:this.mapEventCount[e]=1,this.appEventCount[e]?this.appEventCount[e]+=1:this.appEventCount[e]=1,cc.sys.localStorage.setItem("mapEventCount",JSON.stringify(this.mapEventCount))},t.prototype.LogEvent=function(e,t){app.PushTrackRecordManager().PushTrackRecord(e,t),app.AdjustEventTrackManager().LogEvent(e,t),app.PageTrackManager().PageTrackRecord(e,t),app.PixelManager().LogEvent(e,t),a[e]&&(this.SaveEventCount(e),1==this.mapEventCount[e]&&app.GoogleAnalyticsManager().LogEvent("first_"+e),1==this.appEventCount[e]&&app.GoogleAnalyticsManager().LogEvent("session_"+e))},t}(o.Singleton);n.EventTrackManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/TrackEventName":"TrackEventName"}],EventWaitType:[function(e,t){"use strict";cc._RF.push(t,"c99fdsisJZP3IFj1Rm7mwde","EventWaitType");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.EventWaitType=void 0,(n=o.EventWaitType||(o.EventWaitType={}))[n.WaitLoading=0]="WaitLoading",n[n.RemoveLoading=1]="RemoveLoading",n[n.OpenNet=2]="OpenNet",n[n.ReceiveNet=3]="ReceiveNet",n[n.OpenCenterNet=4]="OpenCenterNet",n[n.ReceiveCenterNet=5]="ReceiveCenterNet",n[n.OpenRoomNet=6]="OpenRoomNet",n[n.ReceiveRoomNet=7]="ReceiveRoomNet",n[n.OpenAppStorePay=8]="OpenAppStorePay",n[n.CloseAppStorePay=9]="CloseAppStorePay",n[n.CreateRoomBegin=10]="CreateRoomBegin",n[n.CreateRoomEnd=11]="CreateRoomEnd",n[n.CreateFormBegin=12]="CreateFormBegin",n[n.CreateFormEnd=13]="CreateFormEnd",n[n.LoadSceneBegin=14]="LoadSceneBegin",n[n.LoadSceneEnd=15]="LoadSceneEnd",n[n.OpenAdvertising=16]="OpenAdvertising",n[n.CloseAdvertising=17]="CloseAdvertising",n[n.OpenWaitLogin=18]="OpenWaitLogin",n[n.CloseWaitLogin=19]="CloseWaitLogin",n[n.OpenNetNow=20]="OpenNetNow",n[n.ReceiveNetNow=21]="ReceiveNetNow",n[n.Close=100]="Close",t.exports=o,cc._RF.pop()},{}],ExternGameManager:[function(e,t){"use strict";cc._RF.push(t,"b0b71sQ70FFn7VetYBAnWsF","ExternGameManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ExternGameManager=void 0;var o=e("../Define/EventWaitType"),i=e("../../script/common/room_mode_tool"),a=e("../Base/Singleton"),r=e("../Define/HttpServerDefine"),s=e("../Define/ShareDefine"),c=e("../Define/GameEventDefine"),p=e("../../script/HallScene/ExternGame/ExternGame"),l=e("../Define/UINameDefine"),h=e("../../script/common/Orientation"),d=e("../Define/TextDefine"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timer=0,t.gid=0,t.subGid=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ExternGameManager",this.Log("Init"),this.WebExternGame=new p.default,app.HttpServerManager().RegNetPack(r.HttpAPI.CHECK_GAME_STATUS,this.onCheckGameStatus,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GAME_DOWN,this.OnGameDown,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GAME_UP,this.OnGameUp,this),app.HttpServerManager().RegNetPack(r.HttpAPI.HtmlGameProgress,this.OnHtmlGameProgress,this),app.HttpServerManager().RegNetPack(r.HttpAPI.WatchAdsInSubGames,this.OnWatchAdsInSubGames,this),app.Client.RegEvent(c.GameEventDefine.UPDATE_TOTAL_RECHARGE,this.OnUpdateTotalRecharge,this),app.Client.RegEvent(c.GameEventDefine.UPDATE_USER_EXT_GOLD,this.OnUpdateUserInfo,this)},t.prototype.EnterGame=function(e,t){var n=this,o=this.GetExternGameInfo(e);if(o){var i=this.GetExternGameInfoOrSubGameInfo(e,t);if(this.Track_gid=e,this.subGid=t,null!=i&&null!=i.least_gold)if(app.UserManager().GetUserInfo.gold<Number(i.least_gold)&&1==isgoServer)this.OnConfirm("SC_LessThanChips",i.least_gold);else if(this.IsMaintain(e,t))app.SysNotifyManager().ShowToast(i.mtc_msg);else if(1!=o.show_rate_tips)this.RequestExGame(i,t);else{var a=app.TextManager().GetTextInfo(d.TextDefine.withdraw);if(a){var r=app.GameConfigManager().GetOtherGameItem(this.Track_gid),c=app.i18n.t(a).replace(/{game_name}/g,r.name).replace(/{bw_rate}/g,r.bw_rate.toString());app.ConfirmManager().ShowConfirm(s.ConfirmType.ConfirmYN,c,null,function(){n.RequestExGame(i,n.subGid)})}}else app.SysNotifyManager().ShowToast("Load server config failed, please login again")}else this.ErrLog("EnterGame failed: "+e)},t.prototype.RequestExGame=function(e,t){if(this.tmpGameInfo=e,t){var n=this.GetExternGameSubInfo(e.gid,t);n?this.RequestEnterExternGame(n):this.ErrLog("RequestExGame gid: "+e.gid+", subGid: "+t)}else app.HttpServerManager().SendHttpPack(r.HttpAPI.CHECK_GAME_STATUS,{token:app.UserManager().GetUserInfo.token,gid:e.gid})},t.prototype.onCheckGameStatus=function(e){if(this.tmpGameInfo){var t=e.game_id;t&&this.tmpGameInfo.gid!=t?app.SysNotifyManager().ShowToast(e.msg):this.RequestEnterExternGame()}},t.prototype.RequestEnterExternGame=function(e){this.tmpSubInfo=e,isgoServer?app.Client.OnEvent(c.GameEventDefine.UPDATE_TOTAL_RECHARGE):app.UserManager().RequestUserInfo({token:app.UserManager().GetUserInfo.token})},t.prototype.OnUpdateTotalRecharge=function(){if(this.tmpGameInfo){var e=app.GameConfigManager().GameRechargeLimit(this.tmpGameInfo.gid);if(Number(app.UserManager().GetUserInfo.total_recharge)<e)this.OnConfirm("SC_LessRecChips",e+"");else{var t=this.tmpSubInfo?this.tmpSubInfo.sub_gid:0,n=this.tmpSubInfo?this.tmpSubInfo.game_show:this.tmpGameInfo.game_show;this.RequestGameUp(this.tmpGameInfo.gid,t,n)}}else this.ErrLog("OnUpdateTotalRecharge failed")},t.prototype.EnterGameScene=function(){var e={token:app.UserManager().GetUserInfo.token},t=this.tmpSubInfo?this.tmpSubInfo.url:this.tmpGameInfo.url,n=app.ComTool().ParseParamsToUri(t,e);this.ExternGameUrl=n;var o=1==this.tmpGameInfo.game_show?i.GameScene.PORTRAIT:i.GameScene.LANDSCAPE;this.Log("scene name: "+o),this.tmpGameInfo=null,this.tmpSubInfo=null,app.GameManager().enterScene(o)},t.prototype.OnConfirm=function(e,t){app.ConfirmManager().ShowConfirm(s.ConfirmType.ConfirmYN,e,[String(t)],function(){app.ActivityManager().selectShop()},null,this)},Object.defineProperty(t.prototype,"GetExternGameUrl",{get:function(){return this.ExternGameUrl},enumerable:!1,configurable:!0}),t.prototype.IsExternGame=function(e,t){if(t&&isgoServer)return this.IsExternGameSubId(t);var n=this.GetExternGameInfo(e);return!!n&&n.is_external},t.prototype.IsExternGameSubId=function(e){var t=this.GetExternGameInfoSubId(e);return!!t&&t.is_external},t.prototype.GetExternGameInfoSubId=function(e){return app.GameConfigManager().GetGameListItemSubId(e)},t.prototype.GetExternGameInfo=function(e){return app.GameConfigManager().GetGameListItem(e)},t.prototype.GetExternGameInfoOrSubGameInfo=function(e,t){return t?this.GetExternGameSubInfo(e,t):this.GetExternGameInfo(e)},t.prototype.IsMaintain=function(e,t){var n=this.GetExternGameInfoOrSubGameInfo(e,t),o=Date.now();return n&&n.mtc_status&&o>=n.mtc_st_date&&o<=n.mtc_end_date},t.prototype.GetExternGameSubInfo=function(e,t){return app.GameConfigManager().GetSubGameListItem(e,t)},t.prototype.RequestGameDown=function(e){var t=this;if(void 0===e&&(e=!1),app.UserManager().getIsOfficialAccount()&&!this.timer){e&&app.Client.OnEvent(c.GameEventDefine.SHOW_GAME_DOWN);var n=0;n=3,this.timer=window.setInterval(function(){++n>=3&&(t.ClearTimer(),app.Client.OnEvent(c.GameEventDefine.HIDE_GAME_DOWN))},5e3)}},t.prototype.RequestGameDown2=function(e){var t=app.UserManager().GetUserInfo.token;app.HttpServerManager().SendHttpPack(r.HttpAPI.GAME_DOWN,{token:t,Sub_Gid:e},!1)},t.prototype.ClearTimer=function(){this.timer&&clearInterval(this.timer),this.timer=0,app.FormManager().CloseForm(l.UINameDefine.UISettlement)},t.prototype.IsGameDown=function(){return this.timer},t.prototype.OnGameDown=function(){},t.prototype.RequestGameUp=function(e,t,n){var o={token:app.UserManager().GetUserInfo.token,gid:e,sub_gid:t,direction:n,type:cc.sys.platform};this.UserCash=app.UserManager().GetUserInfo.gold,app.HttpServerManager().SendHttpPack(r.HttpAPI.GAME_UP,o)},t.prototype.OnUpdateUserInfo=function(e){null!=e?(this.UserCash=e,this.WebExternGame.UpdateUserInfo()):this.ErrLog("OnUpdateUserInfo failed, cash is null")},t.prototype.OnGameUp=function(e,t){if(e.sub_gid=t.sub_gid,1!=isgoServer||e.base_url)this.tmpGameInfo=null,e.base_url?(this.gid=e.gid,this.ClearTimer(),app.ComTool().CheckPlatform()||0!==t.direction||h.default.setOrientation(cc.find("Canvas").getComponent(cc.Canvas),"H"),this.WebExternGame.init(e)):this.ErrLog("Invalid base_url");else{var n=this,i=cc.loader.getXMLHttpRequest();i.open("GET",e.url,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4==this.readyState&&(app.Client.OnEvent("ModalLayer",o.EventWaitType.ReceiveNet),200==this.status)){var a=JSON.parse(i.responseText);0==a.resultCode?(e.base_url=a.data,n.tmpGameInfo=null,e.base_url?(n.gid=e.gid,n.ClearTimer(),app.ComTool().CheckPlatform()||0!==t.direction||h.default.setOrientation(cc.find("Canvas").getComponent(cc.Canvas),"H"),n.WebExternGame.init(e)):n.ErrLog("Invalid base_url")):app.SysNotifyManager().ShowToast(a.data)}},i.timeout=15e3,i.send(),app.Client.OnEvent("ModalLayer",o.EventWaitType.OpenNet)}},t.prototype.OnExperienceGame=function(e){this.WebExternGame.init(e)},Object.defineProperty(t.prototype,"GetGid",{get:function(){return this.gid},enumerable:!1,configurable:!0}),t.prototype.ParentPostMessage=function(e){var t={type:"globalGames",data:e};window.parent&&window.parent.postMessage(t,"*")},t.prototype.GetBackIconInfo=function(e){var t={url:app.GameConfigManager().GetGameConfig().back_pic_icon,position:{top:-1,left:-1}},n=app.GameConfigManager().GetGameInfoByGid(e);n&&n.position_set&&n.back_pic&&(t.url=n.back_pic,t.position.top=Number(n.position_set.top),t.position.left=Number(n.position_set.left));var o=app.LocalDataManager().GetConfigObject("ExternGameCache");return o&&(t.position.top=Number(o.top),t.position.left=Number(o.left)),t},t.prototype.setExternGameCacheLocalData=function(e,t){app.LocalDataManager().SetConfigObject("ExternGameCache",{top:e,left:t})},t.prototype.RequestHtmlGameProgressHall=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.HtmlGameProgress,{token:app.UserManager().GetUserInfo.token,type:e})},t.prototype.RequestWatchAdsInSubGames=function(){var e=app.GameConfigManager().GetAsTime(),t=app.GameConfigManager().GetAsTime(),n="/HtmlView/WatchAdsInSubGames"+e+t+"--sjkfopwfpqopi",o=CryptoJS.HmacSHA256(n,"TgGamexxBpcyBhIGtleQ==").toString(CryptoJS.enc.Base64);app.HttpServerManager().SendHttpPack(r.HttpAPI.WatchAdsInSubGames,{token:app.UserManager().GetUserInfo.token,TimeStamp:e,UniqueID:t,SignKey:encodeURIComponent(o)})},t.prototype.OnWatchAdsInSubGames=function(){},t.prototype.RequestHtmlGameProgress=function(e,t){0==app.GameConfigManager().GetGameConfig().show_progressHtmlGameProgress||(0==e&&(this.WebExternGame.initHtmlView(),this.inSubGame=!0),app.HttpServerManager().SendHttpPack(r.HttpAPI.HtmlGameProgress,{token:app.UserManager().GetUserInfo.token,type:e,missionType:t}))},t.prototype.OnHtmlGameProgress=function(e){null==app.GameConfigManager().GetGameConfig().show_progressHtmlGameProgress&&(app.GameConfigManager().GetGameConfig().show_progressHtmlGameProgress=e.show_progress),0==app.GameConfigManager().GetGameConfig().show_progressHtmlGameProgress||(e.receivedGold,1==this.inSubGame&&(this.WebExternGame.updataGameProgressView(e),document.getElementById("gameTaskNode").style.display="block"))},t.prototype.hideGameProgressNode=function(){0!=app.GameConfigManager().GetGameConfig().show_progressHtmlGameProgress&&this.WebExternGame.hideGameProgressNode()},t.prototype.OnWebSocketGameProgress=function(){},t.prototype.setExternGameCacheLocalData2=function(){},t}(a.Singleton);n.ExternGameManager=u,t.exports=n,cc._RF.pop()},{"../../script/HallScene/ExternGame/ExternGame":"ExternGame","../../script/common/Orientation":"Orientation","../../script/common/room_mode_tool":"room_mode_tool","../Base/Singleton":"Singleton","../Define/EventWaitType":"EventWaitType","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/ShareDefine":"ShareDefine","../Define/TextDefine":"TextDefine","../Define/UINameDefine":"UINameDefine"}],ExternGame:[function(e,t){"use strict";cc._RF.push(t,"bd89b/t1rxPC6RX1h48KOz6","ExternGame");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Define/TrackEventName"),i=e("../../common/GIDTool"),a=e("../../common/Orientation"),r=function(){function e(){this.isInit=!1,this.isInitUIGoldReward=!1,this.isLoaded=!1,this.scoreEnd=!1,this.gameUpInfo=null,this.disLeft=0,this.disTop=0}return e.prototype.init=function(e,t){void 0===t&&(t=!0),this.gameUpInfo=e;var n=e.base_url?e.base_url:e.url;cc.log("init "+n),cc.sys.isBrowser?(this.scoreEnd=t,this.initHtmlView(),app.EventTrackManager().LogEvent(o.default.ENTER_GAME,{gid:app.ExternGameManager().Track_gid}),this.showLoading(e),this.show(n)):cc.error("ExternGame init failed: "+n)},e.prototype.initHtmlView=function(){this.isInit||(this.isInit=!0,this.initWebIframe(),this.initLoadingIframe(),this.initBtn(),this.initTips(),window.addEventListener("message",this.OnMessage.bind(this),!1))},e.prototype.OnMessage=function(e){cc.log("ExternGame::OnMessage");try{var t=e.data;if(t&&"globalGames"==t.type)this.hideAll();else if(this.gameUpInfo&&this.gameUpInfo.gid==i.GIDTool.PINGBO){var n=this.gameUpInfo.cross_domain_url;if(!n)return void cc.error("Invalid gameUpInfo cross_domain_url");if(e.origin&&e.origin.toLowerCase().endsWith(n))switch(t.action){case"OPEN_WINDOW":window.open(t.url)}}}catch(o){cc.log(o.message)}},e.prototype.initWebIframe=function(){var e=this,t=document.createElement("iframe");t.id="Game",t.draggable=!1,document.body.appendChild(t),t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.display="none",t.style.border="none",t.style.backgroundColor="#FFFFFF",t.onload=function(){cc.log("ExternGame url loaded"),e.isLoaded=!0,e.hideLoading()},t.onerror=function(){cc.error("ExternGame iframe show error.")}},e.prototype.initLoadingIframe=function(){var e=document.createElement("iframe");e.id="extern_loading",document.body.appendChild(e),e.draggable=!1,e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.display="none",e.style.border="none",e.style.backgroundColor="transparent"},e.prototype.UpdateUserInfo=function(){},e.prototype.initBtn=function(){var e=document.createElement("button");e.id="BtnBack",e.draggable=!0,e.style.display="none",e.style.position="absolute";var t=cc.sys.platform==cc.sys.DESKTOP_BROWSER?"90px":"40px";e.style.width=t,e.style.height=t,e.style.left="60px",e.style.top="30px",e.style.border="none",e.style.backgroundColor="transparent",e.addEventListener("click",this.showTips.bind(this)),e.addEventListener("dragstart",this.dragstart.bind(this)),e.addEventListener("dragend",this.dragend.bind(this)),e.addEventListener("touchmove",this.touchmove.bind(this)),e.addEventListener("touchstart",this.touchstart.bind(this)),document.body.appendChild(e);var n=document.createElement("img");n.id="return_btn2",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.left="0px",n.style.top="0px",e.appendChild(n),this.initGameProgressBtn()},e.prototype.touchstart=function(e){var t=e.touches[0];this.setDisFun(t.clientX,t.clientY)},e.prototype.touchmove=function(e){var t=e.touches[0],n=t.clientX-this.disLeft,o=t.clientY-this.disTop;this.onBtnEndFun(o,n),e.preventDefault()},e.prototype.dragstart=function(e){this.setDisFun(e.clientX,e.clientY)},e.prototype.dragend=function(e){var t=e.clientX-this.disLeft,n=e.clientY-this.disTop;this.onBtnEndFun(n,t)},e.prototype.setDisFun=function(e,t){var n=document.getElementById("BtnBack");this.disLeft=e-n.offsetLeft,this.disTop=t-n.offsetTop},e.prototype.onBtnEndFun=function(e,t){var n=document.getElementById("BtnBack");e<0?e=0:e>document.body.clientHeight-n.offsetHeight&&(e=document.body.clientHeight-n.offsetHeight),t<0?t=0:t>document.body.clientWidth-n.offsetWidth&&(t=document.body.clientWidth-n.offsetWidth),n.style.left=t+"px",n.style.top=e+"px",app.ExternGameManager().setExternGameCacheLocalData(e,t)},e.prototype.initTips=function(){var e=document.createElement("div");e.id="TIP",e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.display="none",document.body.appendChild(e);var t=document.createElement("div");t.id="layer",t.style.position="absolute",t.style.width="331.7px",t.style.height="198.7px",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%,-50%)",t.style.display="flex",t.style.flexDirection="column",e.appendChild(t);var n=document.createElement("img");n.id="bg",n.src="externGame/bg_layer.png",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.top="0px",n.style.left="0px",t.appendChild(n);var o=document.createElement("div");o.id="tit",this.getInputTxt(o,"UI.Tips"),o.style.position="absolute",o.style.left="50%",o.style.top="10%",o.style.transform="translate(-50%,-50%)",o.style.color="#E1E1E1",o.style.fontSize="20px",o.style.fontWeight="bold",t.appendChild(o);var i=document.createElement("div");i.id="text_tips",this.getInputTxt(i,"UI_ExternGame"),i.style.position="absolute",i.style.top="35%",i.style.color="#2B2B2B",i.style.fontSize="18px",i.style.maxWidth="300px",i.style.alignSelf="center",i.style.wordBreak="break-word",i.style.textAlign="center",t.appendChild(i);var a=document.createElement("button");a.id="btn_enter",a.style.position="absolute",a.style.width="40%",a.style.height="20%",a.style.left="5%",a.style.top="70%",a.style.border="none",a.style.backgroundColor="transparent",a.addEventListener("click",this.hideAll.bind(this)),t.appendChild(a);var r=document.createElement("img");r.id="btnOkBg",r.src="externGame/btn_bg.png",r.style.position="absolute",r.style.width="100%",r.style.height="100%",r.style.left="0px",r.style.top="0px",a.appendChild(r);var s=document.createElement("div");s.id="btnOk_txt",this.getInputTxt(s,"General.General_1"),s.style.position="absolute",s.style.top="50%",s.style.left="50%",s.style.transform="translate(-50%,-50%)",s.style.fontSize="18px",s.style.color="#2B2B2B",a.appendChild(s);var c=document.createElement("button");c.id="btn_enter Cancel",c.style.position="absolute",c.style.width="40%",c.style.height="20%",c.style.left="55%",c.style.top="70%",c.style.border="none",c.style.backgroundColor="transparent",c.addEventListener("click",this.hideTips.bind(this)),t.appendChild(c);var p=document.createElement("img");p.id="btnCancelBg",p.src="externGame/btn_bg2.png",p.style.position="absolute",p.style.width="100%",p.style.height="100%",p.style.left="0px",p.style.top="0px",c.appendChild(p);var l=document.createElement("div");l.id="btnCancel_txt",this.getInputTxt(l,"General.General_2"),l.style.position="absolute",l.style.left="50%",l.style.top="50%",l.style.transform="translate(-50%,-50%)",l.style.fontSize="18px",l.style.color="#FFFFFF",c.appendChild(l)},e.prototype.initGameProgressBtn=function(){var e=document.createElement("button");e.id="gameTaskNode",e.style.position="absolute",e.style.width="301px",e.style.height="127px",e.style.transform="translate(-50%,-50%)",e.style.border="none",e.style.backgroundColor="transparent",document.body.appendChild(e);var t=document.createElement("div");t.id="fc01",t.style.position="absolute",t.style.width="301px",t.style.height="127px",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%,-50%)",t.style.backgroundImage="url(externGame/fc01.png)",e.appendChild(t);var n=document.createElement("div");n.id="desLabel",n.innerHTML="Play for 60 seconds",n.style.position="absolute",n.style.width="130px",n.style.height="45.2px",n.style.top="33.75px",n.style.left="47.31px",n.style.fontSize="20px",n.style.color="#993200",n.style.fontWeight="bold",n.style.wordWrap="break-word",t.appendChild(n),t.style.display="none";var o=document.createElement("div");o.id="fc02",o.style.position="absolute",o.style.width="301px",o.style.height="127px",o.style.left="50%",o.style.top="50%",o.style.transform="translate(-50%,-50%)",o.style.backgroundImage="url(externGame/fc02.png)",e.appendChild(o);var i=document.createElement("div");i.id="goldLabel",i.innerHTML="+100",i.style.position="absolute",i.style.width="130px",i.style.height="50.4px",i.style.top="27.41px",i.style.left="51.79px",i.style.fontSize="40px",i.style.lineHeight="50.4px",i.style.color="#993200",i.style.fontWeight="bold",o.appendChild(i);var a=document.createElement("img");a.src="externGame/fcjt.png",a.style.position="absolute",a.style.width="76px",a.style.height="84px",a.style.left="115.00px",a.style.top="-68.66px",o.appendChild(a);var r=document.createElement("div");r.style.position="absolute",r.style.width="193px",r.style.height="11px",r.style.left="52.52px",r.style.top="85.09px",r.style.backgroundImage="url(externGame/progressBarBG.png)",e.appendChild(r);var s=document.createElement("div");s.id="progressBar",s.style.position="absolute",s.style.width="213px",s.style.height="31px",s.style.left="42.52px",s.style.top="75.09px",s.style.backgroundImage="url(externGame/progressBar.png)",e.appendChild(s);var c=document.createElement("img");c.src="externGame/jb.png",c.style.position="absolute",c.style.width="88px",c.style.height="89px",c.style.left="177.11px",c.style.top="-8.03px",e.appendChild(c),e.draggable=!0,e.addEventListener("click",this.showProgressView.bind(this)),e.addEventListener("dragstart",this.dragstartProgressNode.bind(this)),e.addEventListener("dragend",this.dragendProgressNode.bind(this)),e.addEventListener("touchmove",this.touchmoveProgressNode.bind(this)),e.addEventListener("touchstart",this.touchstartProgressNode.bind(this)),e.style.display="none",this.initGameProgressView(),window.AdControllerAdsgram=window.Adsgram.init({blockId:"4254"}),window.addEventListener("message",function(e){var t=e.data.ADType;1==t&&AdControllerAdsgram.show().then(function(e){1==e.done&&app.ExternGameManager().RequestWatchAdsInSubGames(),document.getElementById("Game").contentWindow.postMessage({ADType:t,resultDone:e.done},"*")}).catch(function(){})})},e.prototype.showProgressView=function(){this.gameProgressdata.progress>=1?app.ExternGameManager().RequestHtmlGameProgress(1,this.gameProgressdata.missionType):1==this.gameProgressdata.missionType&&AdControllerAdsgram.show().then(function(e){1==e.done&&app.ExternGameManager().RequestHtmlGameProgress(2,1)}).catch(function(){})},e.prototype.getGameProgressReward=function(){this.gameProgressdata&&this.gameProgressdata.receiveGold>0&&app.ExternGameManager().RequestHtmlGameProgress(1,this.gameProgressdata.missionType)},e.prototype.touchstartProgressNode=function(e){var t=e.touches[0];this.setDisFunProgressNode(t.clientX,t.clientY)},e.prototype.touchmoveProgressNode=function(e){var t=e.touches[0],n=t.clientX-this.disLeft,o=t.clientY-this.disTop;this.onBtnEndFunProgressNode(o,n),e.preventDefault()},e.prototype.dragstartProgressNode=function(e){this.setDisFunProgressNode(e.clientX,e.clientY)},e.prototype.dragendProgressNode=function(e){var t=e.clientX-this.disLeft,n=e.clientY-this.disTop;this.onBtnEndFunProgressNode(n,t)},e.prototype.setDisFunProgressNode=function(e,t){var n=document.getElementById("gameTaskNode");this.disLeft=e-n.offsetLeft,this.disTop=t-n.offsetTop},e.prototype.onBtnEndFunProgressNode=function(e,t){var n=document.getElementById("gameTaskNode");e<this.gameProgressNodeHeight?e=this.gameProgressNodeHeight:e>document.body.clientHeight-this.gameProgressNodeHeight&&(e=document.body.clientHeight-this.gameProgressNodeHeight),t<this.gameProgressNodeWidth?t=this.gameProgressNodeWidth:t>document.body.clientWidth-this.gameProgressNodeWidth&&(t=document.body.clientWidth-this.gameProgressNodeWidth),n.style.left=t+"px",n.style.top=e+"px",app.ExternGameManager().setExternGameCacheLocalData2(e,t)},e.prototype.initGameProgressView=function(){if(this.gameProgressNodeWidth=150.5,this.gameProgressNodeHeight=63.5,cc.sys.platform!=cc.sys.DESKTOP_BROWSER){var e=document.documentElement.clientWidth/document.documentElement.clientHeight<750/1334?document.documentElement.clientWidth/750:document.documentElement.clientHeight/1334;e<=1&&(document.getElementById("gameTaskNode").style.transform="translate(-50%,-50%) scale("+e+")",this.gameProgressNodeWidth*=e,this.gameProgressNodeHeight*=e)}document.getElementById("gameTaskNode").style.left=document.body.clientWidth-this.gameProgressNodeWidth+"px",document.getElementById("gameTaskNode").style.top=document.body.clientHeight-this.gameProgressNodeHeight+"px"},e.prototype.updataGameProgressView=function(e){this.gameProgressdata=e;var t=e.completeNumber/e.needNumber;if(this.gameProgressdata.progress=t,t>=1?(document.getElementById("fc01").style.display="none",document.getElementById("fc02").style.display="block",document.getElementById("goldLabel").innerHTML="+"+e.receiveGold):(document.getElementById("fc01").style.display="block",document.getElementById("fc02").style.display="none",document.getElementById("desLabel").innerHTML=e.title),t>1?t=1:t<0&&(t=0),t*=100,document.getElementById("progressBar").style.clipPath="polygon(0 0,0 100%,"+t+"% 100%,"+t+"% 0)",e.completeNumber/e.needNumber>=1);else if(2==e.missionType){var n=this;clearInterval(n.createTimerPlayGame),n.gameProgressdata.completeNumberEnd=n.gameProgressdata.completeNumber+60,n.createTimerPlayGame=setInterval(function(){n.gameProgressdata.completeNumber+=1;var e=n.gameProgressdata.completeNumber/n.gameProgressdata.needNumber;e>1?e=1:e<0&&(e=0),e*=100,document.getElementById("progressBar").style.clipPath="polygon(0 0,0 100%,"+e+"% 100%,"+e+"% 0)",(n.gameProgressdata.completeNumber>=n.gameProgressdata.needNumber||n.gameProgressdata.completeNumber>=n.gameProgressdata.completeNumberEnd)&&(clearInterval(n.createTimerPlayGame),app.ExternGameManager().RequestHtmlGameProgress(2,2))},1e3)}},e.prototype.initUIGoldReward=function(){var e=document.createElement("div");e.id="UIGoldReward",e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0, 0, 0, 0.78)",document.body.appendChild(e);var t=document.createElement("div");t.id="BGGoldReward",t.style.position="absolute",t.style.width="662px",t.style.height="533px",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%,-50%)",t.style.display="flex",t.style.flexDirection="column",t.style.backgroundImage="url(externGame/RewardsBG.png)",e.appendChild(t);var n=document.createElement("div");if(n.id="Rewardtext",n.innerHTML='Congratulations on receiving a reward of <span style="color: #FF4D00;">500 coin.</span>',n.style.position="absolute",n.style.left="50%",n.style.top="247.81px",n.style.transform="translate(-50%,0%)",n.style.color="#7C7C7C",n.style.fontSize="28px",n.style.lineHeight="52px",n.style.width="430px",n.style.textAlign="center",n.style.height="117.52px",t.appendChild(n),e.addEventListener("click",this.hideUIGoldReward.bind(this)),cc.sys.platform!=cc.sys.DESKTOP_BROWSER){var o=document.documentElement.clientWidth/document.documentElement.clientHeight<750/1334?document.documentElement.clientWidth/750:document.documentElement.clientHeight/1334;o<=1&&(document.getElementById("BGGoldReward").style.transform="translate(-50%,-50%) scale("+o+")")}},e.prototype.openUIGoldReward=function(e){this.isInitUIGoldReward||(this.isInitUIGoldReward=!0,this.initUIGoldReward()),document.getElementById("UIGoldReward").style.display="block",document.getElementById("Rewardtext").innerHTML=app.i18n.t("UI_PlayMiniGamesTogether_UIGoldRewardHtml1").replace("{st_gold}",'<span style="color: #FF4D00;">'+e.receivedGold)},e.prototype.hideUIGoldReward=function(){document.getElementById("UIGoldReward").style.display="none"},e.prototype.onRefreshLabel=function(){var e=document.getElementById("tit");this.getInputTxt(e,"UI.Tips");var t=document.getElementById("text_tips");this.getInputTxt(t,"UI_ExternGame");var n=document.getElementById("btnOk_txt");this.getInputTxt(n,"General.General_1");var o=document.getElementById("btnCancel_txt");this.getInputTxt(o,"General.General_2")},e.prototype.getInputTxt=function(e,t){e.innerHTML=app.i18n.t(t)},e.prototype.show=function(e){try{var t=document.getElementById("Game");t.style.display="block",t.src=e}catch(n){cc.error("show url",n.message)}},e.prototype.showLoading=function(e){var t=document.getElementById("extern_loading");t.style.display="block",t.src="externGame/index.html",this.setBackBtnInfo(e)},e.prototype.setBackBtnInfo=function(){try{var e=app.ExternGameManager().GetBackIconInfo(this.gameUpInfo.gid);document.getElementById("return_btn2").src=e.url?e.url:"externGame/return_btn.png";var t=document.getElementById("BtnBack");t.style.display="block";var n=e.position;t.style.left=n.left>=0?n.left+"px":"60px",t.style.top=n.top>=0?n.top+"px":"30px"}catch(o){cc.error("show url",o.message)}app.ExternGameManager().RequestHtmlGameProgress(0,0)},e.prototype.showTips=function(){this.onRefreshLabel(),document.getElementById("TIP").style.display="block"},e.prototype.hideLoading=function(){document.getElementById("extern_loading").style.display="none"},e.prototype.hideTips=function(){document.getElementById("TIP").style.display="none"},e.prototype.hideGameProgressView=function(){},e.prototype.hideAll=function(){this.scoreEnd&&(this.gameUpInfo.is_experience_server||app.ExternGameManager().RequestGameDown(!0),app.ExternGameManager().RequestGameDown2(this.gameUpInfo.sub_gid),isgoServer&&app.UserManager().RequstUserWallet(),app.HallManager().GetFreeOutGameWindow()),this.gameUpInfo=null,this.isLoaded=!1;var e=document.getElementById("Game");e.src="about:blank",e.style.display="none",document.getElementById("BtnBack").style.display="none",this.hideGameProgressNode(),this.hideTips(),this.hideLoading(),app.ComTool().CheckPlatform()||a.default.setOrientation(cc.find("Canvas").getComponent(cc.Canvas),"V")},e.prototype.hideGameProgressNode=function(){document.getElementById("gameTaskNode").style.display="none",app.ExternGameManager().inSubGame=!1,clearInterval(this.createTimerPlayGame)},e}();n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Define/TrackEventName":"TrackEventName","../../common/GIDTool":"GIDTool","../../common/Orientation":"Orientation"}],FacebookManager:[function(e,t){"use strict";cc._RF.push(t,"ef879KPWftJ944OcY9hw0uH","FacebookManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.FacebookManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="FacebookManager",this.Log("Init")},t.prototype.WebFacebookLogin=function(){var e=this;this.checkFBObject()&&FB.login(function(t){t.authResponse?(e.Log("Welcome! Fetching your information: ",JSON.stringify(t)),FB.api("/me",function(t){var n=t.name;app.Client.OnEvent(i.GameEventDefine.FACEBOOK_LOGIN_SUCCESS,{nickname:n,third_token:t.id}),e.Log("Good to see you, ",JSON.stringify(t))})):e.ErrLog("User cancelled login or did not fully authorize.")})},t.prototype.WebFacebookLoginout=function(){var e=this;this.checkFBObject()&&FB.logout(function(t){e.Log("LoginoutData",JSON.stringify(t))})},t.prototype.checkFBObject=function(){return"undefined"!=typeof FB||(this.WarnLog("FB Object Error"),!1)},t}(o.Singleton);n.FacebookManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],FormDefine:[function(e,t){"use strict";cc._RF.push(t,"e5d0cJ6MqBDd4+LFEmvGHGi","FormDefine");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.FormDefine=void 0,(n=o.FormDefine||(o.FormDefine={})).Form="Form",n.NewSysMsg="NewSysMsg",n.SceneInfo="SceneInfo",n.Sound="Sound",n.RoomModeInfo="RoomModeInfo",n.Effect="Effect",t.exports=o,cc._RF.pop()},{}],FormManager:[function(e,t){"use strict";cc._RF.push(t,"bd29f7zxkRG0qGqBO3rWUZj","FormManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.FormManager=void 0;var o=e("../Bundle/BundleManager"),i=e("../Define/EventWaitType"),a=e("../Define/FormDefine"),r=e("../Define/ShareDefine"),s=e("./BaseForm"),c=function(e){function t(){var t=e.call(this)||this;return t.form=null,t.ControlManager=app.ControlManager(),t.queueShowDict={},t.NoneIndependentForm=[],t.JS_Name="FormManager",t.form=app.SysDataManager().GetTableDict(a.FormDefine.Form),t.createFormDict={},t.creatingFormDict={},t.showFormList=[],t.queueShowDict={},t.Log("Init"),t}return __extends(t,e),t.prototype.DingDingMessage=function(){},t.prototype.GetShowFormList=function(){return this.showFormList},t.prototype.CreateForm=function(e){var t=this;if(this.createFormDict.hasOwnProperty(e)){this.Log("\u7a97\u53e3\u5df2\u7ecf\u521b\u5efa  \u65e0\u9700\u91cd\u590d\u521b\u5efa form:",e);var n=this.createFormDict[e].getComponent(s.default);return Promise.resolve(n)}if(!this.form.hasOwnProperty(e))return this.ErrLog("LoadForm Form.csv not find (%s)",e),Promise.resolve(null);if(this.creatingFormDict.hasOwnProperty(e))return this.SysLog("\u754c\u9762\u6b63\u5728\u52a0\u8f7d\u4e2d  \u8bf7\u7b49\u5f85\u52a0\u8f7d\u5b8c\u6210\u5f00\u542f (%s)",e),Promise.resolve(null);this.creatingFormDict[e]=1;var i=this.form[e],a=i.FormPath,r=i.bundleName;return this.SysLog("\u51c6\u5907\u521b\u5efa\u754c\u9762, formName:(%s)",e),(r?o.BundleManager.LoadAssets(a,r,cc.Prefab):this.ControlManager.CreateLoadPromise(a,cc.Prefab,!1)).then(function(n){if(delete t.creatingFormDict[e],!n)return t.ErrLog("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25(%s) \u65e0\u6cd5\u521b\u5efa\u754c\u9762.",e),null;var o=cc.instantiate(n),a=o.getComponent(s.default);if(!a)return t.ErrLog("\u521b\u5efa\u754c\u9762\u627e\u4e0d\u5230\u5bf9\u5e94\u7ec4\u4ef6(%s) not find Component",e),null;try{return a.OnCreate(i),a.constructor.name!=e&&t.WarnLog("prefab\u4e0a\u6dfb\u52a0\u7684\u63a7\u4ef6\u540d\u79f0\u548c\u6253\u5f00\u7684\u754c\u9762formName \u4e0d\u76f8\u540c,\u53ef\u80fd\u4f1a\u51fa\u73b0\u672a\u77e5\u95ee\u9898 %s !=%s",a.constructor.name,e),t.SysLog("\u754c\u9762\u521b\u5efa\u6210\u529f, formName:(%s)",e),t.createFormDict[e]=o,a}catch(r){return t.ErrLog("\u521b\u5efa\u754c\u9762\u5931\u8d25",r),t.DingDingMessage("\u754c\u9762\u521d\u59cb\u5316\u9519\u8bef:"+e,r.stack),null}}).catch(function(n){delete t.creatingFormDict[e],t.ErrLog("\u521b\u5efa\u754c\u9762\u5931\u8d25",n),t.DingDingMessage("\u521b\u5efa\u754c\u9762\u5931\u8d25 :"+e,"")})},t.prototype.ShowForm=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!t.length)return this.ErrLog("\u6253\u5f00\u754c\u9762\u81f3\u5c11\u4f20\u5165\u4e00\u4e2a\u53c2\u6570"),Promise.resolve(null);var o=t.shift();if(this.AddShowingForm(o),this.createFormDict.hasOwnProperty(o)){var a=this.createFormDict[o],r=a.getComponent(s.default);return r.ShowForm(t),Promise.resolve(r)}return app.Client.OnEvent("ModalLayer",i.EventWaitType.CreateFormBegin),this.CreateForm(o).then(function(n){return app.Client.OnEvent("ModalLayer",i.EventWaitType.CreateFormEnd),n&&e.showFormList.indexOf(o)>=0&&n.ShowForm(t),n}).catch(function(t){e.ErrLog("err",t),app.Client.OnEvent("ModalLayer",i.EventWaitType.CreateFormEnd),e.DingDingMessage("\u754c\u9762\u5f00\u542f\u5931\u8d25:"+o,"")})},t.prototype.FormVisible=function(e,t){t?this.ShowForm(e):this.CloseForm(e)},t.prototype.CloseForm=function(e,t){if(this.RemoveShowingForm(e),this.createFormDict.hasOwnProperty(e)){var n=this.createFormDict[e];if(n){var o=n.getComponent(s.default);o?o.CloseForm(t):this.ErrLog("\u754c\u9762\u7ec4\u4ef6\u4e0d\u5b58\u5728 not find :%s",e)}else this.ErrLog("\u754c\u9762\u52a0\u8f7d\u5931\u8d25 (%s) null",e)}},t.prototype.IsDependentForm=function(e){var t=this.form[e];return!!t&&(t.Independent==r.FormType.Independent||t.Independent==r.FormType.IndependentGame)},t.prototype.AddNoneIndependentForm=function(e){var t=this,n=this.form[e];n&&(n.Independent!=r.FormType.Hall&&n.Independent!=r.FormType.HallGame||(this.NoneIndependentForm.forEach(function(n){n!=e&&t.CloseForm(n)}),this.NoneIndependentForm=[e]))},t.prototype.GetFormComponent=function(e){return this.createFormDict.hasOwnProperty(e)?this.createFormDict[e].getComponent(e):(this.Log("GetFormComponent(%s) not load",e),null)},t.prototype.IsFormShow=function(e){return this.showFormList.indexOf(e)>=0&&this.createFormDict.hasOwnProperty(e)},t.prototype.IsSupportVisitor=function(e){var t=this.form[e];return t?t.SupportVisitor:0},t.prototype.AddShowingForm=function(e){this.showFormList.indexOf(e)<0&&this.showFormList.push(e),this.AddNoneIndependentForm(e)},t.prototype.RemoveShowingForm=function(e){var t=this.showFormList.indexOf(e);t>=0&&this.showFormList.splice(t,1)},t.prototype.DestroyForm=function(e){this.createFormDict.hasOwnProperty(e)&&delete this.createFormDict[e]},t.prototype.DestroyAllForm=function(){var e=this;Object.keys(this.createFormDict).forEach(function(t){e.DestroyForm(t)})},t.prototype.CloseAllForm=function(){for(var e=this.showFormList.slice(),t=0;t<e.length;t++)this.CloseForm(e[t],"ExitScene")},t.prototype.CloseAllFormExcept=function(e){var t=[];e.forEach(function(e){t.push(e)});for(var n=this.showFormList.slice(),o=0;o<n.length;o++){var i=n[o];-1==t.indexOf(i)&&this.CloseForm(i,"ExitScene")}},t.prototype.CloseIndependentForm=function(e){for(var t=0;t<this.showFormList.length;t++){var n=this.showFormList[t];this.IsDependentForm(n)&&!e.InArray(n)&&this.CloseForm(n)}},t.prototype.ChangeToFormList=function(e){var t=this;return this.CreateFormList(e).then(function(){t.SysLog("\u5207\u6362\u5230\u623f\u95f4\u5217\u8868  \u5173\u95ed\u5f53\u524d\u6240\u6709\u754c\u9762:",t.showFormList,e),t.ClearQueueForm(),t.CloseAllFormExcept(e);for(var n=0;n<e.length;n++)t.ShowForm(e[n])})},t.prototype.CreateFormList=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];this.createFormDict.hasOwnProperty(o)||t.push(this.CreateForm(o))}return t.length>0?(app.Client.OnEvent("ModalLayer",i.EventWaitType.CreateFormBegin),this.SysLog("\u521b\u5efa\u754c\u9762\u5217\u8868"),Promise.all(t).then(function(){app.Client.OnEvent("ModalLayer",i.EventWaitType.CreateFormEnd)}).catch(function(){app.Client.OnEvent("ModalLayer",i.EventWaitType.CreateFormEnd)})):Promise.resolve()},t.prototype.EnqueueForm=function(e){var t=e.formName,n=e.key,o=e.argumentsList,i=this.queueShowDict.SetDefault(n,[]);if(0==i.length){var a=[t].concat(o);this.ShowForm.apply(this,a)}for(var r=0;r<i.length;r++)if(i[r].formName==t)return;var s={formName:t,argList:o};i.push(s)},t.prototype.ShowNextQueueForm=function(e){var t=this.queueShowDict.SetDefault(e,[]);if(t.shift(),t.length>0){var n=t[0],o=[n.formName].concat(n.argList);this.ShowForm.apply(this,o)}else app.Client.OnEvent("SuccessionFinish",{key:e})},t.prototype.InsertForm=function(e){var t=e.formName,n=e.key,o=e.argumentsList,i=this.queueShowDict.SetDefault(n,[]);if(0==i.length){var a=[t].concat(o);this.ShowForm.apply(this,a)}for(var r=0;r<i.length;r++)if(i[r].formName==t)return;var s={formName:t,argList:o};i.splice(1,0,s)},t.prototype.ClearQueueForm=function(e){e?this.queueShowDict[e]=[]:this.queueShowDict={}},t}(e("./Singleton").Singleton);n.FormManager=c,t.exports=n,cc._RF.pop()},{"../Bundle/BundleManager":"BundleManager","../Define/EventWaitType":"EventWaitType","../Define/FormDefine":"FormDefine","../Define/ShareDefine":"ShareDefine","./BaseForm":"BaseForm","./Singleton":"Singleton"}],GIDTool:[function(e,t){"use strict";cc._RF.push(t,"ecbf3NMHyJGVofgH4P0BO31","GIDTool");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GIDTool=void 0;var o=function(){function e(){}return e.SSS_IN=-1,e.SSS=10,e.NNBR=20,e.NNJD=21,e.NNQZ=22,e.TEXAS=30,e.LH=40,e.HH=50,e.BCBM=60,e.SHZ=70,e.DDZ=80,e.PDK=90,e.ZJHJD=100,e.ERMJ=110,e.BYDR=120,e.BG=130,e.BGFHM=131,e.BGFHJ=132,e.GKDLY=140,e.SG=150,e.DJ=160,e.LCYL=170,e.KYQP=180,e.YDZJH=190,e.JDB=1230,e.RUMMY=210,e.PG=220,e.RUMMY_2P=230,e.Royal_TP=240,e.TFGAMING=250,e.DG=260,e.BTI=270,e.EVO=280,e.SBO=290,e.RUMMY_SINGLE=300,e.NYDJ=310,e.CQ9=320,e.LUDO=330,e.WINGO=340,e.CQ9_FISH=350,e.TIEN_LEN=360,e.TP_SINGLE=370,e.RUMMY_2P_SINGLE=380,e.Royal_TP_SINGLE=390,e.EVOPlay=400,e.SABA=410,e.TOUBAO=420,e.Baccarat=430,e.AEGAME=440,e.LUNPAN=450,e.SLOT777=470,e.SHIJIEBEI=480,e.BAODIAN=490,e.LROLLER=520,e.Roulette=530,e.ABgame=540,e.QPGame=560,e.MINES=550,e.AB_Classis=580,e.DICE=600,e.crazyMines=620,e.PINGBO=630,e.RacingCard=650,e.RUMMY_Pool_101=680,e.RUMMY_Pool_201=690,e.RUMMY_Deal_2P=710,e.RUMMY_Deal_3P=720,e.TRUCOONE=730,e.TRUCOTWO=740,e.Plinko=750,e.WCS=760,e.LuckyAirShip=770,e.FastAirShip=780,e.FOOTBALL=820,e.BLINDBOX=840,e.K3=700,e.DuanPai=900,e.Omaha=910,e.Keno=920,e.Bonanza=970,e.PPSingleGame=590,e.SWAGGER=640,e.IMGame=660,e.AWC=670,e.JJ_FISH=790,e.DS88=800,e.JiLiTable=810,e.Tone=820,e.PGEUR=830,e.PGSingleGame=870,e.KingMaker=930,e.AWC2=940,e.HaHanero=950,e.PGEURSingleGame=980,e.Ebet=990,e.EVO3=1e3,e.TaDa=1010,e.YesBingo=1020,e.CMD=1030,e.BGS=1040,e.Panda=1050,e.CpSoft=1060,e.EVoPlaySingle=1070,e.CRASH2=1120,e.SLOT2_777=1140,e.V8=1190,e.BNG=1290,e.PP2=1300,e.FPC=1100,e}();n.GIDTool=o,t.exports=n,cc._RF.pop()},{}],Game730Help:[function(e,t){"use strict";cc._RF.push(t,"b1faaM4HrJO/qdVUyFy0y/r","Game730Help");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageView=null,t.btn_next=null,t.btn_close=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIGameHelp",this.pageView&&this.pageView.node.on("scroll-ended",this.pageTurnEnded.bind(this))},t.prototype.OnShow=function(){this.pageView.scrollToPage(0,this.pageView.pageTurningSpeed),this.setBtnDisable(!0)},t.prototype.setBtnDisable=function(e){this.btn_next.active=e,this.btn_close.active=!e},t.prototype.pageTurnEnded=function(){this.pageView.getCurrentPageIndex()>=this.pageView.getPages().length-1?this.setBtnDisable(!1):this.setBtnDisable(!0)},t.prototype.OnClick=function(e){if("btn_next"!=e);else{var t=this.pageView.getCurrentPageIndex();this.pageView.scrollToPage(t+1,this.pageView.pageTurningSpeed)}},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},__decorate([r(cc.PageView)],t.prototype,"pageView",void 0),__decorate([r(cc.Node)],t.prototype,"btn_next",void 0),__decorate([r(cc.Node)],t.prototype,"btn_close",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm"}],GameBaseForm:[function(e,t){"use strict";cc._RF.push(t,"b4fd26AlAxBboYYz8RaPtTA","GameBaseForm");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBaseForm=void 0;var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Component/UINumKeyPadLabel"),a=e("../../Common/Define/GameEventDefine"),r=e("../../Common/Define/ShareDefine"),s=e("../../Common/Define/TrackEventName"),c=e("../../Common/Define/UINameDefine"),p=[new cc.Color(82,180,69),new cc.Color(255,81,81)],l=cc._decorator,h=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roomMode=0,t.GID=0,t.userAllGold=0,t.historyCount=20,t.gameLimit=0,t.GameBetGold=0,t.gameStatus=0,t.delayMSNode=null,t.BetGoldInterval=[1,2,5,10,50,100],t.GameBetSizeLimit={min:1,max:0},t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(a.GameEventDefine.GAME_SERVER_UNCONNECTED,this.GameServerUnConnected),this.RegEvent(a.GameEventDefine.SEND_END,this.GetGameLimit),this.RegEvent(a.GameEventDefine.UPDATE_GAME_GOLD,this.updateUserAllGold)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.Client.OnEvent(a.GameEventDefine.GAME_LOADING_SUCCESS),this.DelayMSType=-1,this.BetGoldInterval=[1,2,5,10,50,100],this.setMyGold(app.UserManager().UserInfo.gold),this.roomMode=app.UserManager().GetUserInfo.roomMode,this.GID=app.RoomManager().GetRoomModeInfoByRoomMode(this.roomMode).GID,this.Log(this.roomMode),this.gameLimit=0,this.GetGameLimit(),app.EventTrackManager().LogEvent(s.default.ENTER_GAME,{gid:this.GID||0}),this.OnFistOpenHelp(),this.OnFistJoinGameBet()},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];cc.audioEngine.stopAll(),this.unscheduleAllCallbacks(),app.RoomManager().SetEnableRefreshGold(!1),this.roomMode==app.UserManager().GetUserInfo.roomMode&&app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_INFO)},t.prototype.ReckonBetGold=function(){for(var e=app.UserManager().UserInfo.gold,t=[0,100,200,500,1e3,5e3,1/0],n=0;n<t.length-1;n++)if(e>=t[n]&&e<=t[n+1])return this.BetGoldInterval[n];return this.BetGoldInterval[0]},t.prototype.onBetGoldNum=function(e,t){this.setLabelTipShow(t),this.SetGameBetGold(e)},t.prototype.OnFistJoinGameBet=function(){var e=app.RoomManager().GetRoomModeInfoByRoomMode(this.roomMode),t=app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"FistGameBetGold");t&&t[e.GID]&&t[e.GID]<app.UserManager().UserInfo.gold?this.SetGameBetGold(t[e.GID]):this.SetGameBetGold(this.ReckonBetGold())},t.prototype.SetGameBetGold=function(e){this.GameBetGold=e,this.setLocalDataFistGame()},t.prototype.setLocalDataFistGame=function(){var e=app.RoomManager().GetRoomModeInfoByRoomMode(this.roomMode),t=app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"FistGameBetGold");t&&t[e.GID]||t||(t={}),t[e.GID]=this.GameBetGold,app.LocalDataManager().SetConfigObject(app.UserManager().UserInfo.uid+"FistGameBetGold",t)},t.prototype.GameServerUnConnected=function(){app.SysNotifyManager().ShowToast("Connection failed. Please check your network connection and try again")},t.prototype.ReckonGold=function(e){var t=Big(e).plus(this.userAllGold).toNumber();t<=0&&(t=0),this.setMyGold(t,{gold:t})},t.prototype.resHallInfo=function(){},t.prototype.RefreshGold=function(e){app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_INFO,e)},t.prototype.setMyGold=function(e,t){e=Math.max(e,0),this.userAllGold=e,app.UserManager().UserInfo.gold=e,this.RefreshGold(t)},t.prototype.updateUserAllGold=function(){this.setMyGold(app.UserManager().UserInfo.gold)},t.prototype.setLabelTipShow=function(e){e&&app.ComTool().H5Platform()&&e.getComponent(i.default).OnNodeShow()},t.prototype.GetGameLimit=function(){this.gameLimit=app.GameConfigManager().GameBetLimit(this.roomMode),this.GameBetSizeLimit=app.GameConfigManager().GameBetSizeLimit(this.GID)},t.prototype.OnFistOpenHelp=function(){var e=app.RoomManager().GetRoomModeInfoByRoomMode(this.roomMode),t=app.LocalDataManager().GetConfigObject("FistGame");if(!(t&&t.indexOf(e.GID)>-1)&&e.Help){var n={bundle:e.BundleName};app.FormManager().ShowForm(e.Help,n),t||(t=[]),t.push(e.GID),app.LocalDataManager().SetConfigObject("FistGame",t)}},t.prototype.GetGoldInadequate=function(){app.GameConfigManager().IsExperienceServer||app.UserManager().GetIsOfficialPopup()||app.FormManager().ShowForm(c.UINameDefine.UIFreeWindow,{type:r.FreeWindowType.GoldNod})},t.prototype.update=function(){var e=app.GameServerManager().GetDelayMS;this.delayMSNode&&this.DelayMSType!=e&&(this.DelayMSType=e,this.delayMSNode.color=p[e])},t.prototype.OnFreeRoomShowNode=function(e){e.forEach(function(e){e&&(e.active=!app.GameConfigManager().IsExperienceServer)})},__decorate([h],t)}(o.default));n.GameBaseForm=d,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Component/UINumKeyPadLabel":"UINumKeyPadLabel","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine","../../Common/Define/TrackEventName":"TrackEventName","../../Common/Define/UINameDefine":"UINameDefine"}],GameBaseHttpForm:[function(e,t){"use strict";cc._RF.push(t,"359c9Y98mpKO4nfh01h5Ya+","GameBaseHttpForm");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBaseHttpForm=void 0;var o=e("./BaseGameForm"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roomMgr=null,t}return __extends(t,e),t.prototype.OnShow=function(){app.ExternGameManager().RequestHtmlGameProgress(0,0);for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.roomMgr=app.RoomManager().GetCurHttpGameMgr(),this.roomMgr.gameId=app.RoomManager().gameId,this.roomMgr.OnReload(),e.prototype.OnShow.call(this,t)},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.LeaveRoom=function(){this.roomMgr.OnClear()},__decorate([a],t)}(o.BaseGameForm));n.GameBaseHttpForm=r,t.exports=n,cc._RF.pop()},{"./BaseGameForm":"BaseGameForm"}],GameBetCommonMgr:[function(e,t){"use strict";cc._RF.push(t,"569e4ZqbPRDCZjleAki6p0p","GameBetCommonMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameBetCommonMgr=void 0;var o=e("../../Base/Singleton"),i=e("../../Bundle/BundleManager"),a=e("../../Bundle/EventDefine"),r=function(e){function t(){var t=e.call(this)||this;return t._Level=1,t.betLevelConfig=[],t.betLinesConfig=[],t.betAmountConfig=[],t.betSizeConfig=[],t.BaseBetNum=2,t.baseLevel=1,t.onLoad(),t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GameBetCommonMgr"},t.prototype.onLoad=function(){this.Level=1,this.baseLevel=1},t.prototype.InitDataConfig=function(e){e?(this.betSizeConfig=e.betSizeConfig,this.betLevelConfig=e.betLevelConfig,this.betLinesConfig=e.betLinesConfig):(this.betSizeConfig=[.08,.8,3,10].reverse(),this.betLevelConfig=[1,2,3,4,5,6,7,8,9,10].reverse(),this.betLinesConfig=[5]),this.SetbetAmountConfig()},Object.defineProperty(t.prototype,"Level",{get:function(){return this._Level},set:function(e){this._Level=e},enumerable:!1,configurable:!0}),t.prototype.GetBetAmountConfigByLevel=function(e){return 1==this.Level&&"100"==e?{sizeIndex:1,LevelIndex:9,LinesIndex:0}:this.IndexJson[e]},t.prototype.SetbetAmountConfig=function(){this.IndexJson={},this.betAmountConfig=[];for(var e=0;e<this.betSizeConfig.length;e++)for(var t=this.betSizeConfig[e],n=0;n<this.betLevelConfig.length;n++)for(var o=this.betLevelConfig[n],i=0;i<this.betLinesConfig.length;i++){var a=this.betLinesConfig[i],r=Big(Big(t).times(o).toNumber()).times(a).toNumber();this.betAmountConfig.push(r),this.IndexJson[r]={sizeIndex:e,LevelIndex:n,LinesIndex:i}}for(var s=this.betAmountConfig,c=[],p=0;p<s.length;p++)-1===c.indexOf(s[p])&&c.push(s[p]);this.betAmountConfig=c},t.prototype.LoadGameBet=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="GameBetCom",o=i.BundleManager.Instance.GetLoadedBundle(n);o?cc.systemEvent.emit(a.default.ENTER_GAME_COMMON,{customData:e}):i.BundleManager.Instance.enterCommonBundle(n,e)},t}(o.Singleton);n.GameBetCommonMgr=r,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Bundle/BundleManager":"BundleManager","../../Bundle/EventDefine":"EventDefine"}],GameConfigManager:[function(e,t){"use strict";cc._RF.push(t,"50deeHpySdPKrqg4+6muYfb","GameConfigManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfigManager=void 0;var o=e("../Define/HttpServerDefine"),i=e("../Base/Singleton"),a=e("../Define/GameEventDefine"),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameConfig=null,e.AJEventConfig={},e.FBEventConfig={},e.DomainIconInfo=null,e.ws_time_diff=0,e}return __extends(n,t),n.prototype.Init=function(){this.JS_Name="GameConfigManager",this.Log("Init"),app.Client.RegEvent(a.GameEventDefine.GAME_MAINTAIN_NOTICE,this.OnGameMaintainNotice,this),app.HttpServerManager().RegNetPack(o.HttpAPI.GAME_LIST,this.OnGameList,this),app.HttpServerManager().RegNetPack(o.HttpAPI.GET_RECOMMENDED_GAMES,this.OnRecommendedGames,this),app.HttpServerManager().RegNetPack(o.HttpAPI.GET_DOMAIN_ICON,this.OnDomainIcon,this)},n.prototype.OnRecommendedGames=function(e){this.RecommendedGameList=e.hot_list,app.Client.OnEvent(a.GameEventDefine.RecommendGameList)},n.prototype.OnDomainIcon=function(e){this.DomainIconInfo=e,app.Client.OnEvent(a.GameEventDefine.DomainIcon)},n.prototype.GetRecommendedGameList=function(){return this.RecommendedGameList},n.prototype.GetDomainIconInfo=function(){return this.DomainIconInfo},n.prototype.RequestRecommendedGames=function(){app.HttpServerManager().SendHttpPack(o.HttpAPI.GET_RECOMMENDED_GAMES)},n.prototype.RequestDomainIcon=function(){app.HttpServerManager().SendHttpPack(o.HttpAPI.GET_DOMAIN_ICON)},n.prototype.GetGameConfig=function(){return this.GameConfig},Object.defineProperty(n.prototype,"GetCurrency",{get:function(){var e="",t=this.GetGameConfig();return 1==Number(t.currency_show)?(t.currency_symbol&&""!=t.currency_symbol&&(e=t.currency_symbol),e):e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"GetGoldIcomCondition",{get:function(){return""==this.GetCurrency},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"GetNoticeTime",{get:function(){return this.GameConfig.notice_countdown_time},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"GetNewUserPop",{get:function(){return Number(this.GameConfig.new_user_pop_ups)>0},enumerable:!1,configurable:!0}),n.prototype.GetGamePartners=function(e){return this.GameConfig.game_partners?this.GameConfig.game_partners[e]:null},n.prototype.GetGameOfficialUrl=function(e){var t=this.GameConfig.ship_address_config;return t?t[e]:""},n.prototype.GetBottomFastGame=function(){var e=this,t=[],n=this.GameConfig.game_type;if(n)for(var o=0;o<n.length;o++)n[o].game_list.forEach(function(n){var o=e.GetGameInfoByGid(n.gid);if(o&&0===o.game_type){for(var i=!1,a=0;a<t.length;a++)if(t[a].gid==n.gid){i=!0;break}i||t.push(n)}});return t},n.prototype.GetBottomFastGameByGid=function(e){var t=this.GetBottomFastGame();if(t)for(var n=0;n<t.length;n++){var o=t[n];if(o.gid==e)return o}return null},n.prototype.GetGame2Row=function(){var e=this.GetGameConfig().game_rows;return!!(e&&e>1)},n.prototype.GetAJEventConfig=function(){return this.AJEventConfig},n.prototype.GetFBEventConfig=function(){return this.FBEventConfig},n.prototype.GetSubGameListItem=function(e,t){for(var n=function(n){for(var o=n.length,i=0;i<o;i++){var a=n[i];if(a.gid==e&&a.sub_game_list)for(var r=a.sub_game_list.length,s=0;s<r;s++){var c=a.sub_game_list[s];if(c.gid==e&&c.sub_gid==t)return c}}},o=this.GameConfig.game_type.length,i=0;i<o;i++){var a=this.GameConfig.game_type[i];if(a.has_child)for(var r=a.child_list.length,s=0;s<r;s++){var c;if(c=n(a.child_list[s].game_list))return c}else if(c=n(a.game_list))return c}return null},n.prototype.SetGameConfig=function(e){var t=this;this.GameConfig=e,this.GameConfig.aj_event_config&&this.GameConfig.aj_event_config.forEach(function(e){t.AJEventConfig[e.type]=e}),this.GameConfig.fb_event_config&&this.GameConfig.fb_event_config.forEach(function(e){t.FBEventConfig[e.type]=e}),this.ws_time_diff=this.GameConfig.current_sys_time?Math.round(this.GameConfig.current_sys_time-Date.now()/1e3):0},Object.defineProperty(n.prototype,"IsExperienceServer",{get:function(){return 1==this.GameConfig.experience_conf.is_experience_server},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"IsExperienceServerShow",{get:function(){return 1==this.GameConfig.experience_conf.experience_server_show},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ExperienceServerText",{get:function(){return this.GameConfig.experience_conf.experience_server_text},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ExperienceServerUrl",{get:function(){return this.GameConfig.experience_conf.experience_server_url},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"IsVIPKeepSwitch",{get:function(){return 1==this.GameConfig.user_vip_lv_keep_switch},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"IsGameBones",{get:function(){return 1==this.GameConfig.game_longgu_config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"IsAgentShareReward",{get:function(){var e=this.GameConfig.agent_share_reward_switch;return null==e||1==e},enumerable:!1,configurable:!0}),n.prototype.RequestGameList=function(){var e=app.CompressStorageMgr().get("newGameList"),t={language:app.LanguageManager().GetLocalLanguage(!0),dataVersion:e?e.data_version:0};app.HttpServerManager().SendHttpPack(o.HttpAPI.GAME_LIST,t)},n.prototype.OnGameList=function(t,n){if(t){if(isgoServer&&t.game_type){var o=e("Http_gameList");for(var i in t.game_type)t.game_type[i].child_list||(t.game_type[i].child_list=[]),t.game_type[i].game_list||(t.game_type[i].game_list=[]);for(var a in o)null!=t[a]&&null!=t[a]||(t[a]=o[a])}if(n.dataVersion==t.data_version){var r=app.CompressStorageMgr().get("newGameList");r&&this.SetGameList(r)}else app.LocalDataManager().Remove("GameList"),app.CompressStorageMgr().set("newGameList",t),this.SetGameList(t);app.PlaceholderManager().SetLoadMaxCount(),app.PlaceholderManager().GameListEnd=!0}},n.prototype.SetGameList=function(e){this.GameConfig.game_type=e.game_type,this.GameConfig.game_lobby_type=e.game_lobby_type,this.GameConfig.game_info=e.game_info,this.GameConfig.least_gold=e.least_gold,this.GameConfig.other_game=e.other_game,this.GameConfig.game_factory=e.game_factory,this.GameConfig.other_game_factory=e.other_game_factory,this.GameConfig.experience_list=e.experience_list,this.FiltrateGameType()},n.prototype.GetGameType=function(e){for(var t=0;t<this.GameConfig.game_type.length;t++){var n=this.GameConfig.game_type[t];if(e==n.type_id)return n}return null},n.prototype.GetGameTypeIndex=function(e){for(var t=0;t<this.GameConfig.game_type.length;t++)if(e==this.GameConfig.game_type[t].type_id)return t;return this.ErrLog("GetGameTypeIndex fail=>>",e),null},n.prototype.GetOtherGameFactory=function(e){if(this.GameConfig.other_game_factory)for(var t=0;t<this.GameConfig.other_game_factory.length;t++){var n=this.GameConfig.other_game_factory[t];if(n.id==e)return n}return null},n.prototype.GetGameFactory=function(e){return this.GameConfig.game_factory?this.GameConfig.game_factory[e]:null},n.prototype.GetFreeGameList=function(e,t){if(this.GameConfig.experience_list)for(var n in this.GameConfig.experience_list){var o=this.GameConfig.experience_list[n];if(e==o.gid&&(t&&o.sub_gids.indexOf(t)>-1||!t))return!0}return!1},n.prototype.GetOtherGameList=function(e,t){var n=this.GameConfig.other_game;if(n)for(var o=0;o<n.length;o++){var i=n[o];if(i.gid==e)for(var a=0;a<i.gameurl.length;a++){var r=i.gameurl[a];if(t==r.gameid)return r}}return null},n.prototype.GetOtherGameItem=function(e){var t=this.GameConfig.other_game;if(t)for(var n=0;n<t.length;n++){var o=t[n];if(o.gid==e)return o}return null},n.prototype.GetShowJoinFree=function(e,t){return!this.IsExperienceServer&&app.ComTool().H5Platform()&&this.GetFreeGameList(e,t)},n.prototype.GetGameListItem=function(e){if(this.GameConfig.game_type)for(var t=function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o.gid==e)return o}return null},n=this.GameConfig.game_type.length,o=0;o<n;o++){var i=this.GameConfig.game_type[o];if(i.has_child)for(var a=0;a<i.child_list.length;a++){var r;if(r=t(i.child_list[a].game_list))return r}else if(r=t(i.game_list))return r}return null},n.prototype.GetGameListItemSubId=function(e){if(this.GameConfig.game_type)var t=function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o.sub_gid==e)return o}return null};for(var n=function(e){for(var n=0;n<e.length;n++){var o,i=e[n];if(i.sub_game_list&&(o=t(i.sub_game_list)))return o}return null},o=this.GameConfig.game_type.length,i=0;i<o;i++){var a=this.GameConfig.game_type[i];if(a.has_child)for(var r=0;r<a.child_list.length;r++){var s;if(s=n(a.child_list[r].game_list))return s}else if(s=n(a.game_list))return s}return null},n.prototype.GetGameChildLisItem=function(e){var t={HGame:null,name:null};if(this.GameConfig.game_type)for(var n=function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o.gid==e)return o}return null},o=this.GameConfig.game_type.length,i=0;i<o;i++){var a=this.GameConfig.game_type[i];if(a.has_child)for(var r=0;r<a.child_list.length;r++){var s=a.child_list[r],c=n(s.game_list);if(c)return t.HGame=c,t.name=s.type_name,t}}return null},n.prototype.RequestGameConfig=function(){var e=app.LoginManager().GetDeviceID(),t=app.LocalDataManager().GetConfigProperty("LocalInfo","firstInstall"),n=app.ClientConfigManager().GetClientConfig.agentID,i={nativeVer:app.NativeMgr().getApkVersion(),mainVer:app.ClientConfigManager().GetGlobalConfig.mainVer,subVer:app.ClientConfigManager().GetGlobalConfig.subVer,pkgName:app.ComTool().getPackageName(),platform:cc.sys.os,deviceid:e,agentid:n,firstInstall:t,type:cc.sys.platform,language:app.LanguageManager().GetLocalLanguage(!0)};app.HttpServerManager().SendHttpPack(o.HttpAPI.COMMON_CONFIG,i)},n.prototype.GetAsTime=function(){return Math.round(Date.now()/1e3)+this.ws_time_diff},n.prototype.GetSupportUrl=function(){return this.GameConfig.kf_url?this.GameConfig.kf_url:app.ClientConfigManager().GetGlobalConfig.KEFU_URL},n.prototype.GameBetLimit=function(e){var t=app.RoomManager().GetRoomModeInfoByRoomMode(e);return this.GameConfig&&this.GameConfig.least_gold&&t&&this.GameConfig.least_gold[t.GID]||0},n.prototype.GameBetSizeLimit=function(){return{min:1,max:0}},n.prototype.GetGameServerUrl=function(){var e,t;return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?(e="ws",t=this.GameConfig.gs_port):this.GameConfig.gs_sport?(e="wss",t=this.GameConfig.gs_sport):cc.sys.isBrowser&&"https:"==document.location.protocol?(e="wss",t=this.GameConfig.gs_port):(e="ws",t=this.GameConfig.gs_port),e+"://"+this.GameConfig.gs_host+":"+t},n.prototype.GetGoGameServerUrl=function(){var e,t;return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?(e="ws",t=this.GameConfig.gs_port1):this.GameConfig.gs_sport1?(e="wss",t=this.GameConfig.gs_sport1):cc.sys.isBrowser&&"https:"==document.location.protocol?(e="wss",t=this.GameConfig.gs_port1):(e="ws",t=this.GameConfig.gs_port1),e+"://"+this.GameConfig.gs_host1+":"+t},n.prototype.GetDownLoadUrl=function(){var e="";return cc.sys.os==cc.sys.OS_ANDROID?e=this.GameConfig.down_urls.android_download_url:cc.sys.os==cc.sys.OS_IOS&&(e=this.GameConfig.down_urls.ios_download_url),e},n.prototype.GetGameInfo=function(){return this.GameConfig.game_info},n.prototype.GetGameInfoByGid=function(e){var t=this.GameConfig.game_info;if(t)for(var n=0;n<t.length;n++){var o=t[n];if(o.gid==e)return o}return null},n.prototype.GetGameRoomModeInfo=function(e){var t=this.GameConfig.game_info;if(t)for(var n=function(n){var o=t[n];if(o.gid==e){if(o.way_list){var i=[];return o.way_list.forEach(function(e){var t=app.RoomManager().GetRoomModeInfoByRoomMode(e.way_id);t&&!t.Practice&&i.push(e)}),{value:i}}return{value:null}}},o=0;o<t.length;o++){var i=n(o);if("object"==typeof i)return i.value}return null},n.prototype.GameRechargeLimit=function(e){return this.GameConfig&&this.GameConfig.ext_game_recharge_limit&&this.GameConfig.ext_game_recharge_limit[e]||0},n.prototype.OnGameMaintainNotice=function(e){for(var t=this,n=e,o=function(e,n,o){if(e){var i=t.GetMainTenanceLanguageText(n);i&&(e.mtc_msg=i),e.mtc_status=Number(n.mtc_status),e.mtc_st_date=n.mtc_st_date,e.mtc_end_date=n.mtc_end_date,app.Client.OnEvent(a.GameEventDefine.UPDATE_GAME_MAINTAIN,{gid:n.gid,sub_gid:o})}},i=function(e){var i=n[e],a=r.GetGameListItem(i.gid);if(!a)return"continue";i.sub_gids&&i.sub_gids.length>0?i.sub_gids.forEach(function(e){a=t.GetSubGameListItem(i.gid,e),o(a,i,e)}):(o(a,i),a.sub_game_list&&a.sub_game_list.length>0&&a.sub_game_list.forEach(function(e){o(e,i)}))},r=this,s=0;s<n.length;s++)i(s)},n.prototype.GetMainTenanceLanguageText=function(e){var t="";t=e.msg_en;var n=app.LanguageManager().GetLocalLanguage();return n&&("en"==n?t=e.msg_en:"en_IN"==n?t=e.msg_hind:"th_TH"==n?t=e.msg_thai:e.other&&(t=e.msg_other)),t},n.prototype.FiltrateGameType=function(){for(var e=0;e<this.GameConfig.game_type.length;e++)for(var t=this.GameConfig.game_type[e],n=t.game_list.length-1;n>=0;n--){var o=t.game_list[n],i=app.RoomManager().GetRoomModeInfoByGid(o.gid);i&&(1==i.Platform&&app.ComTool().H5Platform()?this.GameConfig.game_type[e].game_list.splice(n,1):2!=i.Platform||app.ComTool().H5Platform()||this.GameConfig.game_type[e].game_list.splice(n,1))}},n.prototype.GameBetAmountLimit=function(){return{min:0,max:0}},n.prototype.GetManufacturerFiltering=function(){return!0},n}(i.Singleton);n.GameConfigManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine",Http_gameList:"Http_gameList"}],GameEventDefine:[function(e,t){"use strict";cc._RF.push(t,"aff45C73aNKa7fgYLDoZK88","GameEventDefine");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.GameEventDefine=void 0,(n=o.GameEventDefine||(o.GameEventDefine={})).OnMouseMove="OnMouseMove",n.OnMouseUp="OnMouseUp",n.OnMouseDown="OnMouseDown",n.OnMouseWheel="OnMouseWheel",n.GAME_SERVER_CONNECTED="GAME_SERVER_CONNECTED",n.GO_GAME_SERVER_CONNECTED="GO_GAME_SERVER_CONNECTED",n.GAME_SERVER_UNCONNECTED="GAME_SERVER_UNCONNECTED",n.SYS_CONFIRM_MSG="SYS_CONFIRM_MSG",n.SYS_CANCEL_MSG="SYS_CANCEL_MSG",n.SHOW_DEBUG_FORM="SHOW_DEBUG_FORM",n.CHECK_UPDATE_SUCCESS="CHECK_UPDATE_SUCCESS",n.INIT_FORM_TABLE="INIT_FORM_TABLE",n.INIT_SelectRegion="INIT_SelectRegion",n.INIT_TEXT="INIT_TEXT",n.GET_GAME_CONFIG_FAILED="GET_GAME_CONFIG_FAILED",n.HOT_UPDATE="HOT_UPDATE",n.FACEBOOK_LOGIN_SUCCESS="FACEBOOK_LOGIN_SUCCESS",n.GOOGLE_LOGIN_SUCCESS="GOOGLE_LOGIN_SUCCESS",n.Telegram_LOGIN_SUCCESS="Telegram_LOGIN_SUCCESS",n.TELEGRAM_LOGIN_SUCCESS="TELEGRAM_LOGIN_SUCCESS",n.LOAD_RES_SUCCESS="LOAD_RES_SUCCESS",n.SHOW_LOGIN_FORM="SHOW_LOGIN_FORM",n.NATION_PHONE_CODE="NATION_PHONE_CODE",n.BIND_PHONE_SUCCESS="BIND_PHONE_SUCCESS",n.GET_CODE_SUCCESS="GET_CODE_SUCCESS",n.GET_EMAIL_CODE_SUCCESS="GET_EMAIL_CODE_SUCCESS",n.BACK_HOME="BACK_HOME",n.GAME_LIST="GAME_LIST",n.GET_AREA_CODES="GET_AREA_CODES",n.VIP_LIST="VIP_LIST",n.VIP_RECEIVE="VIP_RECEIVE",n.VIP_REDSHOW="VIP_REDSHOW",n.UNABLE_BETLIST="UNABLE_BETLIST",n.BETBONUSINFO="BETBONUSINFO",n.CLEANBETV2="CLEANBETV2",n.BetPercentList="BetPercentList",n.NewBetPercentList="NewBetPercentList",n.BET_PERCENTLIST="BET_PERCENTLIST",n.New_CleanBetList="New_CleanBetList",n.CLEANBETINFO="CLEANBETINFO",n.UPDATE_GAME="UPDATE_GAME",n.FACEBOOK_LONGIN_MES=" FacebookLoginChangeMes",n.CLOSE_PAY=" CLOSE_PAY",n.CLOSE_UISTORE_CASH=" CLOSE_UISTORE_CASH",n.BIND_USER_WALLET=" BIND_USER_WALLET",n.BIND_BANK_ACCOUNT=" BIND_BANK_ACCOUNT",n.GET_USER_WALLET=" GET_USER_WALLET",n.GET_USER_AndOrder=" GET_USER_AndOrder",n.GET_AndOrder_REC=" GET_AndOrder_REC",n.GET_AndOrder_WITH=" GET_AndOrder_WITH",n.getGoldAndTonRecord=" getGoldAndTonRecord",n.clickSPIN=" clickSPIN",n.BindWallet=" BindWallet",n.UnbindWallet=" UnbindWallet",n.getWithdrawal=" getWithdrawal",n.BANK_CODE_CLICK=" BANK_CODE_CLICK",n.WITHDRAW_CLICK=" WITHDRAW_CLICK",n.GET_GOODS_LIST=" GET_GOODS_LIST",n.PAY_CHANNEL_TYPES=" PAY_CHANNEL_TYPES",n.PAY_ITEM_CLICK=" PAY_ITEM_CLICK",n.ONLINE_PAY_CLOSE=" ONLINE_PAY_CLOSE",n.ONLINE_PAY_EDITOBX_ENDED="ONLINE_PAY_EDITOBX_ENDED",n.ACTIVITY_BONUS_CLICK=" ACTIVITY_BONUS_CLICK",n.PAY_CHENNEL_CLICK=" PAY_CHENNEL_CLICK",n.RECHARGE_ITEM_CLICK=" RECHARGE_ITEM_CLICK",n.GOODS_PAY=" GOODS_PAY",n.SHOW_GAME_DOWN="SHOW_GAME_DOWN",n.HIDE_GAME_DOWN="HIDE_GAME_DOWN",n.GET_RECHARGE_REWARD=" GET_RECHARGE_REWARD",n.GET_LIMIT_RECHARGE=" GET_LIMIT_RECHARGE",n.GET_CARD_LIST=" GET_CARD_LIST",n.BONUS_HIDE="BONUS_HIDE",n.OPEN_STORE="OPEN_STORE",n.RECHARGE_BONUS="RECHARGE_BONUS",n.NOTICE_UPDATELIST="NOTICE_UPDATELIST",n.RECHARGE_ACTIVITY="RECHARGE_ACTIVITY",n.SIGN_LIST="SIGN_LIST",n.RECEIVE_SIGN="RECEIVE_SIGN",n.RESET_HALL_SCENE="RESET_HALL_SCENE",n.RESET_ROOM_SCENE="RESET_ROOM_SCENE",n.ROOM_BET_GOLD_CONFIGS="ROOM_BET_GOLD_CONFIGS",n.GAME_EVENT_SHOW="GAME_EVENT_SHOW",n.GET_TASK_LIST="GET_TASK_LIST",n.TASK_RECEIVE="TASK_RECEIVE",n.REQ_TASK_LIST="REQ_TASK_LIST",n.GET_DESK_NOTICE="GET_DESK_NOTICE",n.REFRESH_DESK_NOTICE="REFRESH_DESK_NOTICE",n.LOSEWAIVER="LOSEWAIVER",n.LOSEWLIST="LOSEWLIST",n.GOLD_TXTIPS="GOLD_TXTIPS",n.FINISH_LOADTEXTLIST="FINISH_LOADTEXTLIST",n.GET_SPREAD_WAY="GET_SPREAD_WAY",n.GET_COLLECTCASH="GET_COLLECTCASH",n.GET_SPREADWAYINFO="GET_SPREADWAYINFO",n.SELECT_GAME_TYPE="SELECT_GAME_TYPE",n.RECHARGE_BONUS_LIST="RECHARGE_BONUS_LIST",n.UPDATE_USER_INFO="UPDATE_USER_INFO",n.GET_USER_INFO="GET_USER_INFO",n.UPDATE_TOTAL_RECHARGE="UPDATE_TOTAL_RECHARGE",n.GET_FAQ_LIST="GET_FAQ_LIST",n.GET_FAQ_INFO="GET_FAQ_INFO",n.GET_FOOTER_PICS="GET_FOOTER_PICS",n.RefreshGameSelectAll="RefreshGameSelectAll",n.HALL_Language="HALL_Language",n.SearchGameList="SearchGameList",n.RecommendGameList="RecommendGameList",n.DomainIcon="DomainIcon",n.GET_EMAIL_LIST="GET_EMAIL_LIST",n.REQ_EMAIL_LIST="REQ_EMAIL_LIST",n.EMAIL_RECEIVE="EMAIL_RECEIVE",n.ET_EMAIL_DETAIL="ET_EMAIL_DETAIL",n.EMAIL_RECEIVEAll="EMAIL_RECEIVEAll",n.EMAIL_DEl_ALL="EMAIL_DEl_ALL",n.HallWidgetVariety="HallWidgetVariety",n.SHOW_BG="SHOW_BG",n.SET_VISIBLE_BOTTOM="SET_VISIBLE_BOTTOM",n.UPDATE_CURSOR="UPDATE_CURSOR",n.SHOW_GAME_ICON="SHOW_GAME_ICON",n.SHOW_ICON="SHOW_ICON",n.SHOW_MENU_ICON="SHOW_MENU_ICON",n.MOVE_CONTENT="MOVE_CONTENT",n.UPDATE_MONTHCARD="UPDATE_MONTHCARD",n.UserCenterActivities="UserCenterActivities",n.GAME_HISTORY_LIST="GAME_HISTORY_LIST",n.RECHARGE_INFOV2="RECHARGE_INFOV2",n.SHOW_REDDOT_RECEIVE="SHOW_REDDOT_RECEIVE",n.TOUCH_SCROLLVIEW="TOUCH_SCROLLVIEW",n.OPEN_SPECIAL_OFFER="OPEN_SPECIAL_OFFER",n.UPDATE_USER_VIP="UPDATE_USER_VIP",n.UPDATE_USER_EXT_GOLD="UPDATE_USER_EXT_GOLD",n.UPDATE_EXTERN_GAME_GOLD="UPDATE_EXTERN_GAME_GOLD",n.UpdateMoveStatus="UpdateMoveStatus",n.GAME_LIST_REMOVER="GAME_LIST_REMOVER",n.GAME_UPDATE_LISTINFO="GAME_UPDATE_LISTINFO",n.HALLTOP_V_MENU="HALLTOP_V_MENU",n.LOGIN_FAILED_VERIFICATION="LOGIN_FAILED_VERIFICATION",n.LOAD_HALL_SUCCESS="LOAD_HALL_SUCCESS",n.COUNTRY_GAME_LOGO="COUNTRY_GAME_LOGO",n.GET_AGENTBONUSRECORDS="GET_AGENTBONUSRECORDS",n.TOP_MAINSCROLLVIEW="TOP_MAINSCROLLVIEW",n.SHOW_PROMOTELAYERINDEX="SHOW_PROMOTELAYERINDEX",n.KEYBOARD_EVENTE="KEYBOARD_EVENTE",n.SELECT_TOPTOOGLE="SELECT_TOPTOOGLE",n.KEYBOARD_POS="KEYBOARD_POS",n.KEYBOARD_CHANGE="KEYBOARD_CHANGE",n.KEYBOARD_DOWN="KEYBOARD_DOWN",n.KEYBOARD_DOWN_MAX="KEYBOARD_DOWN_MAX",n.REQUEST_KEYBOARD_DOWN_MAX="REQUEST_KEYBOARD_DOWN_MAX",n.GET_WheelInfo="GET_WheelInfo",n.GET_WheelRun="GET_WheelRun",n.GET_WheelRecord="GET_WheelRecord",n.GET_WheelHelpDesc="GET_WheelHelpDesc",n.GET_OUT_LINKS="GET_OUT_LINKS",n.GET_ALLPROMOTIONS="GET_ALLPROMOTIONS",n.GET_NIGERIA="GET_NIGERIA",n.LOGIN_IPLIMIT="LOGIN_IPLIMIT",n.GET_OPEN_REDBAG="GET_OPEN_REDBAG",n.GET_DailyRegistrations="GET_DailyRegistrations",n.GET_cashWheel="GET_cashWheel",n.open_cashWheel="open_cashWheel",n.GET_cashWheelwithdraw="GET_cashWheelwithdraw",n.GET_cashWheelreset="GET_cashWheelreset",n.GET_LossRebate="GET_LossRebate",n.GET_LossRebateReceive="GET_LossRebateReceive",n.GET_NewbieBonus="GET_NewbieBonus",n.GET_NewbieBonusReceive="GET_NewbieBonusReceive",n.GET_LuckyLottery="GET_LuckyLottery",n.GET_LuckyLotteryinfo="GET_LuckyLotteryinfo",n.GET_LuckyLotteryReceive="GET_LuckyLotteryReceive",n.GET_DIRECTDETAILLIST="GET_DIRECTDETAILLIST",n.STOP_LOGIN_ANIM="STOP_LOGIN_ANIM",n.REFRESH_LAUNCH="REFRESH_LAUNCH",n.GET_KEFU_LISTBYTEXT="GET_KEFU_LISTBYTEXT",n.HIDE_LANGUAGE="HIDE_LANGUAGE",n.SET_NODE_ZERO="SET_NODE_ZERO",n.GET_TXRECORDDETAILS="GET_TXRECORDDETAILS",n.GET_KEFU_LIST="GET_KEFU_LIST",n.GET_TX="GET_TX",n.GET_SHAREAWARD="GET_SHAREAWARD",n.BD_AutoInfo="BD_AutoInfo",n.GetButtonKey="GetButtonKey",n.START_LOAD_HALL="START_LOAD_HALL",n.SHOW_BTN_SUPPORT="SHOW_BTN_SUPPORT",n.GET_TEAMTOTAL="GET_TEAMTOTAL",n.UPDATE_GAME_GOLD="UPDATE_GAME_GOLD",n.UPGRADE_VIPLV="UPGRADE_VIPLV",n.ROOM_LIST="ROOM_LIST",n.BETBONUS_RECEIVE="BETBONUS_RECEIVE",n.GET_NOTICES="GET_NOTICES",n.BROADCAST_LAST="BROADCAST_LAST",n.GAME_BROADCAST="GAME_BROADCAST",n.GET_AGENTCASHTRANSFER="GET_AGENTCASHTRANSFER",n.GET_COMMISSIONDESCLIST="GET_COMMISSIONDESCLIST",n.UPDATE_COMMISSIONDESC="UPDATE_COMMISSIONDESC",n.GET_AGENTTX="GET_AGENTTX",n.BankNext="BankNext",n.HallShowHallRank="HallShowHallRank",n.GET_GAMERATIO="GET_GAMERATIO",n.GET_BIND_EMAIL="GET_BIND_EMAIL",n.GET_BIND_TEL="GET_BIND_TEL",n.CHANGE_BIRTHDAY="CHANGE_BIRTHDAY",n.JUMP_SCROLL_PERCENT="JUMP_SCROLL_PERCENT",n.VIP_LOADEND="VIP_LOADEND",n.SUPPORT_LIST_BYTEXT="SUPPORT_LIST_BYTEXT",n.SINGLE_CLEARBAT="SINGLE_CLEARBAT",n.GET_TEXTINFO="GET_TEXTINFO",n.GET_AGENTREPORT="GET_AGENTREPORT",n.COMPANY_PAYMENT="COMPANY_PAYMENT",n.GAME_ROOMBETGOLDCONFIG="GAME_ROOMBETGOLDCONFIG",n.GET_ONLINE_NUM="GET_ONLINE_NUM",n.WorldCup_Update_Tickets="WorldCup_Update_Tickets",n.WorldCup_Active_Info="WorldCup_Active_Info",n.WorldCup_Active_History="WorldCup_Active_History",n.WorldCup_Receive_Tickets="WorldCup_Receive_Tickets",n.GetRankingList="GetRankingList",n.WorldCup_AwardResult="WorldCup_AwardResult",n.GET_ROBOTQUESTIONS="GET_ROBOTQUESTIONS",n.GET_ROBOTQUESTIONSAL_LTYPE="GET_ROBOTQUESTIONSAL_LTYPE",n.GET_AGENTDIRECTUSER="GET_AGENTDIRECTUSER",n.GET_SPREADSTATISTICS="GET_SPREADSTATISTICS",n.GET_DAYSPREADSTATISTICS="GET_DAYSPREADSTATISTICS",n.GAME_MAINTAIN_NOTICE="GAME_MAINTAIN_NOTICE",n.UPDATE_GAME_MAINTAIN="UPDATE_GAME_MAINTAIN",n.LIMIT_TIME_RECHARGE="LIMIT_TIME_RECHARGE",n.INTERACTION_JUMP="INTERACTION_JUMP",n.MAIN_JUMP_INTERACTION="MAIN_JUMP_INTERACTION",n.SCROLLVIEW_DIRECTION="SCROLLVIEW_DIRECTION",n.SEND_END="SEND_END",n.UPDATE_LIST="UPDATE_LIST",n.GET_TXRECORD="GET_TXRECORD",n.GAME_USER_HISTORY="GAME_USER_HISTORY",n.GET_USERGUIDE="GET_USERGUIDE",n.GUIDE_WITHDRAW="GUIDE_WITHDRAW",n.GOOGLRECAPTCHAFINISH="GOOGLRECAPTCHAFINISH",n.GAME_LOADING_SUCCESS="GAME_LOADING_SUCCESS",n.GAME_LOADING_FAILED="GAME_LOADING_FAILED",n.UILoginClose="UILoginClose",n.NEW_GAME_PROMOTION="NEW_GAME_PROMOTION",n.CAMERA_IMAGEDATA="CAMERA_IMAGEDATA",n.KF_REPLY_USER_QUESTION="KF_REPLY_USER_QUESTION",n.KF_AI_MESSAGE_PUSH="KF_AI_MESSAGE_PUSH",n.UPDATE_SOUND="UPDATE_SOUND",n.UICashAccountClick="UICashAccountClick",n.EXTERN_GAME_DOWN_TO_CASH_OUT="EXTERN_GAME_DOWN_TO_CASH_OUT",n.WHEEL_FINISHED="WHEEL_FINISHED",n.CLOSE_LROLLER_WIN2="CLOSE_LROLLER_WIN2",n.UPDATE_GAME_MUSICS="UPDATE_GAME_MUSICS",n.UPDATE_UIPLAYER_HEIGHT="UPDATE_UIPLAYER_HEIGHT",n.GET_APKACTIINFO="GET_APKACTIINFO",n.UP_APKACTIINFO="UP_APKACTIINFO",n.UPHALLTOPBOTTOMSWITCH="UPHALLTOPBOTTOMSWITCH",n.USER_OUTLINE="USER_OUTLINE",n.SET_TOP_NODE_SPORT="SET_TOP_NODE_SPORT",n.GUIDE_2="GUIDE_2",n.GUIDE_3="GUIDE_3",n.RETURN_GUIDE="RETURN_GUIDE",n.CLOSE_GUIDE="CLOSE_GUIDE",n.GET_REWARDS_COLUMN="GET_REWARDS_COLUMN",n.FIRST_RECHARGE_SIGN="FIRST_RECHARGE_SIGN",n.BACK_TASK_WEEK_CARD="BACK_TASK_WEEK_CARD",n.UIChatUpdateTopWidget="UIChatUpdateTopWidget",n.GET_channelList="GET_channelList",n.HtmlGameProgress="HtmlGameProgress",n.BonusUnfrozen_getDetailList="BonusUnfrozen_getDetailList",n.BonusUnfrozen_receive="BonusUnfrozen_receive",n.BonusUnfrozen_bill="BonusUnfrozen_bill",n.BonusUnfrozen_set="BonusUnfrozen_set",t.exports=o,cc._RF.pop()},{}],GameEventMgr:[function(e,t){"use strict";cc._RF.push(t,"90cb2ywAShN/KcGRIGQknGS","GameEventMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameEventMgr=void 0;var o=e("../Define/GameEventDefine"),i=function(e){function t(){var t=e.call(this)||this;return t.InBackground=!1,t.JS_Name="GameEventMgr",t.Log("Init"),t.InBackground=!1,cc.game.on(cc.game.EVENT_HIDE,function(){t.InBackground=!0}),cc.game.on(cc.game.EVENT_SHOW,function(){t.InBackground&&(t.InBackground=!1,cc.systemEvent.emit(o.GameEventDefine.GAME_EVENT_SHOW))}),t}return __extends(t,e),Object.defineProperty(t.prototype,"GetInBackground",{get:function(){return this.InBackground},enumerable:!1,configurable:!0}),t}(e("./Singleton").Singleton);n.GameEventMgr=i,t.exports=n,cc._RF.pop()},{"../Define/GameEventDefine":"GameEventDefine","./Singleton":"Singleton"}],GameHistoryListBase:[function(e,t){"use strict";cc._RF.push(t,"d8dcaNz7xFONY16+AM7hDTx","GameHistoryListBase");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHistoryListBase=void 0;var o=e("../../Common/Base/UIBaseComponent"),i=e("../../Common/Component/NodePool"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.item=null,t.itemHeight=0,t.itemNum=12,t.nodePool=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="GameHistoryListBase",this.nodePool=this.node.addComponent(i.default),this.nodePool&&this.nodePool.initPool(this.item,10),this.itemHeight=this.item.height},t.prototype.OnEnable=function(){this.OnRemoverChildren()},t.prototype.OnRemoverChildren=function(){this.content.stopAllActions(),this.content.removeAllChildren()},t.prototype.initView=function(e){var t=this.nodePool.createNode();t.setPosition(0,this.itemHeight),this.OnItemInfo(t,e),this.content.addChild(t),t.active=!0,this.OnPlayAnim()},t.prototype.OnItemInfo=function(){},t.prototype.OnPlayAnim=function(){var e=this;if(this.content.childrenCount>0)for(var t=this.content.childrenCount,n=0;n<t;n++){var o=this.content.children[n];cc.tween(o).to(.2,{position:cc.v3(0,-(t-1-n)*this.itemHeight)},{easing:cc.easing.sineOut}).call(function(t){t.y<=-e.itemHeight*e.itemNum&&(t.active=!1,t.stopAllActions(),e.nodePool.recycleNode(t))},o).start()}},__decorate([s(cc.Node)],t.prototype,"content",void 0),__decorate([s(cc.Node)],t.prototype,"item",void 0),__decorate([r],t)}(o.default);n.GameHistoryListBase=c,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Component/NodePool":"NodePool"}],GameHttpDefine:[function(e,t){"use strict";cc._RF.push(t,"d5520O4xKVPY7Ym2mrbe/qE","GameHttpDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameHttpAPI=void 0;var o=function(){function e(){}return e.GAME_RoomBetGoldConfig="/game/roomBetGoldConfig",e.GAME_USER_HISTORY="/goldgame/user_history",e.BD_HISTORY="/Goldgame/bd_history",e.BD_RANKINGS="/game_rankings/bd_rankings",e.CRASH2_HISTORY="/Goldgame/crash2_history",e.CRASH2_RANKINGS="/game_rankings/crash2_rankings",e.DOUBLE_HISTORY="/goldGame/double_history",e.BCBM_HISTORY="/goldgame/bcbm_history",e.BCBM_RANKINGS="/game_rankings/bcbm_rankings",e.LONGHU_HISTORY="/goldgame/longhu_bai_history",e.LONGHU_RANKINGS="/game_rankings/longhu_rankings",e.DiceHundred_HISTORY="/goldgame/dice_history",e.MINES_SHOW_RESULT="/single_game.sw_game/show_result",e.MINES_START_DEFAULT="/single_game.sw_game/startDefault",e.MINES_BET="/single_game.sw_game/bet",e.MINES_OPEN_POS="/single_game.sw_game/open_position",e.CRAZY_MINES_SHOW_RESULT="/single_game.swtwo_game/show_result",e.CRAZY_MINES_START_DEFAULT="/single_game.swtwo_game/startDefault",e.CRAZY_MINES_BET="/single_game.swtwo_game/bet",e.CRAZY_MINES_OPEN_POS="/single_game.swtwo_game/open_position",e.SLOT_HISTORY="/goldgame/qqq_history",e.SLOT_BetConfig="/single_game.Qiqiqi/slotBetConfig",e.SLOT_GAME_END="/single_game.Qiqiqi/gameEnd",e.SLOT_GAME_RESULT="/single_game.Qiqiqi/gameResult",e.SLOT_CHANGE_ANTES="/single_game.Qiqiqi/changeAntes",e.SLOT_COMPARE="/single_game.Qiqiqi/compare",e.SLOT2_HISTORY="/goldgame/fruit_history",e.SLOT2_BetConfig="/single_game.Fruit/slotBetConfig",e.SLOT2_GAME_END="/single_game.Fruit/gameEnd",e.SLOT2_GAME_RESULT="/single_game.Fruit/gameResult",e.SLOT2_CHANGE_ANTES="/single_game.Fruit/changeAntes",e.SLOT2_COMPARE="/single_game.Fruit/compare",e.SJB_GAME_END="/single_game.world_cup_slot/gameEnd",e.SJB_GAME_RESULT="/single_game.world_cup_slot/gameResult",e.SJB_CHANGE_ANTES="/single_game.world_cup_slot/changeAntes",e.SJB_BetConfig="/single_game.world_cup_slot/slotBetConfig",e.SJB_COMPARE="/single_game.world_cup_slot/compare",e.LRoller_HISTORY="/single_game.lucky_roller/getHistory",e.LRoller_GetProbability="/single_game.lucky_roller/getProbability",e.LRoller_GetResult="/single_game.lucky_roller/getResult",e.Dice_HISTORY="/single_game.luckydice_game/show_result",e.Dice_GetProbability="/single_game.luckydice_game/startDefault",e.Dice_bet="/single_game.luckydice_game/bet",e.RUMMY_HISTORY="/goldgame/rummy_history",e}();n.GameHttpAPI=o,t.exports=n,cc._RF.pop()},{}],GameListManager:[function(e,t){"use strict";cc._RF.push(t,"f5e99yxBeNAnqorSAxjJW4a","GameListManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameListManager=void 0;var o=e("../../../script/common/GIDTool"),i=e("../../../script/common/room_mode_tool"),a=e("../../Base/Singleton"),r=e("../../Bundle/BundleConfig"),s=e("../../Define/UINameDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GoldGameList={},t.GoldGameShowMap=new Map,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GameListManager",this.Log("Init")},Object.defineProperty(t.prototype,"GetGameGid",{get:function(){return this.gameGid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetTypeName",{get:function(){return this.typeName},enumerable:!1,configurable:!0}),t.prototype.SetTypeName=function(e){this.typeName=e},Object.defineProperty(t.prototype,"GetIsTypeShow",{get:function(){return!this.GetIsGameTruco&&!this.GetIsGameTEXAS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetIsGameTruco",{get:function(){return this.gameGid==o.GIDTool.TRUCOONE||this.gameGid==o.GIDTool.TRUCOTWO},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetIsGameTEXAS",{get:function(){return this.gameGid==o.GIDTool.TEXAS||this.gameGid==o.GIDTool.Omaha||this.gameGid==o.GIDTool.DuanPai},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetPlayOmaha",{get:function(){return this.typeName==this.GetGameTypeName(o.GIDTool.Omaha)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetPlayShortCard",{get:function(){return this.typeName==this.GetGameTypeName(o.GIDTool.DuanPai)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetIsGameRummy",{get:function(){return this.gameGid==o.GIDTool.RUMMY||this.gameGid==o.GIDTool.RUMMY_2P||this.gameGid==o.GIDTool.RUMMY_SINGLE||this.gameGid==o.GIDTool.RUMMY_2P_SINGLE||this.gameGid==o.GIDTool.RUMMY_Pool_101||this.gameGid==o.GIDTool.RUMMY_Pool_201||this.gameGid==o.GIDTool.RUMMY_Deal_2P||this.gameGid==o.GIDTool.RUMMY_Deal_3P},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetIsGameTeenPatti",{get:function(){return this.gameGid==o.GIDTool.Royal_TP||this.gameGid==o.GIDTool.TP_SINGLE||this.gameGid==o.GIDTool.Royal_TP_SINGLE||this.gameGid==o.GIDTool.YDZJH},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetPlayPoolRummy",{get:function(){return this.typeName==this.GetGameTypeName(o.GIDTool.RUMMY_Pool_101)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetPlayDealRummy",{get:function(){return this.typeName==this.GetGameTypeName(o.GIDTool.RUMMY_Deal_2P)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetIsPoolDealRummy",{get:function(){return this.GetPlayPoolRummy||this.GetPlayDealRummy},enumerable:!1,configurable:!0}),t.prototype.GetTrucoOrder=function(e){for(var t={},n=[o.GIDTool.TRUCOONE,o.GIDTool.TRUCOTWO],i=0;i<n.length;i++){var a=n[i],r=app.GameConfigManager().GetGameListItem(a);for(var s in t[i]={},e)e[s][r.game_name]&&(t[i][r.game_name]=e[s][r.game_name])}return t},t.prototype.getGameRoomList=function(e){this.gameGid=e;var t=app.RoomManager().GetGoldGame(this.gameGid);this.SetTypeName(this.GetOldGameType(t));var n=this.getGoldGameList;if(n[t]){for(var o={},a=0;a<n[t].length;a++){var r=n[t][a];o[a]={},o[a][r.gid+""]=[],o[a][r.gid+""].push(r)}var s={},c=0;for(var a in o)for(var p in r=o[a]){var l=!1,h=r[p][0],d=Number(p),u=this.GetIsGameTruco?h.game_name:this.GetGameTypeName(d);for(var _ in s){var m=s[_];m[u]&&(m[u].push(h),l=!0)}l||(s[c]={},s[c][u]=[],s[c][u].push(h),c++)}return this.GetIsGameTruco&&Object.keys(s).length>1&&(s=this.GetTrucoOrder(s)),s}app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL)},t.prototype.GetGameTypeName=function(e){var t=app.RoomManager().GetRoomModeInfoByGid(e);return t?t.GameName:(this.ErrLog("GetGameTypeName fail:",e),"")},t.prototype.GetPlayTypeName=function(e){var t=app.RoomManager().GetRoomModeInfoByGid(e);return t&&t.PlayTypeName?app.i18n.t(t.PlayTypeName):(this.WarnLog("GetPlayTypeName fail:",e),app.i18n.t("UI.cashout_0_main_5"))},t.prototype.GetOldGameType=function(e){var t=app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"GoldGameTypeName");return t&&t[e]?t[e]:""},t.prototype.SetOldGameType=function(){var e={};e[app.RoomManager().GetGoldGame(this.gameGid)]=this.typeName,app.LocalDataManager().SetConfigObject(app.UserManager().UserInfo.uid+"GoldGameTypeName",e)},t.prototype.GetGoldGameList=function(e){this.GoldGameList||(this.GoldGameList={});var t=app.RoomManager().GetGoldGame(e.gid);if(t){if(this.GoldGameList&&this.GoldGameList[t]){for(var n=0;n<this.GoldGameList[t].length;n++)if(this.GoldGameList[t][n].gid===e.gid)return this.GoldGameShowMap.get(t)?this.GoldGameShowMap.get(t):(this.GoldGameShowMap.set(t,!0),!1);return this.GoldGameList[t].push(e),this.GoldGameShowMap.set(t,!0),!0}this.GoldGameList[t]||(this.GoldGameList[t]=[]),this.GoldGameList[t].push(e),this.GoldGameShowMap.set(t,!0)}return!1},Object.defineProperty(t.prototype,"getGoldGameList",{get:function(){return this.GoldGameList},enumerable:!1,configurable:!0}),t.prototype.clearGameShowMap=function(){this.GoldGameShowMap.clear()},t.prototype.OntOutGoldGameCheck=function(e){var t=this,n=app.UserManager().UserInfo.roomMode;app.GameManager().BackHallScene(function(){if(e){var o=app.RoomManager().GetRoomModeInfoByRoomMode(n);o&&t.OpenRoomList({extern:!0,gid:o.GID,loadType:0})}})},t.prototype.OpenRoomList=function(e){app.FormManager().ShowForm(s.UINameDefine.UIRoomList,e)},t.prototype.OpenGameHelp=function(){var e={};e={bundle:"",HelpPage:2};var t=s.UINameDefine.UIGameHelp;if(this.GetIsGameRummy)e.bundle=r.BundleNames.RUMMY,(this.GetPlayPoolRummy||this.GetPlayDealRummy)&&(e.helpName=this.GetPlayPoolRummy?"PoolRM_help":"DealRM_help");else if(this.GetIsGameTeenPatti)e.bundle=r.BundleNames.TP;else{if(this.GetIsGameTruco)return void app.FormManager().ShowForm(s.UINameDefine.Game730Help);this.GetIsGameTEXAS&&(t=s.UINameDefine.UIGameHelpCom,e.HelpPage=1,e.bundle=r.BundleNames.Game30,this.GetPlayOmaha?e.bundle=r.BundleNames.Game910:this.GetPlayShortCard&&(e.bundle=r.BundleNames.Game900))}app.FormManager().ShowForm(t,e)},t}(a.Singleton);n.GameListManager=c,t.exports=n,cc._RF.pop()},{"../../../script/common/GIDTool":"GIDTool","../../../script/common/room_mode_tool":"room_mode_tool","../../Base/Singleton":"Singleton","../../Bundle/BundleConfig":"BundleConfig","../../Define/UINameDefine":"UINameDefine"}],GameManager:[function(e,t){"use strict";cc._RF.push(t,"bbfc7XITulFEZmaNiEqs5zm","GameManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameManager=void 0;var o=e("../../Common/Define/GameEventDefine"),i=e("../../script/common/room_mode_tool"),a=e("../../script/common/Global"),r=e("../../Common/Base/Singleton"),s=e("../../Common/Define/FormDefine"),c=e("../../Common/Define/UINameDefine"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneInfo=app.SysDataManager().GetTableDict(s.FormDefine.SceneInfo),t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GameManager",this.initCommon()},t.prototype.initCommon=function(){cc.mg={},this.curr_scene_name=i.GameScene.LAUNCH,this.last_scene_name="",this.loading=!1,cc.mg.global=new a.default,app.ClientConfigManager().GetGlobalConfig.debug?app.Client.InitDebug(!0):cc.sys.isBrowser&&app.Client.EnableLog(app.ClientConfigManager().GetGlobalConfig.EnableLog),cc.mg.native_class=app.NativeMgr()},t.prototype.enterScene=function(e,t){var n=this;this.Log("enterScene call scene_name = "+e);var i=this.GetSceneInfo(e),a=e.indexOf("game")>-1;if(i){var r=i.DefaultForm.slice();a&&r.push(e),e!=this.curr_scene_name?this.loading?this.ErrLog("call error: someone scene is loading"):(this.loading=!0,this.curr_scene_name&&(this.last_scene_name=this.curr_scene_name),app.SoundManager().StopAll(),app.EffectMgr().ClearAnimation(),app.Client.OnEvent(o.GameEventDefine.SHOW_BG),app.FormManager().ChangeToFormList(r).then(function(){n.curr_scene_name=e,n.loading=!1,t&&t()}).catch(function(e){n.ErrLog(e)})):app.FormManager().ChangeToFormList(r).then(function(){t&&t()})}else this.ErrLog("enterScene error: scene_name: "+e)},t.prototype.enterSceneByRoomMode=function(e,t){var n=this,o=app.RoomManager().GetRoomModeInfoByRoomMode(e);if(o){var a=function(){n.enterScene(o.SceneName,t)};if(this.curr_scene_name==o.SceneName)return void this.enterScene(i.GameScene.HALL,function(){app.HallManager().ImmediateEnterGame(e,a)});app.HallManager().ImmediateEnterGame(e,a)}else 0==e?app.GameConfigManager().IsExperienceServer&&app.UserManager().GetUserInfo.roomMode?this.enterScene(i.GameScene.HALL,function(){t&&t(),app.HallManager().GetFreeOutGameWindow()}):this.enterScene(i.GameScene.HALL,t):this.ErrLog("roomMode: "+e+" not exist!")},Object.defineProperty(t.prototype,"InHallScene",{get:function(){return this.curr_scene_name==i.GameScene.HALL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"InGameScene",{get:function(){return this.curr_scene_name==app.RoomManager().GetGameScene()},enumerable:!1,configurable:!0}),t.prototype.InCurScene=function(e){return this.curr_scene_name==e},t.prototype.BackHallScene=function(e){this.enterSceneByRoomMode(i.RoomMode.HALL,e)},t.prototype.BackLoginScene=function(){app.LoginManager().VisitorLogin()},t.prototype.GetSceneInfo=function(e){var t=e.indexOf("game")>-1?"Fight":e;return this.sceneInfo[t]?this.sceneInfo[t]:(this.ErrLog("GetSceneInfo: scene_name: "+e),null)},t.prototype.PushFightDefaultForm=function(){var e=this.sceneInfo.Fight;e&&-1==e.DefaultForm.indexOf(c.UINameDefine.UIGameLoading)&&e.DefaultForm.push(c.UINameDefine.UIGameLoading)},t.prototype.SpliceFightDefaultForm=function(){var e=this.sceneInfo.Fight;e&&e.DefaultForm.splice(e.DefaultForm.indexOf(c.UINameDefine.UIGameLoading),1)},Object.defineProperty(t.prototype,"GetCurSceneInfo",{get:function(){var e=this.GetSceneInfo(this.curr_scene_name);return e?e.DefaultForm:[]},enumerable:!1,configurable:!0}),t}(r.Singleton);n.GameManager=p,t.exports=n,cc._RF.pop()},{"../../Common/Base/Singleton":"Singleton","../../Common/Define/FormDefine":"FormDefine","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/UINameDefine":"UINameDefine","../../script/common/Global":"Global","../../script/common/room_mode_tool":"room_mode_tool"}],GameServerManager:[function(e,t){"use strict";cc._RF.push(t,"0e9ceA2t7ZJybObeXyGpROK","GameServerManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameServerManager=void 0;var o=e("./MsgEventDefine"),i=e("../../script/common/error_define"),a=e("../Define/GameEventDefine"),r=e("../Base/Singleton"),s=e("../Define/ShareDefine"),c=e("../../script/common/room_mode_tool"),p=e("../Define/EventWaitType"),l=e("../Lib/jsonBigint/JsonBigint"),h=0,d=null,u=null,_={req_login:{key:"req_login",name:"ReqQuickLogin",code:1002},req_myinfo:{key:"req_myinfo",name:"ReqAccountInfo",code:1007},req_list_line:{key:"req_list_line",name:"ReqListLine",code:1011},req_choose_line:{key:"req_choose_line",name:"ReqChooseLine",code:1013},req_logout_line:{key:"req_logout_line",name:"ReqLogoutLine",code:1015},req_create_room:{key:"req_create_room",name:"ReqCreateRoom",code:1021},req_join_room:{key:"req_join_room",name:"ReqJoinRoom",code:1023},req_roominfo:{key:"req_roominfo",name:"ReqRoomInfo",code:1048},req_leave_room:{key:"req_leave_room",name:"ReqLeaveRoom",code:1025},req_vote_dissolve_room:{key:"req_vote_dissolve_room",name:"ReqRoomOperation",code:1029},req_ready:{key:"req_ready",name:"ReqRoomOperation",code:1029},req_round_ready:{key:"req_round_ready",name:"ReqRoomOperation",code:1029},req_match_room:{key:"req_match_room",name:"ReqMatchRoom",code:1035},req_start:{key:"req_start",name:"RoomStartGame",code:1060},req_start_round:{key:"req_start_round",name:"CreateRoomReq",code:1021},ReqStartGame:{key:"ReqStartGame",name:"ReqStartGame",code:1031},reconnGame:{key:"reconnGame",name:"GameJsonPkg",code:1071,sub_code:1,sub_name:"ReconnGame"},DealCards:{key:"DealCards",name:"GameJsonPkg",code:1071,sub_code:5,sub_name:"DealCards"},PlayCards:{key:"PlayCards",name:"GameJsonPkg",code:1071,sub_code:11,sub_name:"PlayCards"},MatchResult:{key:"MatchResult",name:"GameJsonPkg",code:1071,sub_code:13,sub_name:"MatchResult"},GMSetDeck:{key:"GMSetDeck",name:"GameJsonPkg",code:1071,sub_code:100,sub_name:"GMSetDeck"},PlayerCard:{key:"PlayerCard",name:"GameJsonPkg",code:1071,sub_code:14,sub_name:"PlayerCard"},DummyPlay:{key:"DummyPlay",name:"GameJsonPkg",code:1071,sub_code:36,sub_name:"DummyPlay"},CompeteBanker:{key:"CompeteBanker",name:"GameJsonPkg",code:1071,sub_code:21,sub_name:"CompeteBanker"},Bet:{key:"Bet",name:"GameJsonPkg",code:1071,sub_code:22,sub_name:"Bet"},Pass:{key:"Pass",name:"GameJsonPkg",code:1071,sub_code:20,sub_name:"Pass"},Discard:{key:"Discard",name:"GameJsonPkg",code:1071,sub_code:25,sub_name:"Discard"},Follow:{key:"Follow",name:"GameJsonPkg",code:1071,sub_code:26,sub_name:"Follow"},trustee:{key:"trustee",name:"GameJsonPkg",code:1071,sub_code:27,sub_name:"Trustee"},Lock:{key:"Lock",name:"GameJsonPkg",code:1071,sub_code:40,sub_name:"Lock"},Fire:{key:"Fire",name:"GameJsonPkg",code:1071,sub_code:41,sub_name:"Fire"},SwitchFire:{key:"SwitchFire",name:"GameJsonPkg",code:1071,sub_code:42,sub_name:"SwitchFire"},HitFish:{key:"HitFish",name:"GameJsonPkg",code:1071,sub_code:43,sub_name:"HitFish"},KillFish:{key:"KillFish",name:"GameJsonPkg",code:1071,sub_code:44,sub_name:"KillFish"},GenerateFish:{key:"GenerateFish",name:"GameJsonPkg",code:1071,sub_code:47,sub_name:"GenerateFish"},SpecialEventTime:{key:"SpecialEventTime",name:"GameJsonPkg",code:1071,sub_code:48,sub_name:"SpecialEventTime"},ActionFail:{key:"ActionFail",name:"GameJsonPkg",code:1071,sub_code:50,sub_name:"ActionFail"},req_join_hall:{key:"req_join_hall",name:"ReqJoinHall",code:1081},req_leave_hall:{key:"req_leave_hall",name:"ReqLeaveHall",code:1083},req_hall_info:{key:"req_hall_info",name:"ReqHallInfo",code:1087},game_ping:{key:"game_ping",name:"Tick",code:1100}},m={RspLogin:{key:"RspLogin"},RspLogout:{key:"RspLogout"},RspAccountInfo:{key:"RspAccountInfo"},UpdateRoomCard:{key:"UpdateRoomCard"},Notify:{key:"Notify"},RspListLine:{key:"RspListLine"},RspChooseLine:{key:"RspChooseLine"},RspCreateRoom:{key:"RspCreateRoom"},RspJoinRoom:{key:"RspJoinRoom"},RspLeaveRoom:{key:"RspLeaveRoom"},RoomChat:{key:"RoomChat"},RspRoomOperation:{key:"RspRoomOperation"},RspStartGame:{key:"RspStartGame"},RspRoomInfo:{key:"RspRoomInfo"},RoomNotify:{key:"RoomNotify"},RoomStartGame:{key:"RoomStartGame"},RoomEndGame:{key:"RoomEndGame"},GameJsonPkg:{key:"GameJsonPkg"},RspJoinHall:{key:"RspJoinHall"},RspLeaveHall:{key:"RspLeaveHall"},RspHallInfo:{key:"RspHallInfo"},HallEndRound:{key:"HallEndRound"},HallNotify:{key:"HallNotify"},Tick:{key:"Tick"}},g=new Map;g.set(1004,m.RspLogin.key),g.set(1006,m.RspLogout.key),g.set(1008,m.RspAccountInfo.key),g.set(1009,m.UpdateRoomCard.key),g.set(1010,m.Notify.key),g.set(1012,m.RspListLine.key),g.set(1014,m.RspChooseLine.key),g.set(1022,m.RspCreateRoom.key),g.set(1024,m.RspJoinRoom.key),g.set(1026,m.RspLeaveRoom.key),g.set(1027,m.RoomChat.key),g.set(1030,m.RspRoomOperation.key),g.set(1032,m.RspStartGame.key),g.set(1049,m.RspRoomInfo.key),g.set(1050,m.RoomNotify.key),g.set(1060,m.RoomStartGame.key),g.set(1061,m.RoomEndGame.key),g.set(1071,m.GameJsonPkg.key),g.set(1082,m.RspJoinHall.key),g.set(1084,m.RspLeaveHall.key),g.set(1088,m.RspHallInfo.key),g.set(1089,m.HallEndRound.key),g.set(1090,m.HallNotify.key),g.set(1100,m.Tick.key);var f=function(e,t,n,o){var i={Head:{},Body:{}},a=i.Head;a.version=2,a.Cmd=t.code,a.Uin=e,a.Headlen=12,a.Bodylen=0;var r=i.Body,s=t.name;if(n&&(r[s]=n),o){var c=r[s]={};c.RoomID=app.UserManager().GetUserInfo.room_no;var p={Head:{},Body:{}},l=p.Head,h=p.Body;l.Cmd=t.sub_code,l.Uin=e,h[t.sub_name]=o,c.JsonContent=JSON.stringify(p)}return i},y=function(e){for(var t in this.version=2,this.Cmd=0,this.Uin=0,this.Headlen=12,this.Bodylen=0,e)e.hasOwnProperty(t)&&(this[t]=e[t])},v=function(e,t){this.Head=new y(e),this.Body=t},E=function(e){function t(){var t=e.call(this)||this;return t.delayMS=0,t.heartBeatFlag=!1,t.isConnecting=!1,t.connectTime=(new Date).getTime(),t.connectCount=0,t.connected=!1,t.needConnect=!0,t.needSendEvent=!0,t.handlers={},t.rsp_key_map=m,t.req_key_map=_,t.IsLoginSuccess=!1,t.JS_Name="GameServerManager",t.Log("Init"),t.RegisterEventHandler(),t}return __extends(t,e),t.prototype.RegisterEventHandler=function(){var e=this,t=[];t.push(o.default.EVENT_LOGIN),t.push(o.default.EVENT_LOGIN_FINISH),t.push(o.default.EVENT_LOGOUT),t.push(o.default.EVENT_CREATE_ROOM),t.push(o.default.EVENT_JOIN_ROOM),t.push(o.default.EVENT_SELF_JOIN_ROOM),t.push(o.default.EVENT_ROOM_INFO),t.push(o.default.EVENT_ROOM_OPERATION),t.push(o.default.EVENT_LEAVE_ROOM),t.push(o.default.EVENT_VOTE_DISSOVLE_ROOM),t.push(o.default.EVENT_DISSOVLE_ROOM),t.push(o.default.EVENT_ROOM_START_GAME),t.push(o.default.EVENT_ROOM_END_GAME),t.push(o.default.EVENT_GAME_MESSAGE),t.push(o.default.EVENT_READY),t.push(o.default.EVENT_START),t.push(o.default.EVENT_FACE),t.push(o.default.EVENT_ROOM_CHAT),t.push(o.default.EVENT_ONLINE_STATE),t.push(o.default.EVENT_ROOM_RECYCLE),t.push(o.default.EVENT_MATCH_COUNTDOWN),t.push(o.default.EVENT_ROUND_READY),t.push(o.default.EVENT_DISCONNECT),t.forEach(function(t){e.AddHandler(t,function(e){cc.systemEvent.emit(t,e)})})},t.prototype.AddHandler=function(e,t){this.handlers[e]?this.WarnLog("event:"+e+"' handler has been registered."):this.handlers[e]=function(n){e!=o.default.EVENT_DISCONNECT&&"string"==typeof n&&(n=JSON.parse(n)),t(n)}},t.prototype.connect=function(e){isgoServer?(this.Log("connect: "+e),this.isConnecting||(this.Close(),this.url=e,this.needConnect=!0,this.isConnecting=!0,this.connectTime=Date.now(),this.connectCount++,3==this.connectCount&&(app.Client.OnEvent(a.GameEventDefine.GAME_SERVER_UNCONNECTED),this.connectCount=0),this.socket=new WebSocket(e),this.curr_lineID="0.0.0.0",this.socket.onopen=this.OnOpen.bind(this),this.socket.onmessage=this.OnMessage.bind(this),this.socket.onerror=this.OnError.bind(this),this.socket.onclose=this.OnClose.bind(this))):(this.Log("connect: "+e),this.isConnecting||(this.Close(),this.url=e,this.needConnect=!0,this.isConnecting=!0,this.connectTime=Date.now(),this.connectCount++,3==this.connectCount&&(app.Client.OnEvent(a.GameEventDefine.GAME_SERVER_UNCONNECTED),this.connectCount=0),this.socket=new WebSocket(e),this.socket.binaryType="arraybuffer",this.curr_lineID="0.0.0.0",this.socket.onopen=this.OnOpen.bind(this),this.socket.onmessage=this.OnMessage.bind(this),this.socket.onerror=this.OnError.bind(this),this.socket.onclose=this.OnClose.bind(this)))},t.prototype.OnOpen=function(){this.SysLog("ws connected"),this.connected=!0,this.connectCount=0,this.isConnecting=!1,this.needSendEvent=!0,this.heartBeatFlag=!1,cc.systemEvent.emit(a.GameEventDefine.GAME_SERVER_CONNECTED),this.ResetHeartbeat()},t.prototype.OnMessage=function(e){if(this.heartBeatFlag&&(this.heartBeatFlag=!1,this.lastReceivedTime=Date.now(),this.delayMS=this.lastReceivedTime-this.lastSendTime),isgoServer)var t=e.data,n=e.data;else n=pako.inflate(e.data,{to:"string"});try{var r='"RoomAccId":';t=(h=n.indexOf(r))>-1?JSON.parse(JSON.stringify(l.parse(n))):JSON.parse(n)}catch(w){var h;if(this.ErrLog("\u89e3\u6790\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u9519\u8bef strBody:%s,error:%s",n,w.stack),r='"Nickname":"',!((h=n.indexOf(r))>-1))return;var d=n.indexOf('"',h+r.length);n=n.substring(0,h+r.length)+n.substring(d,n.length);try{t=l.parse(n)}catch(w){return void this.ErrLog("\u89e3\u6790\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u9519\u8bef strBody:%s,error:%s",n,w.stack)}}switch(1100!=t.Head.Cmd&&this.IsDevelopment()&&this.NetLog("OnMessage: ",JSON.parse(JSON.stringify(n)),"b-gb1"),t.Head.Cmd){case 1004:t.Body.RspLogin.Eno>0?(0,this.handlers[o.default.EVENT_LOGOUT])({code:t.Body.RspLogin.Eno}):(this.uid=t.Head.Uin,this.tick=t.Body.RspLogin.Tick,this.send(_.req_myinfo.key,{uid:this.uid}));break;case 1008:var u=this.handlers[o.default.EVENT_LOGIN],m=t.Body.RspAccountInfo.UserInfo,f={uid:m.Uin,uno:m.Uin,lineid:m.LineID,roomMode:t.Body.RspAccountInfo.RoomMode,room_no:t.Body.RspAccountInfo.RoomID,unionid:m.Unionid,wx_openid:m.Openid,nickname:m.Nickname,sex:m.Sex,headimg:m.Headimgurl,card_num:m.RoomCard,gold:m.GoldCoin-m.BankGold,bankgold:m.BankGold,ip:m.IP,time:this.tick};this.IsLoginSuccess=!1,"0.0.0.0"!=t.Body.RspAccountInfo.LineID&&(this.curr_lineID=t.Body.RspAccountInfo.LineID,this.send("req_choose_line")),u(f),"0.0.0.0"==this.curr_lineID&&(this.IsLoginSuccess=!0,this.handlers[o.default.EVENT_LOGIN_FINISH]());break;case 1009:this.Log("\u5145\u503c");var y=t.Body.UpdateUserinfo;if(null==y)return void cc.error("receive error data");app.UserManager().GetUserInfo.gold=y.GoldCoin-y.BankGold,app.UserManager().GetUserInfo.card_num=y.RoomCard,app.RoomManager().EnableRefresh&&app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_INFO);break;case 1010:var E={id:t.Body.Notify.NotifyID,loop:t.Body.Notify.LoopCount,interval:t.Body.Notify.Interval,content:t.Body.Notify.NotifyContent};cc.systemEvent.emit(o.default.EVENT_NOTIFY,E);break;case 1012:t.Body.RspListLine.LineCount>0&&"0.0.0.0"==this.curr_lineID&&(this.curr_lineID=t.Body.RspListLine.LineInfos[0].LineID,this.send("req_choose_line"));break;case 1014:if(0!=t.Body.RspChooseLine.Eno){var C=app.GameConfigManager().GetGameConfig().stop_server_prompt;C?app.ConfirmManager().ShowConfirm(s.ConfirmType.ConfirmOK,C,null,null):app.ConfirmManager().ShowConfirm(s.ConfirmType.ConfirmOK,"UI.System_7",null,null)}else this.IsLoginSuccess||(this.IsLoginSuccess=!0,this.handlers[o.default.EVENT_LOGIN_FINISH]());break;case 1022:(u=this.handlers[o.default.EVENT_CREATE_ROOM])(t.Body.RspCreateRoom);break;case 1024:u=this.handlers[o.default.EVENT_SELF_JOIN_ROOM];var M=t.Body.RspJoinRoom.Eno;if(0==M||30103==M)app.UserManager().GetUserInfo.room_no=t.Body.RspJoinRoom.RoomID,app.UserManager().GetUserInfo.roomMode=t.Body.RspJoinRoom.RoomMode,30103==M&&(app.UserManager().GetUserInfo.is_reconned=!0),u({code:0,room_no:app.UserManager().GetUserInfo.room_no,room_mode:app.UserManager().GetUserInfo.roomMode});else{var S=t.Body.RspJoinRoom.Eno,I=i.get(S),G="Join Room Error: "+S;I&&(G=I()),u({code:S,msg:G,room_no:t.Body.RspJoinRoom.RoomID}),app.Client.OnEvent(a.GameEventDefine.GAME_LOADING_FAILED)}break;case 1026:0==t.Body.RspLeaveRoom.Eno?(u=this.handlers[o.default.EVENT_LEAVE_ROOM])({code:t.Body.RspLeaveRoom.Reason,changeRoom:t.Body.RspLeaveRoom.ChangeRoom,uid:t.Head.Uin,uno:t.Head.Uin,gold_change:t.Body.RspLeaveRoom.GoldChange,event_type:o.default.EVENT_LEAVE_ROOM}):t.Head.Uin==this.uid&&30110==t.Body.RspLeaveRoom.Eno&&this.ErrLog("RspLeaveRoom Eno 30110");break;case 1027:u=this.handlers[o.default.EVENT_ROOM_CHAT],t.event_type=o.default.EVENT_ROOM_CHAT,u(t);break;case 1030:u=this.handlers[o.default.EVENT_ROOM_OPERATION];var O=t.Body.RspRoomOperation;O.event_type=o.default.EVENT_ROOM_OPERATION,u(O);break;case 1032:u=this.handlers[o.default.EVENT_START];var T=t.Body.RspStartGame;T.event_type=o.default.EVENT_START,u(T);break;case 1049:if(app.Client.OnEvent("ModalLayer",p.EventWaitType.ReceiveNet),u=this.handlers[o.default.EVENT_ROOM_INFO],30105==t.Body.RspRoomInfo.Eno){app.GameManager().enterSceneByRoomMode(c.RoomMode.HALL);break}for(var R=t.Body.RspRoomInfo.RoomInfo,D={owner:R.Owner,code:t.Body.RspRoomInfo.Eno,room_no:R.RoomID,lineid:R.LineID,state:R.State,gid:R.RoomMode,type:R.RoomMode,name:R.RoomName,creator_uid:R.Owner.Uin,creator_uno:R.Owner.Uin,create_time:R.CreateTime,GameBeginTime:R.GameBeginTime,RoundBeginTime:R.RoundBeginTime,RoundEndTime:R.RoundEndTime,start_mode:R.StartMode,MaxTurnCount:R.MaxTurnCount,MatchCDTime:R.MatchCDTime,RoomType:R.RoomType,RoomAccId:R.RoomAccId,players:[],watchers:[],player_num:R.MemberCount,conf:{rounds_type:R.MaxRoundCount,pnum_type:R.MaxMemberCount,settle_type:R.CardType,rule_type:0},MaxMemberCount:R.MaxMemberCount,gameSettings:{}},N=0;N<R.MemberInfo.length;N++){var L=R.MemberInfo[N];D.players[N]={uid:L.Uin,uno:L.Uin,nickname:L.Nickname,sex:L.Sex,headimg:L.Imageurl,online:L.Online,ready:!!L.IsReady,vote_dissolve:L.IsVoteDestroyRoom,gold:L.Cash,seat:L.Seat,ip:L.ClientIP}}if(R.ObserverInfo)for(N=0;N<R.ObserverInfo.length;N++){var b={uid:(L=R.ObserverInfo[N]).Uin,uno:L.Uin,nickname:L.Nickname,sex:L.Sex,headimg:L.Imageurl,online:L.Online,ready:!!L.IsReady,vote_dissolve:L.IsVoteDestroyRoom,gold:L.Cash,seat:L.Seat,ip:L.ClientIP};D.players.push(b)}D.gameSettings=R.GameSettings,D.DestroyDeclarePlayerID=R.DestroyDeclarePlayerID,D.DestroyBeginTick=R.DestroyBeginTick,D.WinMulti=R.WinMulti,D.event_type=o.default.EVENT_ROOM_INFO,u(D);break;case 1050:switch(t.Body.RoomNotify.Type){case 1:app.UserManager().GetUserInfo.room_no=t.Body.RoomNotify.RoomID,(u=this.handlers[o.default.EVENT_CREATE_ROOM])({room_no:t.Body.RoomNotify.RoomID,event_type:o.default.EVENT_CREATE_ROOM});break;case 2:u=this.handlers[o.default.EVENT_JOIN_ROOM],L=t.Body.RoomNotify.Data.Join.Member,u({code:0,room_no:t.Body.RoomNotify.RoomID,seat:L.Seat,uid:L.Uin,uno:L.Uin,nickname:L.Nickname,sex:L.Sex,headimg:L.Imageurl,ready:!!L.IsReady,vote_dissolve:L.IsVoteDestroyRoom,gold:L.Cash,online:L.Online,ip:L.ClientIP,event_type:o.default.EVENT_JOIN_ROOM});break;case 3:(u=this.handlers[o.default.EVENT_LEAVE_ROOM])({code:0,uid:t.Body.RoomNotify.Data.NotifyInfo.Uin,uno:t.Body.RoomNotify.Data.NotifyInfo.Uin,event_type:o.default.EVENT_LEAVE_ROOM});break;case 5:case 6:break;case 7:(u=this.handlers[o.default.EVENT_READY])({code:0,uid:t.Body.RoomNotify.Data.NotifyInfo.Uin,uno:t.Body.RoomNotify.Data.NotifyInfo.Uin,ready:!!t.Body.RoomNotify.Data.NotifyInfo.Data,event_type:o.default.EVENT_READY});break;case 8:u=this.handlers[o.default.EVENT_FACE],t.event_type=o.default.EVENT_FACE,u(t);break;case 9:(u=this.handlers[o.default.EVENT_VOTE_DISSOVLE_ROOM])({code:0,uid:t.Body.RoomNotify.Data.ReqDestroy.Uin,uno:t.Body.RoomNotify.Data.ReqDestroy.Uin,agree:t.Body.RoomNotify.Data.ReqDestroy.Data,wait_time:t.Body.RoomNotify.Data.ReqDestroy.LeftSeconds,create_uid:t.Body.RoomNotify.Data.ReqDestroy.Uin,create_uno:t.Body.RoomNotify.Data.ReqDestroy.Uin,event_type:o.default.EVENT_VOTE_DISSOVLE_ROOM});break;case 10:(u=this.handlers[o.default.EVENT_DISSOVLE_ROOM])({data:t.Body.RoomNotify.Data.NotifyInfo,room_no:t.Body.RoomNotify.RoomID,event_type:o.default.EVENT_DISSOVLE_ROOM});break;case 11:break;case 12:u=this.handlers[o.default.EVENT_ROUND_READY],0==t.Body.RoomNotify.Eno?u({code:0,room_no:t.Body.RoomNotify.RoomID,data:t.Body.RoomNotify.Data.NotifyInfo,event_type:o.default.EVENT_ROUND_READY}):cc.log("error number = "+t.Body.RoomNotify.Eno);break;case 13:u=this.handlers[o.default.EVENT_ONLINE_STATE],t.event_type=o.default.EVENT_ONLINE_STATE,u(t);break;case 14:u=this.handlers[o.default.EVENT_ROOM_RECYCLE],t.event_type=o.default.EVENT_ROOM_RECYCLE,u(t);break;case 21:u=this.handlers[o.default.EVENT_MATCH_COUNTDOWN],t.event_type=o.default.EVENT_MATCH_COUNTDOWN,u(t)}break;case 1060:u=this.handlers[o.default.EVENT_ROOM_START_GAME],t.event_type=o.default.EVENT_ROOM_START_GAME,u(t);break;case 1061:u=this.handlers[o.default.EVENT_ROOM_END_GAME],t.event_type=o.default.EVENT_ROOM_END_GAME,u(t);break;case 1071:if(t.Body.GameJsonPkg.RoomID!=app.UserManager().GetUserInfo.room_no)break;var A=JSON.parse(t.Body.GameJsonPkg.JsonContent);u=this.handlers[o.default.EVENT_GAME_MESSAGE],A.event_type=o.default.EVENT_GAME_MESSAGE,u(A);break;case 1100:t.Body.Tick.NeedReply?t=new v({Cmd:1100,Uin:this.uid},{Tick:{Time:t.Body.Tick.Time,NeedReply:0}}):this.ResetHeartbeat();break;case 1006:(0,this.handlers[o.default.EVENT_LOGOUT])({code:t.Body.RspLogout.Eno});break;case 2e3:app.ExternGameManager().OnWebSocketGameProgress(t.Body);break;case 1082:case 1084:case 1088:case 1089:case 1090:app.Client.OnEvent("ModalLayer",p.EventWaitType.ReceiveNet);var P=g.get(t.Head.Cmd),B=this.getHandler(P);1090==t.Head.Cmd&&t.Body.HallNotify&&20==t.Body.HallNotify.Type&&(app.UserManager().GetUserInfo.room_no=0,app.GameManager().enterSceneByRoomMode(c.RoomMode.HALL,function(){app.SysNotifyManager().ShowToast("UI.System_7")}));var U=t.Body[P];U.event_type=P,B(U)}},t.prototype.OnError=function(e){this.ErrLog("OnError:",e)},t.prototype.OnClose=function(e){this.SysLog("OnClose:",e),this.onWebSocketClose()},t.prototype.ResetHeartbeat=function(){var e=this;d&&(clearTimeout(d),d=null),u&&clearTimeout(u),u=setTimeout(function(){u=null,e.send("game_ping"),h=Date.now()+2e4,d=setTimeout(function t(){var n=h-Date.now();n>100?d=setTimeout(t,n):e.TickTimeOut()},2e4)},1e4)},t.prototype.getHandler=function(e){return this.handlers[e]||function(t){cc.log(e,t),cc.systemEvent.emit(e,t)}},t.prototype.send=function(e,t,n){if(null!=this.socket&&this.connected){var o;this.lastSendTime=Date.now(),this.heartBeatFlag=!0,this.ResetHeartbeat();var i=_[e];if(!i)return void cc.error("\u672a\u627e\u5230\u6d88\u606f"+e+"\u5b9a\u4e49");switch(t||(t={}),t.uid||(t.uid=this.uid),e){case _.req_login.key:o=f(t.uid,i,{ClientVersion:100,CSProtoVer:1,Token:t.token});break;case _.req_myinfo.key:case _.req_list_line.key:o=f(t.uid,i,{Res:0});break;case _.req_choose_line.key:case _.req_logout_line.key:o=f(t.uid,i,{LineID:this.curr_lineID});break;case _.req_create_room.key:o=f(t.uid,i,{RoomID:0,RoomAccId:0,LineID:this.curr_lineID,RoomMode:t.gid,StartMode:t.StartMode,CardType:t.settle_type,RoomType:t.RoomType,MaxMemberCount:t.pnum_type,MaxRoundCount:t.rounds_type,GameSettings:t.GameSettings});break;case _.req_join_room.key:o=f(t.uid,i,{RoomID:t.room_no,RoomType:t.RoomType});break;case _.req_roominfo.key:case _.req_leave_room.key:case _.ReqStartGame.key:o=f(t.uid,i,{RoomID:app.UserManager().GetUserInfo.room_no});break;case _.req_vote_dissolve_room.key:o=f(t.uid,i,{RoomID:app.UserManager().GetUserInfo.room_no,Operation:5,Target:0,Data:t.agree?1:-1});break;case _.req_ready.key:o=f(t.uid,i,{RoomID:app.UserManager().GetUserInfo.room_no,Operation:2,Target:0,Data:Number(t.ready)});break;case _.req_round_ready.key:o=f(t.uid,i,{RoomID:app.UserManager().GetUserInfo.room_no,Operation:6,Target:0,Data:1});break;case _.req_start.key:o=f(t.uid,i,{RoomID:app.UserManager().GetUserInfo.room_no,Owner:0});break;case _.req_start_round.key:o=f(t.uid,i,{Uin:0,Line:0,Operation:6,Data:1,RoomSettings:0});break;case _.PlayCards.key:o=f(t.uid,i,null,{SpecialPatternID:t.SpecialPatternID,SpecialCards:t.SpecialCards,HeadCards:t.HeadCards,MiddleCards:t.MiddleCards,LastCards:t.LastCards});break;case _.GMSetDeck.key:o=f(t.uid,i,null,{CardCount:26,Cards:[60,5,37,27,23,6,22,36,65,30,62,19,35,61,11,57,40,7,55,20,52,12,28,38,2,34]});break;case _.reconnGame.key:1==app.UserManager().GetUserInfo.roomMode?i.sub_code=2:5==app.UserManager().GetUserInfo.roomMode&&(i.sub_code=35),o=f(t.uid,i,null,{Res:0});break;case _.CompeteBanker.key:o=f(t.uid,i,null,{CompeteGold:t.CompeteGold,Compete:t.Compete});break;case _.Bet.key:o=f(t.uid,i,null,{BetSeat:t.BetSeat,BetGold:t.BetGold,BetPlayerID:t.BetPlayerID,BetMulti:t.BetMulti});break;case _.DealCards.key:o=f(t.uid,i,null,t);break;case _.Discard.key:case _.Follow.key:case _.Pass.key:case _.trustee.key:o=f(t.uid,i,null,t);break;case _.req_join_hall.key:case _.req_leave_hall.key:case _.req_hall_info.key:o=f(t.uid,i,{HallId:t.hall_id});break;case _.game_ping.key:o=f(t.uid,i,{Time:Date.now(),NeedReply:1});break;case _.req_match_room.key:o=f(t.uid,i,{LineID:null==t.LineID?this.curr_lineID:t.LineID,RoomMode:t.RoomMode,Rematch:null==t.Rematch?0:t.Rematch,GameSettings:t.GameSettings});break;case _.Lock.key:case _.Fire.key:case _.SwitchFire.key:case _.HitFish.key:o=f(t.uid,i,null,t);break;case _.PlayerCard.key:case _.DummyPlay.key:o=f(t.uid,i,null,{PlayerID:t.uid,PatternID:t.PatternID,CardCount:0,Cards:0})}this.sendPacket(o,n)}else this.ErrLog("socket is not connected.")},t.prototype.sendPacket=function(e,t){if(null!=this.socket&&this.connected){var n=JSON.stringify(e),o=pako?pako.deflate(n,{}):n;isgoServer&&(o=n),1100!=e.Head.Cmd&&this.SysLog("SendMessage: ",n,"b-g"),t&&app.Client.OnEvent("ModalLayer",p.EventWaitType.OpenNet),this.socket.send(o)}else app.Client.OnEvent(a.GameEventDefine.GAME_SERVER_UNCONNECTED)},t.prototype.sendGamePacket=function(e,t){var n={Head:{Cmd:e,Uin:this.uid},Body:t},o=JSON.stringify(n),i={GameJsonPkg:{RoomID:app.UserManager().GetUserInfo.room_no,JsonContent:o}},a=new v({Cmd:1071,Uin:this.uid},i);this.sendPacket(a)},t.prototype.onWebSocketClose=function(){this.SysLog("onWebSocketClose"),this.needSendEvent&&cc.systemEvent.emit(o.default.EVENT_DISCONNECT),app.HallMessageCenter().stopMonitorEvent(),app.RoomMessageCenter().stopMonitorEvent(),this.Close(),this.needConnect&&this.Reconnect()},t.prototype.closeNeedntConnect=function(){this.needConnect=!1,this.Close()},t.prototype.TickTimeOut=function(){this.SysLog("TickTimeOut"),this.needConnect=!0,this.onWebSocketClose()},t.prototype.Reconnect=function(){var e=this;this.needSendEvent=!1,Date.now()-this.connectTime>=4e3?this.connect(this.url):setTimeout(function(){e.connect(e.url)},4e3)},t.prototype.onIosOffLine=function(){this.Close()},t.prototype.Close=function(){if(this.socket){this.IsLoginSuccess=!1,this.connected=!1,this.isConnecting=!1,this.delayMS=0,this.heartBeatFlag=!1,u&&(clearTimeout(u),u=null),d&&(clearTimeout(d),d=null),this.socket.onopen=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onmessage=null;try{this.socket.close(),this.SysLog("\u8fde\u63a5\u65ad\u5f00:%s",this.url,"w-g")}catch(e){this.ErrLog("\u5173\u95ed\u7f51\u7edc\u94fe\u63a5\u9519\u8bef: message:%s stack:%s",e.message)}this.socket=null}},Object.defineProperty(t.prototype,"GetLoginSuccess",{get:function(){return this.IsLoginSuccess},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetDelayMS",{get:function(){return this.delayMS>100||0==this.delayMS?1:0},enumerable:!1,configurable:!0}),t}(r.Singleton);n.GameServerManager=E,t.exports=n,cc._RF.pop()},{"../../script/common/error_define":"error_define","../../script/common/room_mode_tool":"room_mode_tool","../Base/Singleton":"Singleton","../Define/EventWaitType":"EventWaitType","../Define/GameEventDefine":"GameEventDefine","../Define/ShareDefine":"ShareDefine","../Lib/jsonBigint/JsonBigint":"JsonBigint","./MsgEventDefine":"MsgEventDefine"}],GameTypeManager:[function(e,t){"use strict";cc._RF.push(t,"b60dfDHag1DQrTl6dTrysge","GameTypeManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GameTypeManager=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelectToggleIdx=-1,t.RecentColumCount=1,t.MaxHistoryGame=8,t.MaxPageCount=2,t.DataChange=!1,t.TypeSelectCount=new Map,t.LoadTime=0,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GameTypeManager",this.Log("Init")},t.prototype.OnReload=function(){this.DataChange=!0},Object.defineProperty(t.prototype,"GetColumCount",{get:function(){return app.ComTool().H5Platform()?3:6},enumerable:!1,configurable:!0}),t.prototype.SetRecentColumCount=function(e){this.RecentColumCount=e},Object.defineProperty(t.prototype,"GetRecentColumCount",{get:function(){return this.RecentColumCount},enumerable:!1,configurable:!0}),t.prototype.SetMaxHistoryGame=function(e){this.MaxHistoryGame=e},Object.defineProperty(t.prototype,"GetMaxPageCount",{get:function(){return this.MaxPageCount},enumerable:!1,configurable:!0}),t.prototype.SetTypeSelectCount=function(e){var t=this.GetSelectToggleIdx.toString();this.TypeSelectCount.set(t,e)},t.prototype.GetTypeSelectCount=function(){var e=this.GetSelectToggleIdx.toString();return this.TypeSelectCount.get(e)},t.prototype.SetSelectToggleIdx=function(e){this.SelectToggleIdx=e},Object.defineProperty(t.prototype,"GetSelectToggleIdx",{get:function(){return this.SelectToggleIdx},enumerable:!1,configurable:!0}),t.prototype.AddGameListItem=function(e,t){var n=this;(function(t){var o=t.sub_game_list;if(o&&o.length>0)o.forEach(function(t){e.push({gid:t.gid,sub_gid:t.sub_gid,url:t.fury_icon,name:t.game_name,game_des:t.game_des,game_onlineUsers:t.game_onlineUsers})});else{var i=app.HGameManager().GetCountryGameLogo(t.gid);i?e.push({gid:t.gid,url:i,name:t.game_name,game_des:t.game_des,game_onlineUsers:t.game_onlineUsers}):n.ErrLog("GetGameTypeList: "+t.gid)}})(t)},t.prototype.GetGameTypeList=function(e,t){var n=this,o=[],i=function(e){var t=app.GameConfigManager().GetGameConfig().game_type[e];t?(app.GameListManager().clearGameShowMap(),t.has_child?t.child_list.forEach(function(t,n){o.push({pIdx:e,name:t.type_name,cIdx:n,url:t.icon_on||t.icon})}):t.game_list.forEach(function(e){app.UserManager().GetUserInfoConfig.game_arr.InArray(e.gid)&&n.AddGameListItem(o,e)})):n.ErrLog("GetGameTypeList failed: "+e)};return e<0?app.GameConfigManager().GetGameConfig().game_type.forEach(function(e,t){i(t)}):i(e),t?o.filter(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1}):o},t.prototype.GetGameTypeList_2=function(e){var t=this,n=[],o=app.GameConfigManager().GetGameConfig().game_type[e];if(o)return o.has_child?o.child_list.forEach(function(t,o){n.push({pIdx:e,name:t.type_name,cIdx:o,url:t.icon_on||t.icon})}):o.game_list.forEach(function(e){app.UserManager().GetUserInfoConfig.game_arr.InArray(e.gid)&&t.AddGameListItem(n,e)}),n;this.ErrLog("GetGameTypeList failed: "+e)},t.prototype.GetChildList=function(e,t){var n=this,o=app.GameConfigManager().GetGameConfig().game_type[e];if(!o)return null;var i=o.child_list[t];if(!i)return null;var a=[];return i.game_list.forEach(function(e){app.UserManager().GetUserInfoConfig.game_arr.InArray(e.gid)&&n.AddGameListItem(a,e)}),a},t.prototype.GetExternGameChildList=function(e){if(!app.ExternGameManager().IsExternGame(e))return null;var t=app.GameConfigManager().GetGameChildLisItem(e);if(!t)return null;var n={list:[],name:null};return n.name=t.name,app.UserManager().GetUserInfoConfig.game_arr.InArray(e)&&this.AddGameListItem(n.list,t.HGame),n},t.prototype.GetRecommendTypeGameList=function(){var e=this,t=[],n=function(n){var o=app.GameConfigManager().GetGameConfig().game_type[n];if(o)for(var i=function(n,o){for(var i=0;i<t.length;i++){var a=t[i];if(a.sub_gid){if(a.sub_gid==o&&a.gid==n.gid)return}else if(a.gid==n.gid)return}var r=n.sub_game_list;if(r&&r.length>0)r.forEach(function(e){e.sub_gid==o&&t.push({gid:e.gid,sub_gid:e.sub_gid,url:e.fury_icon,name:e.game_name,game_des:e.game_des,game_onlineUsers:e.game_onlineUsers})});else{var s=app.HGameManager().GetCountryGameLogo(n.gid);s?t.push({gid:n.gid,url:s,name:n.game_name,game_des:n.game_des,game_onlineUsers:n.game_onlineUsers}):e.ErrLog("GetRecommendTypeGameList: "+n.gid)}},a=app.GameConfigManager().GetRecommendedGameList(),r=function(e){o.game_list.forEach(function(t){t.gid==a[e].gid&&app.UserManager().GetUserInfoConfig.game_arr.InArray(t.gid)&&i(t,a[e].sub_gid)})},s=0;s<a.length;s++)r(s);else e.ErrLog("GetRecommendTypeGameList failed: "+n)};return app.GameConfigManager().GetGameConfig().game_type.forEach(function(e,t){n(t)}),t},t.prototype.GetGameBonesUrlByGid=function(e){var t=app.GameConfigManager().GetGameInfoByGid(e);return t?t.longgu_url:""},t.prototype.GetOtherFactoryGame=function(e){var t,n,o=this,i=[];return t=e,(n=app.GameConfigManager().GetOtherGameFactory(t))&&n.game?n.game.forEach(function(e){if(e.sub_gid){var t=app.GameConfigManager().GetOtherGameList(e.gid,e.sub_gid);t?i.push({gid:e.gid,sub_gid:e.sub_gid,name:t.name_en,url:t.fury_icon}):o.ErrLog("GetOtherGameList failed: "+e.gid)}else{var n=app.GameConfigManager().GetGameListItem(e.gid);n?i.push({gid:e.gid,name:n.game_name,game_des:n.game_des,game_onlineUsers:n.game_onlineUsers}):o.ErrLog("GetGameList failed: "+e.gid)}}):o.ErrLog("gameTypeInfo.game failed: "+t),i},t.prototype.SetFavoriteGame=function(e,t){var n;if(this.DataChange=!0,isgoServer)for(var o=!1,i=(n=this.GetFavoriteGameArray()).length-1;i>=0;i--)(a=n[i]).subID==t&&(this.DelFavoriteGame(a),n.splice(i,1),o=!0);else for(o=!1,i=(n=this.GetFavoriteGameArray()).length-1;i>=0;i--){var a=n[i];t?a.gid==e&&a.subID==t&&(this.DelFavoriteGame(a),n.splice(i,1),o=!0):a.gid==e&&(this.DelFavoriteGame(a),n.splice(i,1),o=!0)}!o&&n.unshift({gid:e,subID:t}),n.length>this.MaxHistoryGame&&(n.length=this.MaxHistoryGame),app.LocalDataManager().SetConfigObject("NewFavoriteGame",n)},t.prototype.GetFavoriteGameArray=function(){var e=app.LocalDataManager().GetConfigObject("NewFavoriteGame")||[],t=app.LocalDataManager().GetConfigObject("FavoriteGame");t&&(Array.isArray(t)&&t.forEach(function(t){var n=Number(t),o=65535&n,i=n>>16;e.push({gid:i,subID:o})}),app.LocalDataManager().Remove("FavoriteGame"),app.LocalDataManager().SetConfigObject("NewFavoriteGame",e));for(var n=this.GetDelFavoriteGameArray(),o=this.GetUserCollectionArray(),i=o.length-1;i>=0;i--)for(var a=o[i],r=0;r<n.length;r++){var s=n[r];if(a.gid==s.gid&&a.subID==s.subID){o.splice(i,1);break}}for(r=0;r<o.length;r++){var c=o[r];for(i=0;i<e.length;i++){var p=e[i];if(c.gid==p.gid&&c.subID==p.subID)break;i==e.length-1&&e.push({gid:c.gid,subID:c.subID})}0==e.length&&e.push({gid:c.gid,subID:c.subID})}return e},t.prototype.GetUserCollectionArray=function(){for(var e=[],t=app.GameConfigManager().GetGameConfig().game_info,n=0;n<t.length;n++)1===(i=t[n]).is_user_collection&&e.push({gid:i.gid,subID:void 0});var o=app.GameConfigManager().GetGameConfig().other_game;for(n=0;n<o.length;n++)for(var i=o[n],a=0;a<i.gameurl.length;a++){var r=i.gameurl[a];1==r.is_user_collection&&e.push({gid:r.gid,subID:r.gameid})}return e},t.prototype.GetDelFavoriteGameArray=function(){return app.LocalDataManager().GetConfigObject("DelFavoriteGame")||[]},t.prototype.DelFavoriteGame=function(e){for(var t=this.GetDelFavoriteGameArray(),n=0;n<t.length;n++){var o=t[n];if(o.gid==e.gid&&o.subID==e.subID)return}t.push(e),app.LocalDataManager().SetConfigObject("DelFavoriteGame",t)},t.prototype.IsFavoriteGame=function(e,t){if(isgoServer){for(var n=this.GetFavoriteGameBuffer(),o=0;o<n.length;o++)if((i=n[o]).sub_gid==t)return!0}else for(n=this.GetFavoriteGameBuffer(),o=0;o<n.length;o++){var i;if((i=n[o]).gid==e&&i.sub_gid==t)return!0}return!1},t.prototype.GetFavoriteGameBuffer=function(){return this.DataChange&&(this.DataBuffer=this.GetFavoriteGame(),this.DataChange=!1),this.DataBuffer||(this.DataBuffer=this.GetFavoriteGame()),this.DataBuffer},t.prototype.GetFavoriteGame=function(){var e=this.GetFavoriteGameArray();return this.GetGameList(e)},t.prototype.GetGameList=function(e){var t=this,n=[];return e.forEach(function(e){var o=e.gid,i=e.subID,a=app.GameConfigManager().GetGameListItem(o);if(a){if(app.UserManager().GetUserInfoConfig.game_arr.InArray(o)){var r=app.GameConfigManager().GetSubGameListItem(o,i);if(r)n.push({gid:r.gid,sub_gid:r.sub_gid,url:r.fury_icon,name:r.game_name,game_des:r.game_des,game_onlineUsers:r.game_onlineUsers});else if(!i){var s=app.HGameManager().GetCountryGameLogo(a.gid);if(s){var c=!1;app.GameConfigManager().GetGameConfig().game_type.forEach(function(e,o){if(!c)if(e.has_child)for(var i=0;i<e.child_list.length;i++){var r=e.child_list[i];if(r.game_list)for(var p=0;p<r.game_list.length;p++)if(r.game_list[p].gid==a.gid){c=!0,n.push({pIdx:o,name:r.type_name,cIdx:i,url:s});break}if(c)break}else{var l=app.HGameManager().GetCountryGameLogo(a.gid);l?(c=!0,n.push({gid:a.gid,url:l,name:a.game_name,game_des:a.game_des,game_onlineUsers:a.game_onlineUsers})):t.ErrLog("GetGameTypeList: "+a.gid)}})}else t.ErrLog("GetGameList error: "+a.gid)}}}else t.WarnLog("GetGameListItem failed: "+o+", maybe game is closed")}),n},t.prototype.SetHistoryGame=function(e,t){var n;if(void 0===t&&(t=0),isgoServer)for(var o=(n=this.GetHistoryGameArray()).length-1;o>=0;o--)(i=n[o]).subID==t&&n.splice(o,1);else for(o=(n=this.GetHistoryGameArray()).length-1;o>=0;o--){var i;if((i=n[o]).gid==e&&i.subID==t){n.splice(o,1);break}}n.unshift({gid:e,subID:t}),n.length>this.MaxHistoryGame&&(n.length=this.MaxHistoryGame),app.LocalDataManager().SetConfigObject("NewHistoryGame",n)},t.prototype.GetHistoryGameArray=function(){var e=app.LocalDataManager().GetConfigObject("NewHistoryGame")||[],t=app.LocalDataManager().GetConfigObject("HistoryGame");return t&&(t.forEach(function(t){var n=Number(t),o=65535&n,i=n>>16;e.push({gid:i,subID:o})}),app.LocalDataManager().Remove("HistoryGame"),app.LocalDataManager().SetConfigObject("NewHistoryGame",e)),e.length>this.MaxHistoryGame&&(e.length=this.MaxHistoryGame),e},t.prototype.GetHistoryGame=function(){var e=this.GetHistoryGameArray();return this.GetGameList(e)},t}(e("../../Base/Singleton").Singleton);n.GameTypeManager=o,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton"}],Global:[function(e,t){"use strict";cc._RF.push(t,"cc429wC8MRDApfnmjHEXHCa","Global");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.gs_time_diff=0}return e.prototype.get_gs_time=function(){return Math.round(Date.now()/1e3)+this.gs_time_diff},e.prototype.getRoomController=function(){return this.roomController},e.prototype.setRoomController=function(e){this.roomController=e},e.prototype.getTableController=function(){return this.tableController},e.prototype.setTableController=function(e){this.tableController=e},e.prototype.getRoomMsgController=function(){return this.roomMsgController},e.prototype.setRoomMsgController=function(e){this.roomMsgController=e},e.prototype.getGameMsgController=function(){return this.gameMsgController},e.prototype.setGameMsgController=function(e){this.gameMsgController=e},e.prototype.getRoomModel=function(){return this.roomModel},e.prototype.setRoomModel=function(e){this.roomModel=e},e.prototype.getTableModel=function(){return this.tableModel},e.prototype.setTableModel=function(e){this.tableModel=e},e.prototype.getMegHandleBase=function(){return this.MegHandleBase},e.prototype.setMegHandleBase=function(e){this.MegHandleBase=e},e.prototype.setReconnectGameTime=function(){this.reconnectGameTime=Date.now()/1e3},e.prototype.getReconnectGameTime=function(){return this.reconnectGameTime},e.prototype.setLoadGameTime=function(){this.loadGameTime=Date.now()/1e3},e.prototype.getLoadGameTime=function(){return this.loadGameTime},e}();n.default=o,t.exports=n,cc._RF.pop()},{}],GoServerManager:[function(e,t){"use strict";cc._RF.push(t,"e808b7ZU3lAw6Z6G8Cf9Kcp","GoServerManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GoServerManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=window.Protocol||{},r=a.Package,s=a.Message,c={sys:{type:"js-websocket",version:"0.0.1",rsa:{}},user:{}},p=0,l=0,h=0,d=null,u=null,_=0,m={},g={},f={},y=function(e){function t(){var t=e.call(this)||this;return t.isConnecting=!1,t.connected=!1,t.Emitter=new app.emitter,t.JS_Name="GoServerManager",t.SysLog("Init"),t.RegisterEventHandler(),t}return __extends(t,e),t.prototype.RegisterEventHandler=function(){m[r.TYPE_HANDSHAKE]=this.OnHandshake.bind(this),m[r.TYPE_HEARTBEAT]=this.OnHeartBeat.bind(this),m[r.TYPE_DATA]=this.OnData.bind(this),m[r.TYPE_KICK]=this.OnKick.bind(this)},t.prototype.Connect=function(e){isgoServer||(this.SysLog("connect: "+e),this.isConnecting||(this.Close(),this.url=e,this.needConnect=!0,this.isConnecting=!0,this.connectTime=Date.now(),this.connectCount++,3==this.connectCount&&(this.connectCount=0),this.socket=new WebSocket(e),this.socket.binaryType="arraybuffer",this.socket.onopen=this.OnOpen.bind(this),this.socket.onmessage=this.OnMessage.bind(this),this.socket.onerror=this.OnError.bind(this),this.socket.onclose=this.OnClose.bind(this)))},t.prototype.OnOpen=function(){isgoServer||(this.SysLog("ws connected"),this.connected=!0,this.connectCount=0,this.isConnecting=!1,_=0,this.SendHandshake())},t.prototype.OnMessage=function(e){try{var t=r.decode(e.data);Array.isArray(t)?t.forEach(function(e){m[e.type](e.body)}):m[t.type](t.body)}catch(n){this.ErrLog(n.stack)}l&&(h=Date.now()+l)},t.prototype.OnData=function(e){var t=s.decode(e);if(t.type===s.TYPE_RESPONSE&&t.id>0&&(t.route=g[t.id],delete g[t.id],!t.route))this.ErrLog("OnData error: "+t.id);else if(t.route){var n=JSON.parse(a.strdecode(t.body));this.IsDevelopment()&&this.NetLog("OnData",t.route,JSON.parse(JSON.stringify(n)),"b-gb1"),this.Emitter.emit(t.route,n,f[t.id]),delete f[t.id]}else this.ErrLog("OnData error: route is null")},t.prototype.OnError=function(e){this.ErrLog("OnError:",e)},t.prototype.OnClose=function(e){this.SysLog("OnClose:",e),this.onWebSocketClose()},t.prototype.SendHandshake=function(){var e=r.encode(r.TYPE_HANDSHAKE,a.strencode(JSON.stringify(c)));this.Send(e)},t.prototype.OnHandshake=function(e){var t=JSON.parse(a.strdecode(e));501!==t.code?200===t.code?(function(e){e.sys&&e.sys.heartbeat?(p=1e3*e.sys.heartbeat,l=2*p):(p=0,l=0)}(t),this.OnHeartBeat(),this.Send(r.encode(r.TYPE_HANDSHAKE_ACK)),this.SysLog("handshake success"),app.Client.OnEvent(i.GameEventDefine.GO_GAME_SERVER_CONNECTED)):this.ErrLog("handshake fail"):this.ErrLog("client version not fullfill")},t.prototype.OnHeartBeat=function(){var e=this;if(p){var t=r.encode(r.TYPE_HEARTBEAT);d&&(clearTimeout(d),d=null),u||(u=setTimeout(function(){u=null,e.SysLog("Send HeartBeat"),e.Send(t),h=Date.now()+l,d=setTimeout(function t(){var n=h-Date.now();n>100?d=setTimeout(t,n):(e.SysLog("HeartBeatTimeOut"),e.needConnect=!0,e.onWebSocketClose())},l)},p))}},t.prototype.OnKick=function(e){var t=JSON.parse(a.strdecode(e));this.NetLog("OnData",t),this.needConnect=!1},t.prototype.SendMessage=function(e,t){_++,this.IsDevelopment()&&this.SysLog("SendData","reqId:"+_,e,t,"b-g");var n=s.encode(_,s.TYPE_REQUEST,0,e,a.strencode(JSON.stringify(t))),o=r.encode(r.TYPE_DATA,n);this.Send(o),g[_]=e,f[_]=t},t.prototype.Send=function(e){this.socket&&this.connected&&this.socket.send(e.buffer)},t.prototype.RegisterMsgHandler=function(e,t,n){"string"==typeof e?t&&n?this.Emitter.on(e,t,n):this.ErrLog("RegisterMsgHandler :%s error",e):this.ErrLog("RegisterMsgHandler need String head")},t.prototype.UnregisterMsgHandler=function(e,t,n){"string"==typeof e?t?this.Emitter.off(e,t,n):this.ErrLog("UnregisterHandler head:%s error",e):this.ErrLog("UnregisterHandler need String head")},t.prototype.onWebSocketClose=function(){this.SysLog("onWebSocketClose"),this.Close(),this.needConnect&&this.Reconnect()},t.prototype.CloseConnect=function(){this.needConnect=!1,this.Close()},t.prototype.Reconnect=function(){var e=this;Date.now()-this.connectTime>=4e3?this.Connect(this.url):setTimeout(function(){e.Connect(e.url)},4e3)},t.prototype.Close=function(){if(this.socket){this.connected=!1,this.isConnecting=!1,u&&(clearTimeout(u),u=null),d&&(clearTimeout(d),d=null),this.socket.onopen=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onmessage=null;try{this.socket.close(),this.SysLog("\u8fde\u63a5\u65ad\u5f00:%s",this.url,"w-g")}catch(e){this.ErrLog("\u5173\u95ed\u7f51\u7edc\u94fe\u63a5\u9519\u8bef: message:%s stack:%s",e.message)}this.socket=null}},t.prototype.SetServerTimeOffset=function(e){this.serverTimeOffset=e},Object.defineProperty(t.prototype,"GetServerTime",{get:function(){return Math.floor(Date.now()/1e3)+this.serverTimeOffset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetServerTimeString",{get:function(){return void 0===this.serverTimeOffset?"":new Date(1e3*this.GetServerTime).format("yyyy-MM-dd hh:mm:ss")},enumerable:!1,configurable:!0}),t}(o.Singleton);n.GoServerManager=y,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],GoldRewardManager:[function(e,t){"use strict";cc._RF.push(t,"6c1b0hO7T1Gx7wLbzYlS3dq","GoldRewardManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GoldRewardManager=void 0;var o=e("../../Base/Singleton"),i=e("../../Define/GameEventDefine"),a=e("../../Define/UINameDefine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GoldReward=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GoldRewardManager",this.Log("Init")},t.prototype.FormGoldReward=function(e){this.GoldReward=e,isNaN(e.gold)?this.WarnLog("FormGoldReward fail! data==>>"+JSON.stringify(e)):app.FormManager().ShowForm(a.UINameDefine.UIGoldReward,e)},t.prototype.onEndCbType=function(){"gold_collection_tips"!=this.GoldReward.type||app.UserManager().RequestUserInfo({token:app.UserManager().GetUserInfo.token})},t.prototype.onEndCbSendType=function(){1!=this.GoldReward.send_type?10!=this.GoldReward.send_type?11!=this.GoldReward.send_type||app.BetBonusManager().RequestCleanBetHistoryList(10):app.Client.OnEvent(i.GameEventDefine.RECHARGE_BONUS):app.FormManager().ShowForm(a.UINameDefine.UIBonuses)},t}(o.Singleton);n.GoldRewardManager=r,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/UINameDefine":"UINameDefine"}],GoogleAnalyticsManager:[function(e,t){"use strict";cc._RF.push(t,"d20139GR4VJZI0Sn1b8O7iq","GoogleAnalyticsManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleAnalyticsManager=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GoogleAnalyticsManager",this.Log("Init")},Object.defineProperty(t.prototype,"EnableEvent",{get:function(){return"undefined"!=typeof gtag},enumerable:!1,configurable:!0}),t.prototype.LogEvent=function(e){this.EnableEvent?gtag("event",e):this.WarnLog("LogEvent failed")},t}(e("../Base/Singleton").Singleton);n.GoogleAnalyticsManager=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],GoogleLoginManager:[function(e,t){"use strict";cc._RF.push(t,"51ace1TLTdJIZpnqQUaOpGI","GoogleLoginManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleLoginManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.IsInitEnd=!1,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GoogleLoginManager",app.ClientConfigManager().GetGlobalConfig.GoogleClientID&&(this.IsStartUsing=!0)},t.prototype.WebGoogleLoginInit=function(){var e=this;if(this.checkGoogleObject()&&this.IsStartUsing&&!this.IsInitEnd){google.accounts.id.initialize({client_id:app.ClientConfigManager().GetGlobalConfig.GoogleClientID,callback:function(t){var n=t.credential.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=JSON.parse(window.atob(n)),a=o.name,r=o.sub,s=o.picture,c=o.email,p=t.credential;app.Client.OnEvent(i.GameEventDefine.GOOGLE_LOGIN_SUCCESS,{nickname:a,third_token:r,headimg:s,login_type:5,third_account:c,third_jwt:p}),e.Log("googleData",o)}});var t=document.createElement("div");t.id="GooglebBtnDiv",t.style.display="none",document.body.appendChild(t);var n=document.createElement("div");n.id="googlediv",n.style.left="50%",n.style.top="55%",n.style.position="absolute",n.style.zIndex="888",n.style.transform="translate(-50%,-50%)",t.appendChild(n);var o=document.createElement("div");o.id="layer",o.style.position="absolute",o.style.width="331.7px",o.style.height="198.7px",o.style.left="50%",o.style.top="50%",o.style.transform="translate(-50%,-50%)",o.style.display="flex",o.style.flexDirection="column",t.appendChild(o);var a=document.createElement("img");a.id="bg",a.src="externGame/bg_layer.png",a.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.top="0px",a.style.left="0px",o.appendChild(a);var r=document.createElement("div");r.id="tit",r.innerText=app.i18n.t("UI.Tips"),r.style.position="absolute",r.style.left="50%",r.style.top="10%",r.style.transform="translate(-50%,-50%)",r.style.color="#FFE536",r.style.fontSize="20px",o.appendChild(r);var s=document.createElement("div");s.id="text_tips",s.style.position="absolute",s.style.top="30%",s.style.alignSelf="center",s.style.color="#ffffff",s.style.fontSize="18px",s.style.maxWidth="300px",s.style.wordBreak="break-word",s.style.textAlign="center",o.appendChild(s);var c=document.createElement("button");c.id="btn_enter Cancel",c.style.position="absolute",c.style.width="15%",c.style.height="15%",c.style.left="80%",c.style.top="5%",c.style.border="none",c.style.backgroundColor="transparent",c.addEventListener("click",this.hideTips.bind(this)),o.appendChild(c);var p=document.createElement("img");p.id="btnCancelBg",p.src="externGame/btn_bg2.png",p.style.position="absolute",p.style.width="100%",p.style.height="100%",p.style.left="0px",p.style.top="0px",c.appendChild(p);var l=document.createElement("div");l.id="btnCancel_txt",l.style.position="absolute",l.style.left="50%",l.style.top="50%",l.style.fontSize="18px",l.style.color="#FFDADA",l.style.transform="translate(-50%,-50%)",c.appendChild(l),google.accounts.id.renderButton(document.getElementById("googlediv"),{theme:"outline",size:"large"}),this.onRefreshLabel(),this.IsInitEnd=!0}},t.prototype.hideTips=function(){app.NativeMgr().openInternalWindow(!1);var e=document.getElementById("GooglebBtnDiv");e&&(e.style.display="none")},t.prototype.showTips=function(){app.NativeMgr().openInternalWindow(!0),this.IsInitEnd||(this.WebGoogleLoginInit(),this.ErrLog("GoogleInit Faild"));var e=document.getElementById("GooglebBtnDiv");e&&(e.style.display="block",this.onRefreshLabel())},t.prototype.onRefreshLabel=function(){document.getElementById("tit").innerText=app.i18n.t("UI.Tips"),document.getElementById("text_tips").innerText=app.i18n.t("UI_GoogleLoginHint"),document.getElementById("btnCancel_txt").innerText="X"},t.prototype.checkGoogleObject=function(){return"undefined"!=typeof google||(this.WarnLog("google Object Error"),!1)},t}(o.Singleton);n.GoogleLoginManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],GoogleReCaptChaManager:[function(e,t){"use strict";cc._RF.push(t,"c6d0dYpQW5KgK6o+XncFxRh","GoogleReCaptChaManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleReCaptChaManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DivName="GoogleRecaptDiv",t.Token="",t.IsInit=!1,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GoogleReCaptChaManager",this.Log("GoogleRecaptDiv Init"),this.IsInit=!1},t.prototype.AddRecaptChaDiv=function(){if(this.GetElementDiv()){var e=document.createElement("div");e.id=this.DivName,e.style.display="none",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="887",e.style.background="rgba(0,0,0,0.6)";var t=document.createElement("div");t.id="layer2",t.style.display="block",t.style.left="50%",t.style.top="56%",t.style.position="absolute",t.style.zIndex="888",t.style.transform="translate(-50%,-50%)",e.appendChild(t);var n=document.createElement("div");n.id="layer",n.style.position="absolute",n.style.width="331.7px",n.style.height="198.7px",n.style.left="50%",n.style.top="50%",n.style.transform="translate(-50%,-50%)",n.style.display="flex",n.style.flexDirection="column",e.appendChild(n);var o=document.createElement("img");o.id="bg",o.src="externGame/bg_layer_2.png",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.top="0px",o.style.left="0px",n.appendChild(o);var i=document.createElement("button");i.id="btn_enter Cancel",i.style.position="absolute",i.style.width="15%",i.style.height="15%",i.style.right="0",i.style.top="5%",i.style.border="none",i.style.backgroundColor="transparent",i.addEventListener("click",this.hideDiv.bind(this)),n.appendChild(i);var a=document.createElement("div");a.id="tit1",a.innerText=app.i18n.t("UI.Tips"),a.style.position="absolute",a.style.left="50%",a.style.top="10%",a.style.transform="translate(-50%,-50%)",a.style.color="#333333",a.style.fontSize="20px",n.appendChild(a);var r=document.createElement("div");r.id="text_tips1",r.innerText=app.i18n.t("UI_GoogleReaptCha_Hint"),r.style.position="absolute",r.style.top="30%",r.style.alignSelf="center",r.style.color="#333333",r.style.fontSize="18px",r.style.maxWidth="300px",r.style.wordBreak="break-word",r.style.textAlign="center",n.appendChild(r);var s=document.createElement("img");s.id="btnCancelBg",s.src="externGame/btn_close.png",s.style.width="100%",s.style.left="0px",s.style.top="0px",i.appendChild(s),document.body.appendChild(e)}},t.prototype.InitGoogleGrecaptcha=function(){var e=this;this.checkGoogleGrecaptchaObject()&&(this.IsInit?grecaptcha.reset():(this.IsInit=!0,grecaptcha.render("layer2",{sitekey:app.ClientConfigManager().GetGlobalConfig.GoogleRecaptChaID,theme:"light",callback:function(t){e.Log("InitGoogleGrecaptcha"+t),e.Token=t,setTimeout(function(){e.hideDiv(),app.Client.OnEvent(i.GameEventDefine.GOOGLRECAPTCHAFINISH)},1e3)}})))},Object.defineProperty(t.prototype,"getRecaptcha",{get:function(){return this.Token},enumerable:!1,configurable:!0}),t.prototype.hideDiv=function(){if(this.checkGoogleGrecaptchaObject()){var e=document.getElementById(this.DivName);e&&(e.style.display="none")}},t.prototype.showDiv=function(){if(this.checkGoogleGrecaptchaObject()){this.AddRecaptChaDiv(),this.InitGoogleGrecaptcha();var e=document.getElementById(this.DivName);e?(e.style.display="block",this.onRefreshLabel()):this.ErrLog("showDiv failed==>",this.DivName)}},t.prototype.onRefreshLabel=function(){document.getElementById("tit1").innerText=app.i18n.t("UI.Tips"),document.getElementById("text_tips1").innerText=app.i18n.t("UI_GoogleReaptCha_Hint"),this.Log("GoogleReCaptChaManager refershlabel")},t.prototype.GetElementDiv=function(){return!document.getElementById(this.DivName)},t.prototype.checkGoogleGrecaptchaObject=function(){return"undefined"!=typeof grecaptcha||(this.ErrLog("grecaptcha Object Error"),!1)},t}(o.Singleton);n.GoogleReCaptChaManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],GuideDefine:[function(e,t){"use strict";cc._RF.push(t,"3cf50Rhu2VIopz7aGz6VS1R","GuideDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GuideTypeByNum=n.Guide_Type=void 0,(n.Guide_Type||(n.Guide_Type={})).Guide_withdraw="Guide_withdraw",n.GuideTypeByNum={Guide_withdraw:1},t.exports=n,cc._RF.pop()},{}],GuideManager:[function(e,t){"use strict";cc._RF.push(t,"643f7ymt2xHAJytwUqVBjYN","GuideManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GuideManager=void 0;var o=e("../../../Common/Base/Singleton"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/HttpServerDefine"),r=e("../../../Common/Define/UINameDefine"),s=e("./GuideDefine"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="GuideManager",app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USERGUIDE,this.onRecvGuideData,this),this.RecvGuideList=[],this.b_UpdateNodePos=!0},t.prototype.RequestGuide=function(e,t){if(!t){if(this.getLocalDataGuideData(e))return;if(!app.UserManager().getIsOfficialAccount())return;if(app.GameConfigManager().IsExperienceServer)return}var n={token:app.UserManager().GetUserInfo.token,type:s.GuideTypeByNum[e],status:null};t&&(n.status=t),app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USERGUIDE,n)},t.prototype.CheckGuideByWithDraw=function(){this.RequestGuide(s.Guide_Type.Guide_withdraw)},t.prototype.onRecvGuideData=function(e,t){t.status||(this.RecvGuideData=e,this.RecvGuideList[t.type]=e,this.checkGuideType(t),app.Client.OnEvent(i.GameEventDefine.GET_USERGUIDE,this.RecvGuideData))},t.prototype.setLocalDataGuideData=function(e){app.LocalDataManager().SetConfigProperty(app.UserManager().GetUserInfo.uid+"GuideType","TypeID"+e,"TypeID"+e)},t.prototype.getLocalDataGuideData=function(e){return!!app.LocalDataManager().HaveConfigProperty(app.UserManager().GetUserInfo.uid+"GuideType","TypeID"+e)&&app.LocalDataManager().GetConfigProperty(app.UserManager().GetUserInfo.uid+"GuideType","TypeID"+e)},t.prototype.checkGuideType=function(e){if(e.type==s.GuideTypeByNum[s.Guide_Type.Guide_withdraw]&&app.FormManager().IsFormShow(r.UINameDefine.UIHall))if(1==this.RecvGuideData.need_guide){var t={formName:r.UINameDefine.UIGuide,key:"hall",argumentsList:[{type:s.Guide_Type.Guide_withdraw}]};app.FormManager().EnqueueForm(t)}else 1==this.RecvGuideData.is_guide&&this.setLocalDataGuideData(s.Guide_Type.Guide_withdraw)},t}(o.Singleton);n.GuideManager=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/Singleton":"Singleton","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/HttpServerDefine":"HttpServerDefine","../../../Common/Define/UINameDefine":"UINameDefine","./GuideDefine":"GuideDefine"}],HGameManager:[function(e,t){"use strict";cc._RF.push(t,"94337JyqP5K1723P5RclyWn","HGameManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.HGameManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.CountryGameLogo=null,e.RoomConfig=null,e.RoomConfigList=null,e.RoomBetGoldConfigs=null,e}return __extends(n,t),n.prototype.Init=function(){this.JS_Name="HGameManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.ROOM_CONFIG,this.onRoomConfig,this),app.HttpServerManager().RegNetPack(a.HttpAPI.COUNTRY_GAME_LOGO,this.onCountryGameLogo,this),app.HttpServerManager().RegNetPack(a.HttpAPI.ROOM_BET_GOLD_CONFIGS,this.onRoomBetGoldConfigs,this)},n.prototype.RequestAllInfo=function(){this.RequestCountryGameLogo(),this.RequestRoomBetGoldConfigs()},n.prototype.onRoomConfig=function(e){var t=this;this.RoomConfigList=e,this.RoomConfig={},this.RoomConfigList.forEach(function(e){var n=e.way_id,o=app.RoomManager().GetRoomModeInfoByRoomMode(n);if(o){var i=o.GID,a=t.RoomConfig[i];a?a.push(e):t.RoomConfig[i]=[e]}}),app.Client.OnEvent(i.GameEventDefine.ROOM_LIST)},n.prototype.GetRoomConfig=function(){return this.RoomConfigList},n.prototype.GetRoomConfigByGid=function(e){return this.RoomConfig&&this.RoomConfig[e]},n.prototype.RequestRoomConfig=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.ROOM_CONFIG)},n.prototype.RequestCountryGameLogo=function(){this.onCountryGameLogo([])},n.prototype.onCountryGameLogo=function(e){this.CountryGameLogo=e,app.PlaceholderManager().GameLogoEnd=!0},Object.defineProperty(n.prototype,"GetCountryGameLogoInfo",{get:function(){return this.CountryGameLogo},enumerable:!1,configurable:!0}),n.prototype.GetCountryGameLogo=function(e,t){var n=this.GetGameLogoInfoByGid(e);return n?null==t?n.fury_pic_url:2==t||3==t?app.ComTool().H5Platform()?n.fury_pic_phone_url:n.fury_pic_pc_url:n.fury_pic_url:null},n.prototype.GetGameLogoInfoByGid=function(e){if(this.CountryGameLogo)for(var t=0;t<this.CountryGameLogo.length;t++)if(this.CountryGameLogo[t]&&this.CountryGameLogo[t].gid==e)return this.CountryGameLogo[t];return null},n.prototype.onRoomBetGoldConfigs=function(t){isgoServer&&(t=e("Http_roomBetGoldConfigs")),this.RoomBetGoldConfigs=t,app.Client.OnEvent(i.GameEventDefine.ROOM_BET_GOLD_CONFIGS)},n.prototype.RequestRoomBetGoldConfigs=function(){},n.prototype.GetRoomBetGoldConfigs=function(e){return(this.RoomBetGoldConfigs?this.RoomBetGoldConfigs[e]:null)||(this.ErrLog("RoomBetGoldConfigs Fail ==>",e),null)},n}(o.Singleton);n.HGameManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine",Http_roomBetGoldConfigs:void 0}],HNoticeManager:[function(e,t){"use strict";cc._RF.push(t,"2ab19sUY8FE6K9GcMuHqaq2","HNoticeManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.HNoticeManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=e("../Define/ShareDefine"),s=e("../Define/UINameDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trumpers=[],t.broadcast=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"NoticeListDataResult",{get:function(){return this._NoticeListDataResult},set:function(e){this._NoticeListDataResult=e},enumerable:!1,configurable:!0}),t.prototype.Init=function(){this.JS_Name="HNoticeManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_DESK_NOTICE,this.onGetDeskNotice,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_NOTICE_LIST,this.onGetNoticeListData,this),app.HttpServerManager().RegNetPack(a.HttpAPI.CANGET_Redenvelope,this.onCanGetRedenvelopeData,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_Redenvelope,this.onGetRedenvelopeData,this),app.Client.RegEvent(i.GameEventDefine.LOAD_HALL_SUCCESS,this.LoadHallSuccess,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_NOTICES,this.onGetAnnounceListData,this),app.HttpServerManager().RegNetPack(a.HttpAPI.BROADCAST_LAST,this.OnBroadcastLast,this),cc.systemEvent.on("game_broadcast",this.OnGameBroadcast,this),app.Client.RegEvent(i.GameEventDefine.REFRESH_DESK_NOTICE,this.RequestDeskNotice,this),app.Client.RegEvent(i.GameEventDefine.GET_cashWheel,this.onGetCashWheel,this)},t.prototype.onGetDeskNotice=function(){},t.prototype.RequestDeskNotice=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_DESK_NOTICE,{token:app.UserManager().GetUserInfo.token,type:2})},Object.defineProperty(t.prototype,"GetDeskInfo",{get:function(){return this._DeskInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetDeskListInfo",{get:function(){var e=[];return this._DeskInfo&&this._DeskInfo.forEach(function(t){var n=app.GameConfigManager().GetAsTime(),o=t.start_time_stamp&&t.start_time_stamp<n&&t.end_time_stamp>n;(!t.start_time_stamp&&!t.end_time_stamp||o)&&e.push(t)}),e},enumerable:!1,configurable:!0}),t.prototype.LoadHallSuccess=function(){},t.prototype.showFreeGameNode=function(){app.GameConfigManager().IsExperienceServer&&app.FormManager().ShowForm(s.UINameDefine.UIFreeWindow,{type:r.FreeWindowType.FreeNotice})},t.prototype.onGetNoticeListData=function(e){this.NoticeListDataResult=e},t.prototype.onGetCashWheel=function(e){app.UserManager().getIsOfficialAccount()||e.lastwheel>0&&(app.FormManager().IsFormShow(s.UINameDefine.UICashWheel)||app.FormManager().EnqueueForm({formName:s.UINameDefine.UICashWheel,key:"hall"}))},t.prototype.onCanGetRedenvelopeData=function(e){1==e.isCanGetRedenvelope&&app.FormManager().ShowForm(s.UINameDefine.UIReceiveRedEnvelope)},t.prototype.onGetRedenvelopeData=function(e){app.Client.OnEvent(a.HttpAPI.GET_Redenvelope,e)},t.prototype.ShowFreeGameTip=function(){this.showEnterFreeGameNode(),this.showFreeGameNode()},t.prototype.showEnterFreeGameNode=function(){!app.GameConfigManager().IsExperienceServer&&app.GameConfigManager().IsExperienceServerShow&&!app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"IsShowFreeGame")&&app.UserManager().GetUserInfo.is_new&&app.GameConfigManager().GetNewUserPop&&(app.LocalDataManager().SetConfigObject(app.UserManager().UserInfo.uid+"IsShowFreeGame",{}),app.FormManager().ShowForm(s.UINameDefine.UIFreeWindow,{type:r.FreeWindowType.FreeInFreeGameNotice}))},Object.defineProperty(t.prototype,"GetOpenNotice",{get:function(){if(app.GameConfigManager().GetNoticeTime){var e=app.LocalDataManager().GetConfigObject("open_notice_time"),t=Date.now();if(e&&t-e.time<36e5*app.GameConfigManager().GetNoticeTime)return!1;app.LocalDataManager().SetConfigObject("open_notice_time",{time:t})}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetUICashWheel",{get:function(){var e=app.LocalDataManager().GetConfigObject("open_UICashWheel_time5"),t=Date.now();return!(e&&t-e.time<864e5||(app.LocalDataManager().SetConfigObject("open_UICashWheel_time5",{time:t}),0))},enumerable:!1,configurable:!0}),t.prototype.RequestGetNoticeList=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_NOTICE_LIST,{token:app.UserManager().GetUserInfo.token})},t.prototype.RequestCanGetRedenvelope=function(){app.UserManager().getIsOfficialAccount()&&app.HttpServerManager().SendHttpPack(a.HttpAPI.CANGET_Redenvelope,{token:app.UserManager().GetUserInfo.token})},t.prototype.RequestGetRedenvelope=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_Redenvelope,{token:app.UserManager().GetUserInfo.token})},t.prototype.RequestGetNoticeData=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_NOTICES,{token:app.UserManager().GetUserInfo.token,notice_id:0})},t.prototype.SendBroadcastLast=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.BROADCAST_LAST,{token:app.UserManager().GetUserInfo.token})},Object.defineProperty(t.prototype,"AnnounceListResult",{get:function(){return this._AnnounceListResult},set:function(e){this._AnnounceListResult=e},enumerable:!1,configurable:!0}),t.prototype.onGetAnnounceListData=function(e){this._AnnounceListResult=e,app.Client.OnEvent(i.GameEventDefine.GET_NOTICES)},t.prototype.OnBroadcastLast=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.broadcast.push({content:n.content,time:1e6*n.interval})}app.Client.OnEvent(i.GameEventDefine.BROADCAST_LAST)},t.prototype.OnGameBroadcast=function(e){this.trumpers.push(e),app.Client.OnEvent(i.GameEventDefine.GAME_BROADCAST)},t.prototype.getAnnounceByID=function(e){for(var t=0;t<this.AnnounceListResult.length;t++){var n=this.AnnounceListResult[t];if(n.notice_id===e)return n}return null},t}(o.Singleton);n.HNoticeManager=c,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/ShareDefine":"ShareDefine","../Define/UINameDefine":"UINameDefine"}],HallManager:[function(e,t){"use strict";cc._RF.push(t,"62962I9ukZH3b3y84vc3CcR","HallManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.HallManager=void 0;var o=e("../../../script/common/GIDTool"),i=e("../../../script/common/room_mode_tool"),a=e("../../Base/Singleton"),r=e("../../Define/GameEventDefine"),s=e("../../Define/HttpServerDefine"),c=e("../../Define/ShareDefine"),p=e("../../Define/TextDefine"),l=e("../../Define/TrackEventName"),h=e("../../Define/UINameDefine"),d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.textData={},e.footerPics=null,e}return __extends(n,t),n.prototype.Init=function(){this.JS_Name="HallManager",this.Log("Init"),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_FAQLIST,this.onFaqList,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_TEXTINFO,this.onTextInfo,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_FOOTER_PICS,this.onGetFooterPics,this),this.textData={}},n.prototype.RequestFooterPics=function(){app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_FOOTER_PICS,{token:app.UserManager().UserInfo.token})},n.prototype.onGetFooterPics=function(e){isgoServer&&e[1]&&""==e[1].jump_url&&(e[1].jump_url="111"),this.footerPics=e,app.Client.OnEvent(r.GameEventDefine.GET_FOOTER_PICS)},n.prototype.GetFooterPics=function(){return this.footerPics},n.prototype.GetFaqList=function(){return this.faqInfoList},Object.defineProperty(n.prototype,"GetVIPFaqShow",{get:function(){return this.faqInfoList&&this.faqInfoList.vip_faq_list&&this.faqInfoList.vip_faq_list.length>0&&app.FormManager().IsFormShow(h.UINameDefine.UIVIP)},enumerable:!1,configurable:!0}),n.prototype.RequestFaqList=function(){app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_FAQLIST)},n.prototype.onFaqList=function(t){if(isgoServer){var n=e("Http_getFaqList");for(var o in n)null!=t[o]&&null!=t[o]||(t[o]=n[o])}this.faqInfoList=t,app.Client.OnEvent(r.GameEventDefine.GET_FAQ_LIST,t)},n.prototype.GetFaqText=function(e){var t=app.LanguageManager().GetLocalLanguage(!0);if(this.textData[e])for(var n=0;n<this.textData[e].length;n++){var o=this.textData[e][n];if(o.language==t)return o.value}return""},n.prototype.SetFaqData=function(e,t){var n=app.LanguageManager().GetLocalLanguage(!0);!this.textData[e]&&(this.textData[e]=[]),this.textData[e].push({value:t,language:n})},n.prototype.onTextInfo=function(e,t){this.SetFaqData(e.name,e.value),app.Client.OnEvent(r.GameEventDefine.GET_FAQ_INFO,{recvData:e,sendData:t})},n.prototype.RequestTextInfo=function(e,t){app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_TEXTINFO,{token:app.UserManager().GetUserInfo.token,name:e,type:t})},n.prototype.IsDownload=function(){return!0},n.prototype.IsInsufficientGoldCoins=function(e){return!app.GameConfigManager().IsExperienceServer&&(app.UserManager().GetUserInfo.gold<e||app.UserManager().GetUserInfo.gold<=0)&&(app.FormManager().ShowForm(h.UINameDefine.UIFreeWindow,{type:c.FreeWindowType.GoldNod}),!0)},n.prototype.OnGameForbidden=function(){var e=app.SupportManager().SelToServiceTypeName();app.FormManager().ShowForm(e)},n.prototype.OnEnterGame=function(e,t){app.GameConfigManager().GetShowJoinFree(e,t)?app.FormManager().ShowForm(h.UINameDefine.UIExperience,{gid:e,subGid:t}):this.EnterGame(e,t)},n.prototype.EnterGame=function(e,t){if(app.EventTrackManager().LogEvent(l.default.CLICK_ENTER_GAME),0!=app.GameConfigManager().GetGameConfig().game_status)if(app.ExternGameManager().IsGameDown()&&app.UserManager().GetUserInfo.gold<=0)app.FormManager().ShowForm(h.UINameDefine.UISettlement,{gid:e,subGid:t});else if(app.GameTypeManager().SetHistoryGame(e,t),app.ExternGameManager().IsExternGame(e,t)){if(app.UserManager().GetIsOfficialPopup())return;app.ExternGameManager().EnterGame(e,t)}else{var n=app.RoomManager().GetRoomModeInfoByGid(t||e);n?n.RoomMode!=app.UserManager().GetUserInfo.roomMode&&this.EnterRoomGame(n.RoomMode):this.ErrLog("EnterGame failed GetRoomModeInfoByGid: "+e)}else{var o=app.TextManager().GetTextInfo(p.TextDefine.limit);o&&app.ConfirmManager().ShowConfirm(c.ConfirmType.ConfirmYN,o,null,this.OnGameForbidden,null,this)}},n.prototype.EnterRoomGame=function(e,t){0!=app.GameConfigManager().GetGameConfig().game_status?app.RoomManager().GetRoomModeInfoByRoomMode(e)?app.RoomManager().EnterGame(e,t):this.ErrLog("EnterRoomGame failed GetRoomModeInfoByRoomMode: "+e):this.Log("EnterRoomGame failed Game Forbidden ")},n.prototype.ImmediateEnterGame=function(e,t){app.RoomManager().ImmediateEnterGame(e,t)},Object.defineProperty(n.prototype,"GetSelectGameType",{get:function(){return this.SelectGameType},enumerable:!1,configurable:!0}),n.prototype.GetFitRoomMode=function(e){var t=app.HGameManager().GetRoomConfigByGid(o.GIDTool.YDZJH),n=app.HGameManager().GetRoomConfigByGid(o.GIDTool.RUMMY);return this.GetFitGame(e,t)||this.GetFitGame(e,n)},n.prototype.GetFitGame=function(e,t){if(!t||0===t.length)return 0;for(var n,o=t[0].way_id,i=0,a=t.length-1;i<=a;){var r=t[n=Math.floor((i+a)/2)].min_gold,s=t[n].way_id;if(e<r)a=n-1;else if(e>r)i=n+1,o=s;else if(e==r)return s}return o},n.prototype.RequestFreeGame=function(){},n.prototype.RequestHundredLeaveEnterRoom=function(e){this.RequestHundredLeaveRoom(e),this.OnEnterGame(e)},n.prototype.RequestHundredLeaveRoom=function(e){var t=app.RoomManager().GetRoomModeInfoByGid(e);t?t.RoomMode!=app.UserManager().GetUserInfo.roomMode&&t.RoomType==i.RoomType.ROOM_HUNDRED&&app.RoomManager().IsHundredGame&&app.GameServerManager().send(app.GameServerManager().req_key_map.req_leave_hall.key,{hall_id:app.UserManager().GetUserInfo.roomMode},!0):this.ErrLog("RequestHundredLeaveRoom: "+e)},n.prototype.GetFreeOutGameWindow=function(){app.GameConfigManager().IsExperienceServer&&app.FormManager().ShowForm(h.UINameDefine.UIFreeWindow,{type:c.FreeWindowType.FreeOutGame})},n.prototype.CloseIndependentForm=function(){},n.prototype.ShowHallForm=function(e,t){void 0===e&&(e=h.UINameDefine.UIHall),this.CloseIndependentForm(),app.FormManager().IsFormShow(e)||app.FormManager().ShowForm(e,t)},n.prototype.OnReload=function(){},n.prototype.LoadImage=function(e,t){if(e){if(t){var n=t.substring(t.lastIndexOf(".")+1);if(!(t.indexOf("http")>-1&&"jpeg"!=n&&"png"!=n))return app.ControlManager().CreateLoadPromiseByUrl(t).then(function(t){var n=function(e){if(cc.isValid(e,!0)&&e&&e.getComponent(cc.Sprite)){var n=new cc.SpriteFrame(t);app.PlaceholderManager().urlS.push(n),app.PlaceholderManager().imgNode.push(e)}};Array.isArray(e)?e.forEach(function(e){n(e)}):n(e),app.PlaceholderManager().SubLoadCount()}).catch(function(){app.PlaceholderManager().SubLoadCount()});this.ErrLog("LoadImage failed: "+t)}}else this.ErrLog("LoadImage failed: "+t)},n.prototype.LoadImageIncrease=function(e,t,n){app.PlaceholderManager().FirstLogin&&n&&app.PlaceholderManager().LoadSunCount<app.PlaceholderManager().LoadMaxCount?this.LoadImage(e,t)&&(this.Log("placeholder==========LoadImage"),app.PlaceholderManager().LoadCount++,app.PlaceholderManager().LoadSunCount++):app.ImageUtil().LoadImage(e,t)},n.prototype.OnShowHallRank=function(e){var t=!1;return e.y<=app.Client.GetUILayer().height&&e.x<=app.Client.GetUILayer().width&&(t=!0),t},n}(a.Singleton);n.HallManager=d,t.exports=n,cc._RF.pop()},{"../../../script/common/GIDTool":"GIDTool","../../../script/common/room_mode_tool":"room_mode_tool","../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine","../../Define/TextDefine":"TextDefine","../../Define/TrackEventName":"TrackEventName","../../Define/UINameDefine":"UINameDefine",Http_getFaqList:void 0}],HallMessageCenter:[function(e,t){"use strict";cc._RF.push(t,"b094ao9TDlAso7JyjQvYMOr","HallMessageCenter");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.HallMessageCenter=void 0;var o=e("../../Common/Base/Singleton"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/ShareDefine"),r=e("../../Common/Net/MsgEventDefine"),s=[],c=function(){for(var e=0;e<s.length;e++){var t=s[e];cc.systemEvent.emit("Hall_"+t.event_type,t)}s.length=0},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneReady=!1,t.getRspHallInfo=!1,t._startMonitorEvent=!1,t}return __extends(t,e),t.prototype.Init=function(){cc.systemEvent.on(r.default.RSP_HALL_INFO,this.resp_hall_info,this),cc.systemEvent.on(r.default.EVENT_GAME_MESSAGE,this.resp_hall_info,this),cc.systemEvent.on(r.default.HALL_END_ROUND,this.resp_hall_info,this),cc.systemEvent.on(r.default.HALL_NOTIFY,this.resp_hall_info,this),cc.systemEvent.on(app.GameServerManager().rsp_key_map.RspLeaveHall.key,this.resp_hall_info,this),cc.systemEvent.on(app.GameServerManager().rsp_key_map.RspJoinHall.key,this.OnRspJoinHall,this)},t.prototype.resp_hall_info=function(e){if(app.UserManager().GetUserInfo&&app.UserManager().GetUserInfo.room_no&&!(app.UserManager().GetUserInfo.roomMode<1e4)&&this._startMonitorEvent){if(e.event_type==r.default.RSP_HALL_INFO){this.getRspHallInfo=!0,s.unshift(e);var t=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().GetUserInfo.roomMode);return t?app.GameManager().curr_scene_name!=t.SceneName?void app.GameManager().enterSceneByRoomMode(app.UserManager().GetUserInfo.roomMode):(this.sceneReady=!0,cc.systemEvent.emit(i.GameEventDefine.RESET_HALL_SCENE),void c()):void cc.error("GetRoomModeInfoByRoomMode error: "+app.UserManager().GetUserInfo.roomMode)}this.getRspHallInfo&&(this.sceneReady?s.length>0?(s.push(e),c()):cc.systemEvent.emit("Hall_"+e.event_type,e):s.push(e))}},t.prototype.sceneStandBy=function(){c(),this.sceneReady=!0},t.prototype.clearMessageQueue=function(){this.sceneReady=!1,this.getRspHallInfo=!1,s=[]},t.prototype.startMonitorEvent=function(){this.clearMessageQueue(),this._startMonitorEvent=!0},t.prototype.stopMonitorEvent=function(){this.clearMessageQueue(),this._startMonitorEvent=!1},t.prototype.OnRspJoinHall=function(e){var t=e.Eno;0==t?(this.startMonitorEvent(),app.UserManager().GetUserInfo.room_no=e.HallId,app.UserManager().GetUserInfo.roomMode=e.RoomMode,app.GameServerManager().send(app.GameServerManager().req_key_map.req_hall_info.key,{hall_id:app.UserManager().GetUserInfo.room_no})):30122==t?app.ConfirmManager().ShowConfirm(a.ConfirmType.ConfirmOK,"UI.TP_0_Main_23",null,function(){cc.systemEvent.emit("open_xs_win")},null,this):30103==t?(this.ErrLog("OnRspJoinHall:",t),app.SysNotifyManager().ShowToast("Error_Join_Hall")):30900==t?app.SysNotifyManager().ShowToast("UI.System_7"):(this.ErrLog("OnRspJoinHall:",t),app.SysNotifyManager().ShowToast("Error_Join_Hall"))},t}(o.Singleton);n.HallMessageCenter=p,t.exports=n,cc._RF.pop()},{"../../Common/Base/Singleton":"Singleton","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine","../../Common/Net/MsgEventDefine":"MsgEventDefine"}],HotUpdate:[function(e,t){"use strict";cc._RF.push(t,"73af2SS2FFKbpTfB3nChlpW","HotUpdate");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.HotUpdate=void 0;var o=e("../../Common/Base/BaseComponent"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.manifestUrl=null,t._updating=!1,t._canRetry=!1,t._storagePath="",t._lastBytes=0,t._curBytes=0,t._updatInfoString="",t._speedString="",t._isComputeSpeed=!1,t._am=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.JS_Name="HotUpdate",this.Log("onload"),cc.sys.isNative&&(this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"blackjack-remote-asset",this.Log("Storage path for remote asset : "+this._storagePath),this._am=new jsb.AssetsManager("",this._storagePath,function(e,t){if(e==t)return-1;this.Log("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var n=e.split("_"),o=t.split("_"),i=0;i<n.length;++i){var a=parseInt(n[i]),r=parseInt(o[i]||0);if(a!==r)return a-r}return o.length>n.length?-1:0}),cc.log("-------this._am"+this._am),this._am.setVerifyCallback(function(e,t){return t.compressed,t.md5,t.path,t.size,!0}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2),this.updateProgress(0))},t.prototype.checkCb=function(e){switch(cc.log("Code: "+e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.Log("No local manifest file found, hot update skipped.");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.Log("Fail to download manifest file, hot update skipped.");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.Log("Already up to date with the latest remote version.");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.Log("New version found, please try to update."),this.updateProgress(0),this.hotUpdate();break;default:return}this._updating=!1},t.prototype.updateCb=function(e){var t=!1,n=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.Log("No local manifest file found, hot update skipped."),n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.updateProgress(e.getPercent());var o=e.getDownloadedBytes(),i=e.getTotalBytes(),a=this.translateBytes(i),r=this.translateBytes(o)+"/"+a;this._updatInfoString=r,0==this._isComputeSpeed?(this._speedString=" 0KB/s",this._isComputeSpeed=!0,this._lastBytes=o,this._curBytes=o,this._lastTime=(new Date).getTime(),this.schedule(function(){var e=(new Date).getTime(),t=e-this._lastTime;if(this.Log("takeTime="+t),this._lastTime=e,t>0){var n=t/1e3,o=this._curBytes-this._lastBytes;this._lastBytes=this._curBytes;var i=o/n;i=this.translateBytes(i),this.Log("kbs = "+i),this._speedString=" "+i+"/s",this.setUpdateProgressInfo()}}.bind(this),.5)):this._curBytes=o,this.setUpdateProgressInfo();var s=e.getMessage();s&&this.Log("Updated file: "+s);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.Log("Fail to download manifest file, hot update skipped."),n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.Log("Already up to date with the latest remote version."),t=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.Log("Update finished. "+e.getMessage()),t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.Log("Update failed. "+e.getMessage()),this._updating=!1,this._canRetry=!0,t=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.Log("Asset update error: "+e.getAssetId()+", "+e.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.Log(e.getMessage())}if(n&&(this._am.setEventCallback(null),this._updating=!1),t){this.Log("--------------------startneedRestartrestart------------"),this.unscheduleAllCallbacks(),this._am.setEventCallback(null);var c=jsb.fileUtils.getSearchPaths(),p=this._storagePath;cc.log(JSON.stringify(p)),Array.prototype.unshift(c,p),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(c)),jsb.fileUtils.setSearchPaths(c),cc.audioEngine.stopAll(),this.Log(JSON.stringify(c)+"--------------------restart------------"+JSON.stringify(p)),setTimeout(function(){cc.log("\u91cd\u65b0\u8bbe\u7f6e\u6e38\u620f"),cc.game.restart(),cc.log("\u91cd\u65b0\u8bbe\u7f6e\u6e38\u620f\u5b8c\u6210")},1e3)}},t.prototype.retry=function(){!this._updating&&this._canRetry&&(this._canRetry=!1,this._am.downloadFailedAssets())},t.prototype.checkUpdate=function(){if(this._updating)this.Log("Checking or updating ...");else{if(this._tempStoragePath=this._storagePath+"_temp",this.removeDirectory(this._tempStoragePath),this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(e)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):this.Log("Failed to load local manifest ...")}},t.prototype.hotUpdate=function(e){this._am&&!this._updating&&(this._am.setEventCallback(this.updateCb.bind(this)),cc.log("url_____"+e),cc.log("this.manifestUrl"+this.manifestUrl),cc.log("this.manifestUrl.nativeUrl"+this.manifestUrl.nativeUrl),this._am.getState()===jsb.AssetsManager.State.UNINITED&&(e?this.modifyHotUpdateUrl(e):this._am.loadLocalManifest(this.manifestUrl.nativeUrl)),this._am.update(),this._updating=!0)},t.prototype.updateProgress=function(e){isNaN(e)},t.prototype.setUpdateProgressInfo=function(){},t.prototype.removeManifestFile=function(e){cc.log("-------------removeManifestFile------------"),jsb.fileUtils.isFileExist(e)?(cc.log("-------------"+e+" exist------------"),jsb.fileUtils.removeFile(e),jsb.fileUtils.isFileExist(e)?cc.log("-------------remove file failed------------"):cc.log("-------------remove file successful------------")):cc.log("-------------"+e+" not exist------------")},t.prototype.removeDirectory=function(e){cc.log("-------------removeDirectory------------"),jsb.fileUtils.isDirectoryExist(e)?(cc.log("-------------"+e+" exist------------"),jsb.fileUtils.removeDirectory(e),jsb.fileUtils.isDirectoryExist(e)?cc.log("-------------remove directory failed------------"):cc.log("-------------remove directory successful------------")):cc.log("-------------"+e+" not exist------------")},t.prototype.modifyHotUpdateUrl=function(e){cc.log("this.manifestUrl11-------"+this.manifestUrl);var t=jsb.fileUtils.getStringFromFile(this.manifestUrl.nativeUrl);cc.log("jsonString"+t);var n=JSON.parse(t);n.packageUrl=e,n.remoteManifestUrl=e+"project.manifest",n.remoteVersionUrl=e+"version.manifest",t=JSON.stringify(n);var o=jsb.fileUtils.getWritablePath()+"HotUpdate";jsb.fileUtils.isDirectoryExist(o)||jsb.fileUtils.createDirectory(o);var i=o+"/project.manifest";jsb.fileUtils.writeStringToFile(t,i),cc.log("\u66f4\u65b0\u7684\u8def\u5f84"+o);var a=new jsb.Manifest(t,o);this._am.loadLocalManifest(a,o)},t.prototype.translateBytes=function(e){if(e<=0)return"0B";var t="";return e>1e6?(t=(e/1e6).toFixed(1),t+="MB"):e>1e3?(t=(e/1e3).toFixed(1),t+="KB"):(t=e.toFixed(1),t+="B"),t},__decorate([r(cc.Asset)],t.prototype,"manifestUrl",void 0),__decorate([a],t)}(o.default);n.HotUpdate=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseComponent":"BaseComponent"}],HttpRequest:[function(e,t){"use strict";cc._RF.push(t,"60910lZdHdDUJ2GmBadk9+/","HttpRequest");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.HttpRequest=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="HttpRequest",this.Log("Init")},t.prototype.SendHttpRequest=function(e,t,n,o,i,a){var r=[e,t].join(""),s=this,c=new XMLHttpRequest,p=!1,l=setTimeout(function(){h()},8e4),h=function(){p||(p=!0,clearTimeout(l),c.abort(),a&&a(e,t,c.readyState,c.status,o))};c.onerror=function(){s.ErrLog("httpRequest.error:%s",r),h()},c.onreadystatechange=function(){if(4==c.readyState){if(p)return void s.ErrLog("httpRequest time out:%s",r);clearTimeout(l),1==isgoServer?i&&i(e,t,c.responseText,o):200==c.status?i&&i(e,t,c.responseText,o):(s.ErrLog("url:%s onreadystatechange(%s, %s, %s)",r,c.readyState,c.status,c.statusText,o),h())}},"GET"==n?(c.open("GET",r+"?"+this.formatParams(o),!0),c.send()):"POST"==n&&(c.open("POST",r,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(this.formatParams(o)))},t.prototype.formatParams=function(e){if(1==isgoServer){var t=[];for(var n in e){var o=e[n];"[object Object]"===toString.call(o)||"[object Array]"===toString.call(o)?t.push(n+"="+JSON.stringify(o)):""===o?t.push(n+'="'+o+'"'):t.push(n+"="+o)}return t.join("&")}for(var n in t=[],e)o=e[n],"[object Object]"===toString.call(o)||"[object Array]"===toString.call(o)?t.push(n+"="+JSON.stringify(o)):t.push(n+"="+o);return t.join("&")},t}(e("../Base/Singleton").Singleton);n.HttpRequest=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],HttpServerDefine:[function(e,t){"use strict";cc._RF.push(t,"31fb3DgQV5BobIQey9/xKOH","HttpServerDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PayUIType=n.PayType=n.HttpAPI=void 0;var o,i=function(){function e(){}return e.COMMON_CONFIG="/config/commonConfig",e.GAME_CONFIG="/config/game_config",e.GET_LANG_LIST="/config/getLangList",e.GAME_LIST="/config/gameList",e.GET_LOADTEXTLIST="/config_lang/getLoadText",e.GET_FAQLIST="/config_lang/getFaqList",e.GET_TEXTINFO="/config_lang/getInfo",e.GET_TEXTINFOMORE="/config_lang/getInfoMore",e.GET_NIGERIA="/config/getNigeriaConfig",e.GET_GAMERATIO="/config/gameRatios",e.VISITOR_LOGIN="/login/visitor_login",e.GET_AREA_CODES="/login/getAreaCodes",e.LOGIN_LOGIN="/login/login",e.LOGIN_REGISTER="/login/register",e.RESET_PASSWORD="/login/resetPwd",e.THIRD_LOGIN="/login/third_login",e.EXPERIENCE_LOGIN="/login/experienceLogin",e.EXPERIENCE_GAME_LOGIN="/login/experienceGameLogin",e.GET_STOPGS_NOTICE="/Notice/getStopgsNotice",e.GET_DESK_NOTICE="/notice/get_desk_notices",e.GET_NOTICE_LIST="/notice/get_notice_list",e.GET_NOTICES="/notice/get_notices",e.GET_NOTICE_READ="/notice/notice_read",e.BROADCAST_LAST="/notice/broadcastList",e.COUNTRY_GAME_LOGO="/game/countryGameLogo",e.ROOM_CONFIG="/game/roomConfig",e.GAME_CARD_CONFIG="/game/gameCardConfig",e.GAME_LATEST_ROUNDS="/game/getLatestRounds",e.GET_RECOMMENDED_GAMES="/game/getRecommendedGames",e.GET_DOMAIN_ICON="/game/getDomainIcon",e.ROOM_BET_GOLD_CONFIGS="/game/roomBetGoldConfigs",e.VIP_LIST="/vip/vipList",e.VIP_RECEIVE="/vip/receiveReward",e.GET_KEFU_LISTBYTEXT="/kefu/getKefuListByText",e.GET_KEFU_LIST="/kefu/getKefuList",e.GET_ROBOTQUESTIONS="/kefu/getRobotQuestions",e.GET_ROBOTQUESTIONSAL_LTYPE="/kefu/getRobotQuestionsAllType",e.GET_QUESTIONS_TYPES="/kefu/getQuestionsTypes",e.GET_QUESTIONS_DETAIL="/kefu/questionDetail",e.UNABLE_BETLIST="/clearn_bet/unableBetList",e.BETBONUSINFO="/clearn_bet/info",e.CLEANBETV2="/clearn_bet/cleanBetV2",e.BET_PERCENTLIST="/clearn_bet/percentList",e.New_CleanBetList="/clearn_bet/newCleanBetList",e.NEW_PERCENTLIST="/clearn_bet/newPercentList",e.SIGN_LIST="/activitie/signList",e.RECEIVE_SIGN="/activitie/sign",e.FREE_LOSE_GET="/activitie/free_lose_get",e.LOSEWAIVER="/activitie/loseWaiver",e.RECHARGE_BONUS_LIST="/activitie/rechargeBonusList",e.RECHARGE_BONUS_BET="/activitie/rechargeBonusGet",e.USER_CENTER_ACTIVITIES="/activitie/userCenterActivitie",e.GET_WHEEL_CONF="/activity.lucky_wheel/config",e.GET_WHEEL_RUN="/activity.lucky_wheel/run",e.GET_WHEEL_HELPDESC="/activity.lucky_wheel/helpDesc",e.GET_WHEEL_RECORD="/activity.lucky_wheel/record",e.GET_OPEN_REDBAG="/activity.red_bag/openRed",e.LIMIT_TIME_RECHARGE="/Activitie/limitTimeRecharge",e.BIND_USER_WALLET="/account/blindUserWallet",e.BIND_BANK_ACCOUNT="/account/bind_bank_account",e.GET_USERINFO="/account/getUserInfo",e.UPDATE_USER_INFO="/account/update_user_info",e.GET_CODE="/account/get_code",e.GET_EMAILCODE="/account/getEmailCode",e.GET_CHANGE_PWD="/account/changePwd",e.GET_USER_BING_ACCOUNT="/account/userBingAccount",e.GET_USER_BING_TEL="/account/userBingTel",e.PAGE_TRAC_RECORD="/account/pageEventTracking",e.CHANGE_BIRTHDAY="/account/changeBirthday",e.GET_USER_WALLET="/user/getUserWallet",e.GET_USER_AndOrder="/user/getUserInfoAndOrder",e.getGoldAndTonRecord="/user/getGoldAndTonRecord",e.clickSPIN="/user/clickSpin",e.BindWallet="/user/bindWallet",e.UnbindWallet="/user/UnbindWallet",e.getWithdrawal="/user/getWithdrawal",e.TRACK_RECORD="/user/userTrackRecord",e.GET_WITHDRAWGOLD="/user/getWithdrawGold",e.GET_AJNOTICE="/user/getAjNotice",e.GET_RECHARGEGOLD="/user/getRechargeGold",e.GET_BIGGEST_TODAY="/user/getBiggestToDay",e.CHECK_AGENT_GOLD_LIMIT="/user/checkAgentGoldLimit",e.GET_USERGUIDE="/user/userGuide",e.GOODS_LIST="/pay/goodsList",e.PAY_CHANNEL_LISTS="/pay/payTypeChannelLists",e.PAY_CHANNEL_TYPE_LIST="/pay/payChannelTypeLists",e.PAY_GOOGLE_NOTIFY="/pay/notify888/channel_id/17",e.GOLD_TXTIPS="/gold/txTips",e.GOODS_PAY="/gold/cz",e.GOLD_COLLECTION="/gold/gold_collection",e.GET_RECHARGE_REWARD="/gold/getRechargeReward",e.GET_LIMIT_RECHARGE="/gold/getLimitRecharge",e.GET_TXRECORDDETAILS="/gold/txRecordDetails",e.GET_TX="/gold/tx",e.GET_GOLD_COLLECTION_TIPS="/gold/gold_collection_tips",e.GET_AGENTTX="/gold/agentTx",e.GET_TXRECORD="/gold/txRecord",e.GET_AGENTCASHTRANSFER="/gold/agentCashTransfer",e.GET_PAY_NOTIFYURL="/pay/getPayNotifyUrl",e.GET_RECHARGE_INFO="/user_recharge/getRechargeInfo",e.GET_RECHARGE_LIST="/user_recharge/getRechargeList",e.RECEIVE_SEND_GOLD="/user_recharge/receiveSendGold",e.RECHARGE_INFOV2="/user_recharge/getRechargeInfoV2",e.GET_ALLPROMOTIONS="/user_recharge/getRechargeInfoV3",e.GET_CARD_LIST="/user_week_month_card/getCardList",e.RECEIVE_CARD_DAILY_GOLD="/user_week_month_card/receiveCardDailyGold",e.GET_TASK_LIST="/task/getTaskList",e.TASK_RECEIVE="/task/receiveReward",e.GET_USER_TASK_CONFIG="/task.user_task_system/getUserTaskConfig",e.TASK_RECEIVE_AWARD="/task.user_task_system/receiveAward",e.GET_SPREAD_WAY="/agent/spread_way",e.GET_SPREAD_AWARD="/agent/share",e.GET_AGENTBONUSRECORDS="/agent/getAgentBonusRecords",e.GET_COMMISSIONDESCLIST="/agent/getCommissionDescList",e.GET_AGENTREPORT="/agent/agentReport",e.GET_AGENTDIRECTUSER="/agent/agentDirectUser",e.GET_SPREADSTATISTICS="/agent/spreadStatistics",e.GET_DAYSPREADSTATISTICS="/agent/daySpreadStatistics",e.GET_COLLECTCASH="/user_agent/collectCash",e.GET_SPREADWAYINFO="/user_agent/spreadWay",e.GET_DIRECTDETAILLIST="/user_agent/directDetailList",e.GET_TEAMTOTAL="/user_agent/teamTotal",e.CHECK_GAME_STATUS="/other_game/checkGameStatus",e.GAME_DOWN="/other_game/gameDown",e.GAME_UP="/other_game/gameUp",e.GET_EMAIL_LIST="/message/index",e.ET_EMAIL_DETAIL="/message/info",e.EMAIL_RECEIVE="/message/receive",e.EMAIL_RECEIVEAll="/message/oneClickReceive",e.EMAIL_DEl_ALL="/message/oneClickDelete",e.SHOW_REDDOT_RECEIVE="/home/showRedDotReceived",e.GET_OUT_LINKS="/home/getOutLinks",e.DOWNLOAD_RECORD="/home/downloadRecord",e.GET_ONLINE_NUM="/home/online_num",e.GET_FOOTER_PICS="/home/getFooterPics",e.GET_WordCup_Config="/activity.world_cup/config",e.GET_WordCup_HisTory="/activity.world_cup/getBetRecord",e.GET_WordCup_Tickets="/activity.world_cup/getTicketAward",e.GET_WC_COUNTRYLIST="/home/getCountryList",e.REQ_WC_COUNTRYRANKING="/activity.world_cup/bet",e.GET_WordCup_AwardResult="/activity.world_cup/getAwardResult",e}();isgoServer&&(i.GAME_UP="/other_game/gameup",i.GET_OPEN_REDBAG="/activitie/openRed",i.GET_KEFU_LIST="/kefu/getKefuUrl",i.CANGET_Redenvelope="/Redenvelope/CanGetRedenvelope",i.GET_Redenvelope="/Redenvelope/GetRedenvelope",i.GET_cashWheel="/activitie/cashWheel",i.open_cashWheel="/activitie/opencashWheel",i.GET_cashWheelHistory="/activitie/cashWheelHistory",i.GET_cashWheelwithdraw="/activitie/cashWheelwithdraw",i.GET_cashWheelreset="/activitie/cashWheelreset",i.GET_LossRebate="/activitie/lossRebate",i.GET_LossRebateReceive="/activitie/lossRebateReceive",i.GET_NewbieBonus="/activitie/newbieBonus",i.GET_NewbieBonusReceive="/activitie/newbieBonusReceive",i.GET_channelList="/config/getchannelList",i.GET_TodayDepositHistory="/activitie/todayDepositHistory",i.GET_YesterdayLotteryDraw="/activitie/yesterdayLotteryDraw",i.GET_LuckyLottery="/activitie/luckyLottery",i.GET_LuckyLotteryReceive="/activitie/luckyLotteryReceive",i.GET_LuckyLotteryinfo="/activitie/luckyLotteryinfo",i.HtmlGameProgress="/HtmlView/HtmlGameProgressMission",i.BonusUnfrozen_getDetailList="/activityBonusUnfrozen/getNotDefrostedList",i.BonusUnfrozen_receive="/activityBonusUnfrozen/receive",i.BonusUnfrozen_bill="/activityBonusUnfrozen/getThawedList",i.BonusUnfrozen_set="/activityBonusUnfrozen/set",i.BonusUnfrozen_set="/activityBonusUnfrozen/set",i.GET_DailyRegistrations="/activity/getMission",i.WatchAdsInSubGames="/HtmlView/WatchAdsInSubGames"),n.HttpAPI=i,(o=n.PayType||(n.PayType={}))[o.Pay_Type_USDT=1]="Pay_Type_USDT",o[o.Pay_Type_BANK=2]="Pay_Type_BANK",o[o.Pay_Type_COMMON=3]="Pay_Type_COMMON",function(e){e[e.Pay_UI_Type_Brazil=1]="Pay_UI_Type_Brazil",e[e.Pay_UI_Type_Vietnam_Channel=2]="Pay_UI_Type_Vietnam_Channel",e[e.Pay_UI_Type_Vietnam_Type=3]="Pay_UI_Type_Vietnam_Type"}(n.PayUIType||(n.PayUIType={})),t.exports=n,cc._RF.pop()},{}],HttpServerManager:[function(e,t){"use strict";cc._RF.push(t,"89fae5pj1BDEa89bw8cMjxh","HttpServerManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.GetModel=n.HttpServerManager=void 0;var o=e("../Define/GameHttpDefine"),i=e("../Define/HttpServerDefine"),a=e("./BaseHttpServerManager"),r={};r[i.HttpAPI.GET_USERINFO]=!0,r[i.HttpAPI.COMMON_CONFIG]=!0,r[i.HttpAPI.LOGIN_LOGIN]=!0,r[i.HttpAPI.LOGIN_REGISTER]=!0,r[i.HttpAPI.GET_DIRECTDETAILLIST]=!0,r[i.HttpAPI.VISITOR_LOGIN]=!0,r[i.HttpAPI.GET_NewbieBonusReceive]=!0,r[o.GameHttpAPI.SLOT_GAME_END]=!0,r[o.GameHttpAPI.SLOT_GAME_RESULT]=!0,r[o.GameHttpAPI.SLOT_CHANGE_ANTES]=!0,r[o.GameHttpAPI.SLOT_COMPARE]=!0,r[o.GameHttpAPI.SLOT2_GAME_END]=!0,r[o.GameHttpAPI.SLOT2_GAME_RESULT]=!0,r[o.GameHttpAPI.SLOT2_CHANGE_ANTES]=!0,r[o.GameHttpAPI.SLOT2_COMPARE]=!0,r[o.GameHttpAPI.LRoller_GetResult]=!0,r[o.GameHttpAPI.MINES_BET]=!0,r[o.GameHttpAPI.CRAZY_MINES_BET]=!0,r[o.GameHttpAPI.SJB_GAME_RESULT]=!0,r[o.GameHttpAPI.SJB_COMPARE]=!0,r[o.GameHttpAPI.Dice_bet]=!0,r["/single_game.gemstone/gameResult"]=!0,r["/single_game.goal_shoot/end"]=!0,r["/single_game.goal_shoot/gameResult"]=!0;var s={};s[i.HttpAPI.COMMON_CONFIG]=!0,s[i.HttpAPI.GAME_LIST]=!0;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.JS_Name="HttpServerMananger",this.Log("Init")},t.prototype.SendHttpPack=function(t,n,o,i){void 0===o&&(o=!0),void 0===i&&(i=!0);var a=app.LanguageManager().GetLocalLanguage(!0);n||(n={}),n.language=a,e.prototype.SendHttpPack.call(this,t,n,o,i)},t.prototype.ObserverErrorEvent=function(e){return r[e]},t.prototype.ObserverFailedEvent=function(e){return s[e]},t}(a.BaseHttpServerManager);n.HttpServerManager=c;var p=null;n.GetModel=function(){return p||(p=new c),p},t.exports=n,cc._RF.pop()},{"../Define/GameHttpDefine":"GameHttpDefine","../Define/HttpServerDefine":"HttpServerDefine","./BaseHttpServerManager":"BaseHttpServerManager"}],Http_commonConfig:[function(e,t){"use strict";cc._RF.push(t,"149b4kdF9JJA7AQG81wy7ea","Http_commonConfig"),t.exports={kfoc_faq_logo:"",down_urls:{android_download_url:"https://d37kgoga0nrx6r.cloudfront.net/apk/brabet1103.apk",ios_download_url:"https://d37kgoga0nrx6r.cloudfront.net/index/iosDownPage?down_url=&emb_url=/uploads/mobileconfig/embedded10.mobileprovision"},is_force:0,is_up:2,game_rows:2,gs_host:"gss.brabet.com",gs_port:"28965",gs_sport:"28966",tx_record_url:"https://home.brabet.com/gold/tx_record",web_url:"http://home.brabet.com",withdraw_desc:"<div ><size=28><color=#ffffff>Once I submit a withdrawal request, how long will it take for my money to be transferred to my bank account?</size></color><br/><br/><span color: inherit;>1. Ensure that your KYC is complete.</span><br/><span color: inherit;>2. Online transfers are processed on all days, except 2nd and 4th Saturdays, Sunday and RBI holidays.The withdrawal amount will be credited to your account within 1-3 working days of placing the withdrawal request.</span><br/><span color: inherit;>3. You will need to furnish your Bank Account Numbe IFSC code of your Bank Branch and Bank Account holder Name for us to process your withdrawal using the online transfer facility. You only need to provide the required details once. The information will be auto-filled for future withdrawals.</span><br/><br/><size=28><color=#ffffff>Cashing rule</size></color><br/><br/><span color: inherit;>1. The gold won is credited to the amount that can be realized.</span><br/><span color: inherit;>2.The portion of a gold coin held to produce a weight  </span><span color: inherit;>may be cashed.</span><br/><span color: inherit;>3.Non-deliverable amount originally non-deliverable amount bet/ BET multiple.</span><br/><br/>",pay_instruction:{status:"1",desc:"Important instruction:For upi Payment:select paytm wallet then enter UPI and makepayment"},stop_server_prompt:"Desculpe que estamos actualizando nosso sistema agora. por favor, tente de novo mais tarde.",bind_tel_send_gold:"0",app_bind_model:1,is_open_browser:1,notice_popup:1,notice_default:2,sign_popup:0,qrcode_open:!1,hu_url:"",ios_download_url:"",game_url:"",android_download_url:"https://d37kgoga0nrx6r.cloudfront.net/apk/brabet1103.apk",user_agreement:"https://home.brabet.com/index/article/gp/userAgreement.html?pid=1",privacy:"https://home.brabet.com/index/article/gp/privacy.html?pid=1",show_arr:[],aj_event_config:[{type:"register",key:""},{type:"recharge",key:"",currency:""},{type:"withdraw",key:"",currency:""},{type:"install",key:"",currency:""},{type:"openrecharge",key:"",currency:""},{type:"clickrecharge",key:"",currency:""},{type:"gotoPay",key:"",currency:""},{type:"common1",key:"",currency:""},{type:"common2",key:"",currency:""},{type:"reg_official",key:""},{type:"user_keep",key:""},{type:"first_recharge",key:"",currency:""}],fb_event_config:[{type:"register",key:""},{type:"recharge",key:"",currency:""},{type:"withdraw",key:"",currency:""},{type:"install",key:"",currency:""},{type:"common1",key:"",currency:""},{type:"common2",key:"",currency:""},{type:"first_recharge",key:"",currency:""}],more_items:"",kefu_type:"1",currency_show:"1",currency_symbol:"R$",hot_update_url:"https://home.brabet.com/zip/1_1/",pay_userinfo_fields:{pay:{name:0,phone:0,email:0,upi:0,taxid:"1",zipcode:0,rfc:0},prepay:{account:0,name:0,bank_id:0,bank:0,branch_bank:0,ifsc_code:0,bank_code:0,upi:0,repay_rfc:0,tel:"1",email:"1",taxid:"1",pix_type:"1",pix_key:"1",account_type:0,account_digit:0,card_type:0,prepay_type:0,province:0,city:0,gcash_number:0,pay_maya_account:0,bank_card_type:0,gcash_type:0,pay_maya_type:0,repay_curp:0,repay_card_debit:0,repay_card_phone:0,repay_card_clabe:0,document_type:0},weight:{account:"0",name:"0",bank:"0",branch_bank:"0",ifsc_code:"0",upi:"0",tel:"99",email:"0",taxid:"96",pix_type:"98",pix_key:"97",account_type:"0",account_digit:"0",card_type:"0",prepay_type:"0",province:"0",city:"0",gcash_number:"0",pay_maya_account:"0",bank_card_type:"0",gcash_type:"0",pay_maya_type:"0"},cpf_tips:""},share_app:["1","2"],version_position:"5",stay_login_page:"0",facebook_register_award:0,show_kyc_conf:0,ext_game_recharge_limit:{220:0,250:0,260:0,270:0,280:0,290:0,310:0,320:0,340:0,350:0,400:0,410:0,440:0,500:0},direct_game:0,experience_recharge_limit:0,reg_login_weight_conf:[{key:"email",status:1,weight:"100"},{key:"mobile",status:1,weight:"90"}],bd_bet_count:2,game_arr:[],notice_countdown_time:2,auto_clean_bet_switch:0,experience_conf:{experience_server_show:0,is_experience_server:0,experience_server_text:"TESTE GRATUITO",experience_server_url:"api.brabetonline.com"},new_user_pop_ups:"0",login_fail_limit:"0",verification_code_status:"0",bet_pop_up_config:"1,10,100,200,500,1000",gc_url:"https://www.brabet.com/license/gc/",gs_host1:"gogs.brabet.com",gs_port1:"",gs_sport1:"8976",ngs_switch:0,ranking_show_status:1,user_vip_lv_keep_switch:1,customer_logo_name:"BRABET",ship_address_config:{770:"https://luckyairships.net/",780:"https://luckyairships.net/",790:"https://luckyairships.net/",800:"https://luckyairships.net/"},recharge_default:"100",game_partners:{1:[{name:"18 anos de idade",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/da831a5767b44c90e94113494e39d8d5.png",is_jump:0,jump_url:""},{name:"YouTube",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/b96894718f6d5c6a0550e90d58412710.png",is_jump:0,jump_url:""},{name:"Twitter",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/6e942d0020161977f09decb100fbdae4.png",is_jump:0,jump_url:""},{name:"tik tok",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/7434f0f1fcaee5b2abcf30df2bd31d13.png",is_jump:0,jump_url:""},{name:"FB",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/02e381d4b0a7d972fae4667d1cadc21c.png",is_jump:0,jump_url:""},{name:"C\xe2mera",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/1f83d3a30c5f9c1f981f0c1a613c15b5.png",is_jump:0,jump_url:""},{name:"Telefone",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230131/49fd091205a41f24b867838ae142d7c1.png",is_jump:0,jump_url:""}],2:[{name:"Google",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/game_partners/2.png",is_jump:0,jump_url:""},{name:"PGGame",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/game_partners/3.png",is_jump:0,jump_url:""},{name:"CQ9",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/game_partners/6.png",is_jump:0,jump_url:""},{name:"facebook",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230201/245a625b51524e4e35fe59b4cf47e1bb.png",is_jump:0,jump_url:""},{name:"JJGAME",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230203/c1aea45d1ec7c399687aabf732026bed.png",is_jump:0,jump_url:""},{name:"EVO",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/game_partners/5.png",is_jump:0,jump_url:""},{name:"EVOPLAY",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/game_partners/4.png",is_jump:0,jump_url:""},{name:"PG",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/game_partners/9.png",is_jump:0,jump_url:""},{name:"CP GMAES",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230901/8939521352aa9a01ba6e5b6a4b56f078.png",is_jump:0,jump_url:""},{name:"TADA",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230901/ae04634167b69f62059ee5118fd4a865.png",is_jump:0,jump_url:""},{name:"JDB",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230901/8f088f5ce1415ae8dfe56950e1048f34.png",is_jump:0,jump_url:""},{name:"YESBINGO",img_url:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_partners/20230901/a81af8a67fc7ffbf4e254818cfc25980.png",is_jump:0,jump_url:""}],3:[{name:"\u5408\u4f5c\u65b9-GC\u56fe\u7247",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/icon/gc.png",is_jump:1,jump_url:"https://www.brabet.com/license/gc/"},{name:"\u5408\u4f5c\u65b9-SIQ\u56fe\u7247",img_url:"https://d37kgoga0nrx6r.cloudfront.net/static/images/icon/siq.png",is_jump:0,jump_url:""}]},game_longgu_config:0,customer_service_switch:0,customer_service_entry_switch:0,is_debug:!1,current_sys_time:1693797168,new_user_task_system_switch:0,user_mobile_reg_switch:1,back_pic_icon:"",picture_host:"https://d37kgoga0nrx6r.cloudfront.net",pay_api_urls:[],pay_channel_version:1,game_status:1,agent_share_reward_switch:1,ai_chat_robot_switch:0,chat_robot_entry_host:"",chat_promote_entry_host:"",ai_promote_robot_switch:"0",ext_game_sport_show:0,lucky_wheel_activity_conf:{start_time:1680318e3,end_time:1680490799},wake_lock_enabled:1,whatsapp_show:{status:1,whatsapp:"Online",kf_chat_url:"https://home.brabet.com/chat/index"},kf_show:{status:1,kf_account:"13479195",kf_type:"1",kf_chat_url:"https://home.brabet.com/chat/index"},kf_url:"https://home.brabet.com/chat/index",is_stopgs:"0"},cc._RF.pop()},{}],Http_gameList:[function(e,t){"use strict";cc._RF.push(t,"1840amKSF1JR632/m7XX43E","Http_gameList"),t.exports={game_info:[],game_type:[],game_lobby_type:[{id:10,type_name:"Lobby",type_name_en:"Lobby",icon:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_type_icon/20230201/5b75492e9506ab829ccfdde8fd45777a.png",icon_on:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_type_icon/20230201/82609bfaa376494d2c09e1f56fb0b6bb.png"},{id:11,type_name:"Favorite",type_name_en:"Favorite",icon:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_type_icon/20230201/75e510a55bc5ee3eb5134365c440aee9.png",icon_on:"https://d37kgoga0nrx6r.cloudfront.net/uploads/game_type_icon/20230201/0f743f9c9b263e197f19a218db21edc6.png"}],other_game:[],least_gold:{},game_factory:{},other_game_factory:[],experience_list:[],data_version:1695284403},cc._RF.pop()},{}],Http_login:[function(e,t){"use strict";cc._RF.push(t,"56bac5TdwtFBJGZaJCsXyV3","Http_login"),t.exports={token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2OTQxNzIyMzgsImRhdGEiOnsidXNlcmlkIjoxNTcxMzM5OTR9fQ.yM8_ebkZhHKjqwmb_qNkxY-p7ZUT7XJMtgqooMkrGo4",uid:157133994,headimg:"5",sex:0,tel:"",account:"569188417@qq.com",nickname:"Benedito Ant",third_token:"",third_headimg:"",bank_account:"",bank_name:"",bank_code:"",cardholder_name:"",ifsc_code:"",upi:"",branch_bank:"",cardholder_tel:"",email:"",ali_account:"",taxid:"",account_type:0,account_digit:"",pix_key:"",pix_type:"",uno:157133994,is_new:0,fb_award:"0",tel_award:"0",user_wallet:"",prepay_type:0,province:"",city:"",gcash_number:"",beneficiary_name:"",area:0,pay_maya_account:"",is_official_account:1,vip_id:1,current_game:"",current_game_time:0,total_recharge:"0.00",gold:0,user_config:{game_arr:[1230,670,830,870,1010,1020,1060,1070,620,730,280,320,270,590,220,750,600,630,840,520,490,530,470,550],show_arr:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,0,0,1,1,0,1,0,1,0,1,0,1,0,0,0,1,1,0,0,1,1,0,1,0,0],is_open_debug:!1,agent_sub_level:"3",vip_begin_level:0},is_keep_level:1,keep_level_conf:0,birthday:960998400,is_guide:0,first_gold:null,recharge_activity:{status:0,end_time:0},repay_rfc:"",repay_curp:"",repay_card_debit:"",repay_card_phone:"",repay_card_clabe:"",pixelid:{pixelid:""}},cc._RF.pop()},{}],ImageUtil:[function(e,t){"use strict";cc._RF.push(t,"60989ySrD1AeKwfQkIFPc0F","ImageUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ImageUtil"},t.prototype.LoadLocalImage=function(e,t){e?app.ControlManager().CreateSpritePromise(t).then(function(t){var n=function(e){cc.isValid(e,!0)&&e&&e.getComponent(cc.Sprite)&&(e.getComponent(cc.Sprite).spriteFrame=t)};Array.isArray(e)?e.forEach(function(e){n(e)}):n(e)}).catch(function(){}):this.ErrLog("Load Head failed: "+t)},t.prototype.LoadRemoteImage=function(e,t){if(e){var n=t.substring(t.lastIndexOf(".")+1);"jpeg"==n||"png"==n||"jpg"==n?app.ControlManager().CreateLoadPromiseByUrl(t).then(function(t){var n=function(e){if(cc.isValid(e,!0)&&e&&e.getComponent(cc.Sprite)){var n=new cc.SpriteFrame(t);e.getComponent(cc.Sprite).spriteFrame=n}};Array.isArray(e)?e.forEach(function(e){n(e)}):n(e)}).catch(function(){}):this.ErrLog("LoadRemoteImage failed: "+t)}else this.ErrLog("LoadRemoteImage failed: "+t)},t.prototype.LoadImage=function(e,t){0==t.indexOf("http")?this.LoadRemoteImage(e,t):this.LoadLocalImage(e,t)},t.prototype.LoadHead=function(e,t){e&&cc.isValid(e,!0)?(null!=(t=""+t)&&"/0"!=t&&""!=t||(t="00"),0==t.indexOf("http")?this.LoadImage(e,t):(t=app.ComTool().PrefixInteger(t,2),this.LoadImage(e,"common/atlas/face/"+t))):this.ErrLog("Load Head failed: "+t)},t}(e("../Base/Singleton").Singleton);n.default=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],IndexManager:[function(e,t){"use strict";cc._RF.push(t,"7f2b9Mb5/RGIoRLKmhq4ftu","IndexManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.IndexManager=void 0;var o=e("../Art/DefaultBGColor"),i=e("../Base/Singleton"),a=e("../Define/GameEventDefine"),r=new cc.Color(0,0,0,180),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TopDefault=cc.Color.WHITE.fromHEX(o.DefaultBGColor.HallTop),t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="IndexManager",this.Log("Init"),app.Client.RegEvent(a.GameEventDefine.UpdateMoveStatus,this.onUpdateMoveStatus,this)},t.prototype.onUpdateMoveStatus=function(e){this.setIndexDefaultColor(!e)},t.prototype.setIndexHeadColorByNode=function(e){if(!app.ComTool().DesktopPlatform()){var t=cc.Color.WHITE.fromHEX(o.DefaultBGColor.Launch);e&&(t=this.blendColors(t,r)),this.setIndexBackgroundColor(t)}},t.prototype.setTopColor=function(){this.setIndexDefaultColor()},t.prototype.setIndexDefaultColor=function(e){if(!app.ComTool().DesktopPlatform()){var t=e?this.blendColors(this.TopDefault,r):this.TopDefault;this.setIndexBackgroundColor(t)}},t.prototype.setIndexBackgroundColor=function(e){document.body.style.backgroundColor="#"+e.toHEX()},t.prototype.blendColors=function(e,t){var n=t.a/255,o=1-n,i=o*e.r+n*t.r,a=o*e.g+n*t.g,r=o*e.b+n*t.b,s=o*e.a+n*t.a;return new cc.Color(i,a,r,s)},t}(i.Singleton);n.IndexManager=s,t.exports=n,cc._RF.pop()},{"../Art/DefaultBGColor":"DefaultBGColor","../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],InteractionMgr:[function(e,t){"use strict";cc._RF.push(t,"2230ahGKSNJ7YbhqGt5DeaL","InteractionMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.InteractionMgr=void 0;var o=e("../../script/common/GIDTool"),i=e("../../script/common/room_mode_tool"),a=e("../Base/Singleton"),r=e("../Define/GameEventDefine"),s=e("../Define/ShareDefine"),c=e("../Define/TrackEventName"),p=e("../Define/UINameDefine"),l={};l[13001]={Name:p.UINameDefine.UIAccount,Vertical:.4,subClick:s.SubClickType.DepositHistory},l[13002]={Name:p.UINameDefine.UIAccount,Vertical:.4,subClick:s.SubClickType.WithdrawalHistory},l[13003]={Name:p.UINameDefine.UIAccountSetting,Vertical:0},l[13004]={Name:p.UINameDefine.UIAccount,Vertical:0},l[13005]={Name:p.UINameDefine.UIHall,Vertical:0},l[13006]={Name:p.UINameDefine.UIHall,Vertical:0},l["13006H"]={Name:p.UINameDefine.UIMenu,Vertical:.01},l[13007]={Name:p.UINameDefine.UIMenu,Vertical:.01},l[13008]={Name:p.UINameDefine.UIAllActivity,Vertical:0},l[13009]={Name:p.UINameDefine.UIPromoteMain,Vertical:0,subName:s.PromoteMainSelTopTe.Bonus},l[13010]={Name:p.UINameDefine.UIPromoteMain,Vertical:.4},l[13011]={Name:p.UINameDefine.UIActivity,Vertical:0,subName:s.ActivityType.agency_promotion},l[13012]={Name:p.UINameDefine.UIActivity,Vertical:0,subName:s.ActivityType.subordinate_recharge_gift};var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="InteractionMgr",this.Log("Init")},t.prototype.SendWndEvent=function(e){if(e){var t=0,n=0,a=0,h=0;if(e>=10101&&e<10108){if(app.UserManager().GetIsOfficialPopup())return;app.Client.OnEvent(r.GameEventDefine.OPEN_STORE)}else if(11100==e){if(app.UserManager().GetIsOfficialPopup())return;app.StoreManager().ShowStoreUI({ShowType:s.WIN_TYPE.CASHOUT,in_type:c.default.PAGETRACK_EVENT_WITHDRAW_ACTIVITY})}else if(11602==e);else if(11603==e);else if(11604==e);else if(11605==e)app.SysNotifyManager().ShowToast("UI.System_25");else if(11606==e)app.Client.OnEvent(r.GameEventDefine.OPEN_SPECIAL_OFFER);else if(11607==e)app.SysNotifyManager().ShowToast("UI.System_25");else if(11609==e){if(app.UserManager().GetIsOfficialPopup())return;app.FormManager().ShowForm(p.UINameDefine.UIPromoteMain)}else if(12101==e)app.HallManager().EnterRoomGame(i.RoomMode.ROOM_MODE_TP_MATCH_5P_BAISC);else if(12102==e)app.HallManager().EnterRoomGame(i.RoomMode.ROOM_MODE_ROYAL_TP_MATCH_5P_BAISC);else if(12103==e)app.HallManager().EnterRoomGame(i.RoomMode.ROOM_MODE_RM_MATCH_5P_BAISC);else if(12104==e)app.HallManager().EnterRoomGame(i.RoomMode.ROOM_MODE_RM_MATCH_2P_BAISC);else if(e>=20101&&e<=20104)t=i.RoomMode.ROOM_MODE_DDZ_MATCH_5P_BAISC+e-20101;else if(e>=20201&&e<=20204)t=i.RoomMode.ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_BAISC+e-20201;else if(e>=20301&&e<=20304)t=i.RoomMode.ROOM_MODE_PSZ_MATCH_5P_BAISC+e-20301;else if(20401==e)t=i.RoomMode.ROOM_MODE_DRAGON_TIGER_HALL;else if(20501==e)t=i.RoomMode.ROOM_MODE_RED_BLACK_HALL;else if(20601==e)t=i.RoomMode.ROOM_MODE_SHZ;else if(e>=20701&&e<=20704)t=i.RoomMode.ROOM_MODE_13WATER_MATCH_4P_BASIC+e-20701;else if(e>=20801&&e<=20805)t=i.RoomMode.ROOM_MODE_PDK_MATCH_5P_BAISC+e-20801;else if(e>=20901&&e<=20905)t=20901==e?i.RoomMode.ROOM_MODE_ERMJ_MATCH_5P_MIN:i.RoomMode.ROOM_MODE_ERMJ_MATCH_5P_BAISC+e-20902;else if(e>=21001&&e<=21002)t=21001==e?i.RoomMode.ROOM_MODE_HUNDRED_COW_10X:i.RoomMode.ROOM_MODE_HUNDRED_COW_4X;else if(e>=21101&&e<=21105)t=21105==e?i.RoomMode.ROOM_MODE_BULL_HOLDEM_MATCH_5P_MAX:i.RoomMode.ROOM_MODE_BULL_HOLDEM_MATCH_5P_BAISC+e-21101;else if(e>=21201&&e<=21205)t=i.RoomMode.ROOM_MODE_BULL1_HOLDEM_MATCH_5P_BAISC+e-21201;else if(21301==e)t=i.RoomMode.ROOM_MODE_CAR_HALL;else if(21401==e)n=o.GIDTool.PG;else if(21501==e)n=o.GIDTool.DG;else if(21601==e)n=o.GIDTool.TFGAMING;else if(21701==e)n=o.GIDTool.BTI;else if(21801==e)n=o.GIDTool.EVO,a=9e3;else if(21901==e)n=o.GIDTool.SBO;else if(22101==e)n=o.GIDTool.NYDJ;else if(22201==e)n=o.GIDTool.CQ9;else if(22401==e||22103==e)n=o.GIDTool.WINGO;else if(22102==e)t=i.RoomMode.ROOM_MODE_BAO_DIAN;else if(22104==e)n=o.GIDTool.SHIJIEBEI;else if(22105==e)t=i.RoomMode.ROOM_MODE_777_SLOT_0;else if(22106==e)t=i.RoomMode.ROOM_MODE_BAI_BACCARAT;else if(22107==e)t=i.RoomMode.ROOM_MODE_LUN_PAN;else if(22108==e)t=i.RoomMode.ROOM_MODE_ABgame;else if(22109==e)t=i.RoomMode.ROOM_MODE_Roulette;else if(22110==e)t=i.RoomMode.ROOM_MODE_LROLLER;else if(22111==e)t=i.RoomMode.ROOM_MODE_TOU_BAO;else if(22112==e)t=i.RoomMode.ROOM_MODE_MINES;else if(22113==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.first_recharge_gift);else if(22114==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.ordinary_recharge_gift);else if(22115==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.subordinate_recharge_gift);else if(22116==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.reserve_event_one);else if(22117==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.reserve_event_two);else if(22118==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.reserve_event_three);else if(22119==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.rain_of_red_envelopes);else if(22136==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.LossRebate);else if(22120==e)app.DemoServerManager().EnterGame();else if(22121==e)app.DemoServerManager().EnterGame();else if(22122==e)n=o.GIDTool.DICE;else if(22123==e)n=o.GIDTool.PINGBO;else if(22124==e);else if(22125==e)h=6;else if(22126==e)h=8;else if(22127==e)h=5;else if(22128==e)h=3;else if(22129==e)h=7;else if(22130==e)h=9;else if(22131==e)h=1;else if(22132==e)h=4;else if(22133==e)app.FormManager().ShowForm(p.UINameDefine.UIActivity,s.ActivityType.Atividades_de_Natal);else if(22134==e)app.UserManager().GetIsOfficialPopup()||app.FormManager().ShowForm(p.UINameDefine.UIActivityMission);else if(22135==e)app.FormManager().ShowForm(p.UINameDefine.UICashWheel);else if(122136==e)app.UserManager().GetIsOfficialPopup()||app.FormManager().ShowForm(p.UINameDefine.UIActivityMission);else if(122137==e)app.FormManager().ShowForm(p.UINameDefine.UICashWheel);else if(100001==e)app.FormManager().ShowForm(p.UINameDefine.UIActivityLossRebate);else if(100002==e)app.FormManager().ShowForm(p.UINameDefine.UIActivityNewbieBonus);else if(100003==e)app.FormManager().ShowForm(p.UINameDefine.UIActivityLuckyLottery);else if(22137==e)app.FormManager().ShowForm(p.UINameDefine.UIWheel);else if(22139==e)n=o.GIDTool.BLINDBOX;else if(22140==e)n=o.GIDTool.K3;else if(22141==e)n=o.GIDTool.TRUCOONE;else if(22142==e)n=o.GIDTool.crazyMines;else if(22144==e)n=o.GIDTool.Bonanza;else if(22146==e)n=o.GIDTool.YesBingo;else if(22147==e)n=o.GIDTool.CpSoft;else if(22148==e)n=o.GIDTool.TaDa;else if(22149==e)n=o.GIDTool.JiLiTable;else if(22150==e)n=o.GIDTool.KingMaker;else if(22151==e)n=o.GIDTool.PGEUR;else if(22152==e)n=o.GIDTool.Tone;else if(22153==e)n=o.GIDTool.PGSingleGame;else if(22154==e)n=o.GIDTool.PGEURSingleGame;else if(22155==e)n=o.GIDTool.PPSingleGame;else if(22156==e)n=o.GIDTool.DS88;else if(22157==e)n=o.GIDTool.CQ9_FISH;else if(22158==e)n=o.GIDTool.CMD;else if(22159==e)n=o.GIDTool.BGS;else if(22160==e)n=o.GIDTool.JJ_FISH;else if(22161==e)n=o.GIDTool.EVoPlaySingle;else if(22162==e)n=o.GIDTool.SWAGGER;else if(22163==e)n=o.GIDTool.IMGame;else if(22164==e)n=o.GIDTool.AWC;else if(22165==e)n=o.GIDTool.AWC2;else if(22166==e)n=o.GIDTool.HaHanero;else if(22167==e)n=o.GIDTool.Ebet;else if(22168==e)n=o.GIDTool.EVO3;else if(22170==e)n=o.GIDTool.CRASH2;else if(22171==e)n=o.GIDTool.Panda;else if(23101==e){var d=app.SupportManager().SelToServiceTypeName();app.FormManager().ShowForm(d)}else if(24101==e)app.FormManager().ShowForm(p.UINameDefine.UIMonthCard);else if(25101==e){var u=app.RedDotManager().RechargeInfoDataResult.recharge_send_gold;u&&u.show?app.FormManager().ShowForm(p.UINameDefine.UIBonuses):app.SysNotifyManager().ShowToast("UI.System_25")}else if(e>=13001&&e<=13012){var _=!app.ComTool().H5Platform()&&l[e+"H"]?l[e+"H"]:l[e];if(13009===e||13010===e){if(app.UserManager().GetIsOfficialPopup())return;return void app.FormManager().ShowForm(_.Name,_)}if(null==_?void 0:_.Name){if(_.subName)return void app.FormManager().ShowForm(_.Name,_.subName);if(_.Vertical)return void app.FormManager().ShowForm(_.Name,_);app.FormManager().ShowForm(_.Name)}}else 25102==e?app.FormManager().ShowForm(p.UINameDefine.UIBetBonus):25103==e?app.FormManager().ShowForm(p.UINameDefine.UIVIP):22169==e?n=o.GIDTool.Keno:22175==e?n=o.GIDTool.JDB:22176==e?n=o.GIDTool.V8:22177==e?n=o.GIDTool.BNG:22178==e?n=o.GIDTool.PP2:22179==e?n=o.GIDTool.DIGITAIN_SPORT:22180==e?n=o.GIDTool.FPC:3e4==e?app.ComTool().H5Platform()?app.FormManager().ShowForm(p.UINameDefine.UIFIFAWorldCup):app.SysNotifyManager().ShowToast("UI_WorldCup_ActiveTip"):30001==e?app.ComTool().H5Platform()?app.FormManager().ShowForm(p.UINameDefine.UIWorldCupAward):app.SysNotifyManager().ShowToast("UI_WorldCup_ActiveTip"):30002==e?app.ComTool().H5Platform()?n=o.GIDTool.WCS:app.SysNotifyManager().ShowToast("UI_WorldCup_ActiveTip"):30003==e?n=o.GIDTool.LuckyAirShip:30004==e?n=o.GIDTool.RacingCard:30005==e?n=o.GIDTool.Plinko:22138==e&&app.FormManager().ShowForm(p.UINameDefine.UITaskBonus);if(h>0)app.Client.OnEvent(r.GameEventDefine.INTERACTION_JUMP,h);else if(t>0)app.HallManager().EnterRoomGame(t);else if(n>0){var m=app.GameTypeManager().GetExternGameChildList(n);return!a&&m?void app.FormManager().ShowForm(p.UINameDefine.UIGameHierarchy,{subInfo:m.list,topName:m.name}):void app.HallManager().OnEnterGame(n,a)}}},t}(a.Singleton);n.InteractionMgr=h,t.exports=n,cc._RF.pop()},{"../../script/common/GIDTool":"GIDTool","../../script/common/room_mode_tool":"room_mode_tool","../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/ShareDefine":"ShareDefine","../Define/TrackEventName":"TrackEventName","../Define/UINameDefine":"UINameDefine"}],JsonBigint:[function(e,t){"use strict";cc._RF.push(t,"32229B2hXZGkZELWwkGpTfh","JsonBigint");var n=e("parse");t.exports=function(e){return{parse:n(e)}},t.exports.parse=e("parse")(),cc._RF.pop()},{parse:"parse"}],KeyManager:[function(e,t){"use strict";cc._RF.push(t,"30495Vw2EpAYr6ahEQkqLyk","KeyManager");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._callbacks=[],t._targets=[],t.clickBackTime=0,t}return __extends(t,e),t.prototype.Init=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.JS_Name="KeyManager",cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.OnKeyDown,this),cc.systemEvent.on("onBackKey",this.OnBackKey,this),window.onpopstate=function(t){try{if(t&&t.state&&"object"==typeof t.state){var n=t.state,o=n.name,i=n.data;if(!o)return;app.Client.GetIndependentChildren().length>0&&app.HallManager().CloseIndependentForm(),app.FormManager().ShowForm(o,i)}}catch(a){e.ErrLog("onpopstate: ",a)}}},t.prototype.OnKeyDown=function(e){var t=e.keyCode;this.Log("onKeyDown ==>>",t),app.ComTool().DesktopPlatform()&&(t==cc.macro.KEY.escape||t==cc.macro.KEY.f5&&location.reload())},t.prototype.OnBackKey=function(){this.Log("onBackKey");var e=this._callbacks.length;if(0!=e){if(!app.RoomManager().IsOutGoldGamePop())for(var t=0;t<e;t++)return void this._callbacks[t].apply(this._targets[t])}else if(app.ComTool().H5Platform()){if(app.NativeMgr().getApkVersion()>=1){if(Date.now()-this.clickBackTime>=2e3)return this.clickBackTime=Date.now(),void app.SysNotifyManager().ShowToast("ExitTip");app.NativeMgr().exitApp()}return}},t.prototype.RegBackEvent=function(e,t){e&&t?(this._callbacks.splice(0,0,e),this._targets.splice(0,0,t)):this.ErrLog("RegBackEvent: error")},t.prototype.UnRegBackEvent=function(e,t){for(var n=0;n<this._callbacks.length;n++)if(this._callbacks[n]===e&&this._targets[n]===t){this._callbacks.splice(n,1),this._targets.splice(n,1);break}},t.prototype.RegRouterEvent=function(){},t}(e("../Base/Singleton").Singleton);n.default=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],LanguageData:[function(e,t){"use strict";cc._RF.push(t,"287637OOPJLMrGTjOR+zjR2","LanguageData");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=["Form/Polyglot","Form/PolyglotOther","Form/PolyglotOtherDL"],i=function(){function e(){this.langData=null,this.langData||(this.langData={curLang:"",curLangIndex:0,lang:[],textMap:{}})}return Object.defineProperty(e,"inst",{get:function(){return e._inst||(e._inst=new e),e._inst},enumerable:!1,configurable:!0}),e.prototype.loadConfig=function(){cc.log("load config");for(var e=[],t=0;t<o.length;t++)e.push(this.loadCSV(o[t]));return Promise.all(e)},e.prototype.loadCSV=function(e){var t=this;return new Promise(function(n,o){cc.resources.load(e,function(i,a){if(i)return cc.error("load csv(%s) error ==>>",e,i),void o(i);t.initLanguageData(a.text),cc.resources.release(e),n(!0)})})},e.prototype.initLanguageData=function(e){for(var t=this.CSVToArray(e),n=0;n<t.length;n++){var o=t[n];o.length<=1||(0===n?this.langData.lang=o.slice(1):this.langData.textMap[o[0]]=o.slice(1))}},e.prototype.selectLang=function(e){if(cc.log("selectLang ==>>"+e),e===this.langData.curLang)return!0;var t=this.langData.lang.indexOf(e);return t>-1?(this.langData.curLang=e,this.langData.curLangIndex=t,this.updateSceneRenderers(),!0):(cc.error("selectLang error !! "+e+" not exsit!!"),!1)},e.prototype.t=function(e,t){var n="";return this.langData.textMap&&this.langData.textMap[e]&&(n=this.langData.textMap[e][this.langData.curLangIndex]||""),t=null==t?{}:t,n?n=(n=c(n,t=a(t))).replace(/\\n/g,"\n"):(n=(n=e).replace(/\\n/g,"\n"),cc.warn('Missing translation for key: "'+e+'"')),n},e.prototype.getCurLang=function(){return this.langData.curLang},e.prototype.getCurLangIndex=function(){return this.langData.curLangIndex},e.prototype.getLangs=function(){return this.langData.lang},e.prototype.updateSceneRenderers=function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var o=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,o)}for(n=0;n<t.length;++n){var i=t[n];i.node.active&&i.updateLabel()}var a=[];for(n=0;n<e.length;++n){var r=e[n].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,r)}for(n=0;n<a.length;++n){var s=a[n];cc.isValid(s.node)&&s.node.active&&s.updateSprite(this.langData.curLang)}},e.prototype.CSVToArray=function(e,t){t=t||",";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),o=[[]],i=null;i=n.exec(e);){var a=i[1];if(a.length&&a!=t&&o.push([]),i[2])var r=i[2].replace(new RegExp('""',"g"),'"');else r=i[3];o[o.length-1].push(r)}return o},e._inst=null,e}();function a(e){var t={};for(var n in e)t[n]=e[n];return t}n.default=i;var r=/\$/g,s="$$$$";function c(e,t){var n=String.prototype.replace;for(var o in t)if("_"!==o&&t.hasOwnProperty(o)){var i=t[o];"string"==typeof i&&(i=n.call(t[o],r,s)),e=n.call(e,new RegExp("S\\{"+o+"\\}","g"),i)}return e}t.exports=n,cc._RF.pop()},{}],LanguageDefine:[function(e,t){"use strict";cc._RF.push(t,"ac1b1QSsEpC74ar22oFmZhZ","LanguageDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.enus="en-us",e.hiin="hi-in",e.thth="th-th",e.zhcn="zh-cn",e.zhhk="zh-hk",e.vivn="vi-vn",e.idid="id-id",e.intelugu="in-telugu",e.inmarathi="in-marathi",e.ptpt="pt-pt",e.eses="es_co",e}();n.default=o,t.exports=n,cc._RF.pop()},{}],LanguageManager:[function(e,t){"use strict";cc._RF.push(t,"7bc74+epYRHW6VDeRQHtqzS","LanguageManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=e("../Define/LanguageDefine"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._LanguageList=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="LanguageManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_LANG_LIST,this.OnGetLanguageList,this)},t.prototype.RequestLangList=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_LANG_LIST)},t.prototype.OnGetLanguageList=function(e){this._LanguageList=e,this.SetServerDefaultLanguage()},t.prototype.SetDefaultLanguage=function(){var e=this.GetLocalLanguage(!0);app.i18n.selectLang(e)},t.prototype.SetLanguage=function(e){app.i18n.selectLang(e)&&(app.LocalDataManager().SetConfigProperty("SysSetting","Language2",e),app.Client.OnEvent(i.GameEventDefine.HALL_Language))},t.prototype.SetSelectRegion=function(e){app.LocalDataManager().SetConfigProperty("SysSetting","LocalSelectRegion4"+channelIDGlobal,e)},t.prototype.GetLanguageItem=function(){var e=this.GetLocalLanguage(!0),t=this._LanguageList;if(t&&e)for(var n=0;n<t.length;n++){var o=t[n];if(o.lang==e)return o}},t.prototype.GetLocalLanguage=function(e){return app.LocalDataManager().GetConfigProperty("SysSetting","Language2")||(e?r.default.enus:null)},t.prototype.GetLocalSelectRegion=function(){return app.LocalDataManager().GetConfigProperty("SysSetting","LocalSelectRegion4"+channelIDGlobal)},t.prototype.SetServerDefaultLanguage=function(){if(!this.GetLocalLanguage())for(var e=0;e<this._LanguageList.length;e++){var t=this._LanguageList[e];if(1==t.default){this.SetLanguage(t.lang);break}}},t.prototype.GetLanguageList=function(){return this._LanguageList},t}(o.Singleton);n.LanguageManager=s,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/LanguageDefine":"LanguageDefine"}],LaunchManager:[function(e,t){"use strict";cc._RF.push(t,"39259/2aH1AeZ8P3/CA0NiT","LaunchManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LaunchManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=e("../Define/MsgIDDefine"),s=e("../Define/ShareDefine"),c=e("../Define/TrackEventName"),p=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.timer=null,e.remoteHosts=null,e}return __extends(n,t),n.prototype.Init=function(){this.JS_Name="LaunchManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.COMMON_CONFIG,this.OnGameConfig,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_channelList,this.OnGameChannelList,this),this.defaultHosts=app.ClientConfigManager().GetGlobalConfig.hosts.concat()},n.prototype.RequestGameConfig=function(){app.EventTrackManager().LogEvent(c.default.LAUNCH_GAME_CONFIG_BEGIN),app.GameConfigManager().RequestGameConfig(),this.timer=window.setTimeout(function(){app.Client.OnEvent(i.GameEventDefine.SHOW_BTN_SUPPORT)},5e3)},n.prototype.ClearTimeout=function(){clearTimeout(this.timer)},n.prototype.GetBackUpUrl=function(){var e=this,t=app.ClientConfigManager().GetGlobalConfig.backupUrl;if(t){var n=function(){app.ClientConfigManager().GetGlobalConfig.hosts=e.remoteHosts.concat(e.defaultHosts),app.Client.OnEvent(i.GameEventDefine.REFRESH_LAUNCH)};if(this.remoteHosts)n();else{var o=new XMLHttpRequest;o.open("GET",t,!1),o.send(null);var a=o.responseText;this.Log(a),this.remoteHosts=JSON.parse(a),n()}}},n.prototype.OnGameChannelList=function(){},n.prototype.OnGameConfig=function(t,n){if(isgoServer){t.game_partners=null;var o=e("Http_commonConfig");for(var p in o)null!=t[p]&&null!=t[p]||(t[p]=o[p]);t.ai_chat_robot_switch=0,t.pay_channel_version=1}if(!t)return app.Client.OnEvent(i.GameEventDefine.GET_GAME_CONFIG_FAILED),void this.GetBackUpUrl();if(t.code)return t.code==s.ReqFailCode.IP_Limit?void app.Client.OnEvent(i.GameEventDefine.LOGIN_IPLIMIT,t.data):void this.ErrLog("OnGameConfig fail");if(this.ClearTimeout(),app.EventTrackManager().LogEvent(c.default.LAUNCH_GAME_CONFIG_END),app.LocalDataManager().SetConfigProperty("LocalInfo","firstInstall",!1),app.GameConfigManager().SetGameConfig(t),1!=Number(t.is_stopgs)){if(cc.sys.isNative){var l=t.is_up;if(1==l)return void app.Client.OnEvent(i.GameEventDefine.HOT_UPDATE);if(2==l)return void app.ConfirmManager().ShowConfirm(s.ConfirmType.ConfirmOK,r.MsgIDDefine.System_42,null,this.OnConFirm,null,this)}app.Client.OnEvent(i.GameEventDefine.CHECK_UPDATE_SUCCESS)}else app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_STOPGS_NOTICE,n)},n.prototype.OnConFirm=function(){jsb.fileUtils.removeDirectory(jsb.fileUtils.getWritablePath()),cc.sys.localStorage.setItem("HotUpdateSearchPaths",""),cc.sys.os==cc.sys.OS_ANDROID?app.NativeMgr().downloadApp(app.GameConfigManager().GetGameConfig().android_download_url):cc.sys.os==cc.sys.OS_IOS&&app.NativeMgr().downloadApp(app.GameConfigManager().GetGameConfig().ios_download_url)},n.prototype.StartLogin=function(){app.LoginManager().StartLogin()},n}(o.Singleton);n.LaunchManager=p,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/MsgIDDefine":"MsgIDDefine","../Define/ShareDefine":"ShareDefine","../Define/TrackEventName":"TrackEventName",Http_commonConfig:"Http_commonConfig"}],LaunchScene:[function(e,t){"use strict";cc._RF.push(t,"e9a0c8pLjNG/L1EGd72cU4Y","LaunchScene");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Define/LanguageDefine"),i=e("../../Common/Define/EventWaitType"),a=e("../../Common/Base/BaseScene"),r=e("../../Common/Define/GameEventDefine"),s=e("../../Common/Define/HttpServerDefine"),c=e("../../Common/Define/UINameDefine"),p=e("../common/HotUpdate"),l=e("../../Common/Define/TrackEventName"),h=cc._decorator,d=h.ccclass,u=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelVersion=null,t.btn_service=null,t.loadState=0,t.lastState=-1,t}return __extends(t,e),t.prototype.OnLoadInit=function(){if(this.JS_Name="LaunchScene",this.Log("Onload"),this.hideBtnService(),app.ComTool().H5Platform()?this.setOrientationVertical():this.setOrientationHorizon(),this.RegEvent(r.GameEventDefine.INIT_FORM_TABLE,this.onInitFormTable),this.RegEvent(r.GameEventDefine.INIT_SelectRegion,this.onInitSelectRegion),this.RegEvent(r.GameEventDefine.INIT_TEXT,this.onInitText),this.RegEvent(r.GameEventDefine.GET_GAME_CONFIG_FAILED,this.onGameConfigFailed),this.RegEvent(r.GameEventDefine.HOT_UPDATE,this.onHotUpdate),this.RegEvent(r.GameEventDefine.CHECK_UPDATE_SUCCESS,this.onCheckUpdateSuccess),this.RegEvent(r.GameEventDefine.LOAD_RES_SUCCESS,this.onLoadResSuccess),this.RegEvent(r.GameEventDefine.LOGIN_IPLIMIT,this.onLoginIPLimit),this.RegEvent(r.GameEventDefine.REFRESH_LAUNCH,this.checkNetworkAvailable),this.RegEvent(r.GameEventDefine.START_LOAD_HALL,this.onHideService),this.RegEvent(r.GameEventDefine.SHOW_BTN_SUPPORT,this.showBtnService),this.RegHttpEvent(s.HttpAPI.GET_STOPGS_NOTICE,this.OnStopGSNotice),cc.sys.isBrowser){var e=document.getElementById("loading");e&&e.parentNode.removeChild(e),this.FullScreenColor()}},t.prototype.FullScreenColor=function(){app.IndexManager().setIndexHeadColorByNode()},t.prototype.update=function(){var e=this;if(this.loadState!=this.lastState)switch(this.lastState=this.loadState,this.loadState){case 0:app.EventTrackManager().LogEvent(l.default.LAUNCH_GAME_CONFIG_BEGIN),app.SysDataManager().InitTable();break;case 1:app.i18n.loadConfig().then(function(){app.LanguageManager().SetDefaultLanguage(),e.loadState=2}).catch(function(t){return e.ErrLog("loadConfig err",t)});break;case 2:var t,n=app.LanguageManager().GetLocalSelectRegion();if(1!=(t=1==channelIDGlobal?1:2)&&2!=t||n||(app.LanguageManager().SetSelectRegion(t),n=t),n)this.onInitSelectRegion();else if(1==isgoServer){var a=cc.loader.getXMLHttpRequest();a.open("POST","https://columbia.yotuwin.com/config/getipvist",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4==this.readyState)if(app.Client.OnEvent("ModalLayer",i.EventWaitType.ReceiveNet),200==this.status){var e=JSON.parse(a.responseText);0==e.code?"BR"==e.data.country?(app.LanguageManager().SetSelectRegion(1),app.LanguageManager().SetLanguage(o.default.ptpt),app.Client.OnEvent(r.GameEventDefine.INIT_SelectRegion)):"CO"==e.data.country?(app.LanguageManager().SetSelectRegion(2),app.LanguageManager().SetLanguage(o.default.eses),app.Client.OnEvent(r.GameEventDefine.INIT_SelectRegion)):app.FormManager().ShowForm(c.UINameDefine.UISelectRegion):(app.SysNotifyManager().ShowToast(e.data),app.FormManager().ShowForm(c.UINameDefine.UISelectRegion))}else app.FormManager().ShowForm(c.UINameDefine.UISelectRegion)},a.timeout=15e3,a.send(),app.Client.OnEvent("ModalLayer",i.EventWaitType.OpenNet)}break;case 3:this.StartGameLogic()}},t.prototype.onLoginIPLimit=function(e){app.FormManager().ShowForm(c.UINameDefine.UILimit,e)},t.prototype.onInitFormTable=function(){this.loadState=1},t.prototype.onInitSelectRegion=function(){app.LanguageManager().GetLocalSelectRegion(),1==app.LanguageManager().GetLocalSelectRegion()?(window.channelID=1,app.ClientConfigManager().GetGlobalConfig.hosts=[goServer_hosts1],app.ClientConfigManager().GetGlobalConfig.scheme=goServer_scheme1):(window.channelID=2,app.ClientConfigManager().GetGlobalConfig.hosts=[goServer_hosts2],app.ClientConfigManager().GetGlobalConfig.scheme=goServer_scheme2),this.loadState=3},t.prototype.OnClick=function(e){if(this.Log(e),"btn_service"==e){var t=app.GameConfigManager().GetGameConfig(),n=t&&t.kf_show&&t.kf_show.kf_chat_url?t.kf_show.kf_chat_url:app.ClientConfigManager().GetGlobalConfig.KEFU_URL;cc.sys.openURL(n)}},t.prototype.onHideService=function(){this.hideBtnService()},t.prototype.hideBtnService=function(){this.btn_service.active=!1},t.prototype.showBtnService=function(){this.btn_service.active=!0},t.prototype.start=function(){this.Log("start"),this.labelVersion.string=app.ClientConfigManager().GetVersion},t.prototype.StartGameLogic=function(){app.EventTrackManager().LogEvent(l.default.LAUNCH_START_END),app.Client.InitUILayer(),this.checkNetworkAvailable()},t.prototype.onGameConfigFailed=function(){this.showConfirmBox()},t.prototype.onHotUpdate=function(){this.node.getComponent(p.HotUpdate).hotUpdate(app.GameConfigManager().GetGameConfig().hu_url)},t.prototype.checkNetworkAvailable=function(){!cc.sys.isNative||app.NativeMgr().isNetworkAvailable()?app.LaunchManager().RequestGameConfig():this.showConfirmBox()},t.prototype.showConfirmBox=function(){app.FormManager().ShowForm(c.UINameDefine.UIFail)},t.prototype.onCheckUpdateSuccess=function(){app.TextManager().RequestTextInfoMore()},t.prototype.OnStopGSNotice=function(e){app.FormManager().ShowForm(c.UINameDefine.UILaunchNotice,e)},t.prototype.StartLogin=function(){app.LaunchManager().StartLogin()},t.prototype.onLoadResSuccess=function(){app.EventTrackManager().LogEvent(l.default.LAUNCH_LOAD_RES_END),this.StartLogin()},t.prototype.startRenderPercentTimer=function(){app.EventTrackManager().LogEvent(l.default.LAUNCH_LOAD_RES_BEGIN),app.ResManager().initAsync()},t.prototype.onInitText=function(){this.startRenderPercentTimer()},__decorate([u(cc.Label)],t.prototype,"labelVersion",void 0),__decorate([u(cc.Node)],t.prototype,"btn_service",void 0),__decorate([d],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseScene":"BaseScene","../../Common/Define/EventWaitType":"EventWaitType","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/HttpServerDefine":"HttpServerDefine","../../Common/Define/LanguageDefine":"LanguageDefine","../../Common/Define/TrackEventName":"TrackEventName","../../Common/Define/UINameDefine":"UINameDefine","../common/HotUpdate":"HotUpdate"}],LayoutUtil:[function(e,t){"use strict";cc._RF.push(t,"86ebeSa5PJK3YxuNP3y6Yg3","LayoutUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LayoutUtil=void 0;var o=function(){function e(){}return e.vertical_layout=function(e,t,n,o,i,a,r,s,c,p){return[e%o*t+i-r+c,-Math.floor(e/o)*n-a+s-p]},e.horizontal_layout=function(e,t,n,o,i,a,r,s,c,p){return[Math.floor(e/o)*t+i-r+c,-e%o*n-a+s-p]},e.vertical_center_layout=function(e,t,n,o,i,a,r,s,c){return[i-r+s,-a-(n-t*o)/2+c+e*o]},e.horizontal_center_layout=function(e,t,n,o,i,a,r,s,c){return[i+(n-t*o)/2+s+e*o,-a+r-c]},e.horizontal_Layout=function(e,t,n,o,i,a){return(o+a)*e+o*i-t*n},e}();n.LayoutUtil=o,t.exports=n,cc._RF.pop()},{}],LightningEffect:[function(e,t){"use strict";cc._RF.push(t,"0b747J5t1RHJYLZLLTPMk0Q","LightningEffect");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._BSwitch=!1,t.listenEvent=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"BSwitch",{get:function(){return this._BSwitch},set:function(e){this._BSwitch=e,this.updateMenu()},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="LightningEffect",e.handler="Callback",this.node.getComponent(cc.Button).clickEvents=[],this.node.getComponent(cc.Button).clickEvents.push(e)},t.prototype.updateMenu=function(){this.node.getChildByName("icon_turboOn").active=this.BSwitch,this.node.getChildByName("icon_turboOff").active=!this.BSwitch;var e=this.BSwitch?"TURBO":"OFF";this.node.getChildByName("label").getComponent(cc.Label).string=e,this.BSwitch?(this.schedule(this.lightNingPlay,1),this.schedule(this.lightblowup,4)):(this.unschedule(this.lightNingPlay),this.unschedule(this.lightblowup))},t.prototype.lightNingPlay=function(){var e=Math.round(2*Math.random()+1);this.node.getComponent(cc.Animation).playAdditive("turbo_shangdian"+e)},t.prototype.lightblowup=function(){this.node.getComponent(cc.Animation).playAdditive("turbo_shangdian4")},t.prototype.Callback=function(){this.BSwitch=!this.BSwitch,this.listenEvent&&this.listenEvent(this.BSwitch)},t.prototype.start=function(){},__decorate([i],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],ListIndicator:[function(e,t){"use strict";cc._RF.push(t,"4b65eknRf5EirRePp3QFEyc","ListIndicator");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setPageView=function(e){this._pageView=e,this._refresh()},t.prototype._changedState=function(){var e=this._indicators;if(0!==e.length){var t=this._pageView.curPageNum;if(!(t>=e.length)){for(var n=0;n<e.length;++n)e[n].opacity=127.5;e[t].opacity=255}}},t.prototype._refresh=function(){if(this._pageView){var e=this._indicators,t=this._pageView._numItems;if(t!==e.length){var n=0;if(t>e.length)for(n=0;n<t;++n)e[n]||(e[n]=this._createIndicator());else for(n=e.length-t;n>0;--n){var o=e[n-1];this.node.removeChild(o),e.splice(n-1,1)}this._layout&&this._layout.enabledInHierarchy&&this._layout.updateLayout(),this._changedState()}}},__decorate([i],t)}(cc.PageViewIndicator));n.default=a,t.exports=n,cc._RF.pop()},{}],ListItem:[function(e,t){"use strict";cc._RF.push(t,"41f31Hec1xFw4JPp8zVEZfR","ListItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=cc._decorator,r=a.ccclass,s=a.property,c=a.disallowMultiple,p=a.menu,l=a.executionOrder;(i=o||(o={}))[i.NONE=0]="NONE",i[i.TOGGLE=1]="TOGGLE",i[i.SWITCH=2]="SWITCH";var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.title=null,t.selectedMode=o.NONE,t.selectedFlag=null,t.selectedSpriteFrame=null,t._unselectedSpriteFrame=null,t.adaptiveSize=!1,t._selected=!1,t._eventReg=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case o.TOGGLE:this.selectedFlag.active=e;break;case o.SWITCH:var t=this.selectedFlag.getComponent(cc.Sprite);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(this.selectedMode==o.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=e.spriteFrame}},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},t.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},t.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},t.prototype.createEvt=function(e,t,n){if(void 0===n&&(n=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var o=new cc.Component.EventHandler;return o.target=n||e.node,o.component=e.comName,o.handler=t,o}},t.prototype.showAni=function(e,t,n){var o,i=this;switch(e){case 0:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{y:2*i.node.height});break;case 1:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{x:2*i.node.width});break;case 2:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{y:-2*i.node.height});break;case 3:o=cc.tween(i.node).to(.2,{scale:.7}).by(.3,{x:-2*i.node.width});break;default:o=cc.tween(i.node).to(.3,{scale:.1})}(t||n)&&o.call(function(){if(n){i.list._delSingleItem(i.node);for(var e=i.list.displayData.length-1;e>=0;e--)if(i.list.displayData[e].id==i.listId){i.list.displayData.splice(e,1);break}}t()}),o.start()},t.prototype.onClickThis=function(){this.list.selectedId=this.listId},__decorate([s({type:cc.Sprite})],t.prototype,"icon",void 0),__decorate([s({type:cc.Node})],t.prototype,"title",void 0),__decorate([s({type:cc.Enum(o)})],t.prototype,"selectedMode",void 0),__decorate([s({type:cc.Node,visible:function(){return this.selectedMode>o.NONE}})],t.prototype,"selectedFlag",void 0),__decorate([s({type:cc.SpriteFrame,visible:function(){return this.selectedMode==o.SWITCH}})],t.prototype,"selectedSpriteFrame",void 0),__decorate([s({})],t.prototype,"adaptiveSize",void 0),__decorate([r,c(),p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),l(-5001)],t)}(cc.Component);n.default=h,t.exports=n,cc._RF.pop()},{}],ListView:[function(e,t){"use strict";cc._RF.push(t,"56c6dvtdAtKprfg7qhzvZQf","ListView");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ListViewDir=n.ListView=void 0;var o,i,a=e("../Base/BaseClass"),r=e("./LayoutUtil"),s=function(e){function t(t,n){void 0===n&&(n=3);var i=e.call(this)||this;i._selected_index=-1,i.top=0,i.left=0,i.delayTime=0,i.refreshTime=0,i.params=t,i.scrollview=t.scrollview,i.node=i.scrollview.node,i.mask=t.mask,i.content=t.content||i.scrollview.content;var a=i.content.getComponent(cc.Layout);if(a&&(a.enabled=!1),i.item_tpl=cc.instantiate(t.item_tpl),!i.item_tpl)return i.ErrLog("\u6ca1\u6709\u521d\u59cb\u5316\u5b50\u8282\u70b9"),i;t.component&&i.item_tpl.addComponent(t.component),0!=i.top&&i.content.removeAllChildren(),i.item_width=i.item_tpl.width,i.item_height=i.item_tpl.height,i.offset_x=i.item_tpl.anchorX*i.item_width,i.offset_y=(1-i.item_tpl.anchorY)*i.item_height,i.dir=t.direction||(i.scrollview.horizontal?o.Horizontal:o.Vertical),i.reHeightAndWidth(),i.gap_x=t.gap_x||a&&a.spacingX||0,i.gap_y=t.gap_y||a&&a.spacingY||0,i.row=t.row||1,i.col=t.column||1,i.cb_host=t.cb_host,i.item_setter=t.item_setter,i.recycle_cb=t.recycle_cb,i.select_cb=t.select_cb,i.select_setter=t.select_setter,i.scroll_to_end_cb=t.scroll_to_end_cb,i.scroll_to_top_cb=t.scroll_to_top_cb,i.bounce_end_cb=t.bounce_end_cb,i.bounce_top_cb=t.bounce_top_cb,i.scroll_to_ended=t.scroll_to_ended,i.auto_scrolling=t.auto_scrolling||!1,i.node_pool=new cc.NodePool,i._datas=[],i.items=[],i.top=t.top||a&&a.paddingTop||0,i.left=t.left||a&&a.paddingLeft||0,i.lackCenter=!!t.lackCenter,i.autoAnimation=!!t.autoAnimation;var r=i.item_tpl.getComponentInChildren(cc.Animation)&&t.autoAnimation,s=i.item_tpl.getComponentsInChildren("AnimationDelay");i.delayTime=s.length>0?s[0].delay:r?.1:0;for(var c=0;c<n;c++)i.node_pool.put(cc.instantiate(i.item_tpl));if(i.dir==o.Vertical){var p=(i.item_width+i.gap_x)*i.col-i.gap_x+i.left;p>i.width&&(i.SysLog("real width > width, resize scrollview to realwidth,",i.width,"->",p),i.width=p),i.content.width=i.width,i.contentOffset_x=i.content.anchorX*i.width}else{var l=(i.item_height+i.gap_y)*i.row-i.gap_y+i.top;l>i.height&&(i.SysLog("real height > height, resize scrollview to realheight,",i.height,"->",l),i.height=l),i.content.height=i.height,i.contentOffset_y=(1-i.content.anchorY)*i.height}return i.scrollview.node.setContentSize(i.width,i.height),i.scrollview.vertical=i.dir==o.Vertical,i.scrollview.horizontal=i.dir==o.Horizontal,i.scrollview.inertia=!0,i.scrollview.node.on("scrolling",i.on_scrolling,i),i.scrollview.vertical&&(i.scrollview.node.on("bounce-top",i.on_bounce_top,i),i.scrollview.node.on("bounce-bottom",i.on_bounce_end,i),i.scrollview.node.on("scroll-to-top",i.on_scroll_to_top,i),i.scrollview.node.on("scroll-to-bottom",i.on_scroll_to_end,i)),i.scrollview.horizontal&&(i.scrollview.node.on("bounce-left",i.on_bounce_top,i),i.scrollview.node.on("bounce-right",i.on_bounce_end,i),i.scrollview.node.on("scroll-to-left",i.on_scroll_to_top,i),i.scrollview.node.on("scroll-to-right",i.on_scroll_to_end,i)),i.scrollview.node.on("scroll-ended",i.on_scroll_ended,i),i.mask.on("size-changed",i.on_mask_size_changed,i),i}return __extends(t,e),t.prototype.SetJSName=function(e){this.JS_Name="ListView"+e},t.prototype.on_mask_size_changed=function(){this.reHeightAndWidth(),this.resize_content(),this.layout_items(0),this.render_items()},t.prototype.on_scroll_to_top=function(){this.scroll_to_top_cb&&this.scroll_to_top_cb.call(this.cb_host)},t.prototype.on_scroll_to_end=function(){this.scroll_to_end_cb&&this.scroll_to_end_cb.call(this.cb_host)},t.prototype.on_bounce_top=function(){this.bounce_top_cb&&this.bounce_top_cb.call(this.cb_host)},t.prototype.on_bounce_end=function(){this.bounce_end_cb&&this.bounce_end_cb.call(this.cb_host)},t.prototype.on_scroll_ended=function(){this.scroll_to_ended&&this.scroll_to_ended.call(this.cb_host)},t.prototype.on_scrolling=function(){if(this.items&&this.items.length)if(this.dir==o.Vertical){var e=this.content.y;e<-this.contentOffset_y+this.maskOffset_y&&(e=-this.contentOffset_y+this.maskOffset_y),e>-this.contentOffset_y+this.maskOffset_y+this.content.height-this.height&&(e=-this.contentOffset_y+this.maskOffset_y+this.content.height-this.height);for(var t=0,n=this.items.length-1,i=(a=-e+this.maskOffset_y)-this.height;this.items[t].y-(this.item_height-this.offset_y)>a;)t++;for(;this.items[n].y+this.offset_y<i;)n--;t==this._start_index&&n==this._stop_index||(this._start_index=t,this._stop_index=n,this.render_items())}else{var a,r=this.content.x;for(r>this.contentOffset_x-this.maskOffset_x&&(r=this.contentOffset_x-this.maskOffset_x),r<this.contentOffset_x-this.maskOffset_x-this.content.width+this.width&&(r=this.contentOffset_x-this.maskOffset_x-this.content.width+this.width),t=0,n=this.items.length-1,i=(a=-r-this.maskOffset_x)+this.width;this.items[t].x+(this.item_width-this.offset_x)<a;)t++;for(;this.items[n].x-this.offset_x>i;)n--;t==this._start_index&&n==this._stop_index||(this._start_index=t,this._stop_index=n,this.render_items())}},t.prototype.select_item=function(e){e!=this._selected_index&&(-1!=this._selected_index&&this.inner_select_item(this._selected_index,!1),this.inner_select_item(e,!0))},t.prototype.cancel_select_item=function(){-1!=this._selected_index&&(this.inner_select_item(this._selected_index,!1),this._selected_index=-1)},t.prototype.inner_select_item=function(e,t){var n=this.items[e];if(n){n.is_select=t;try{n.node&&this.select_setter&&this.select_setter.call(this.cb_host,n.node,t,e)}catch(o){console.error("err",o)}t&&(this._selected_index=e,this.select_cb&&this.select_cb.call(this.cb_host,n.data,e))}else this.WarnLog("inner_select_item index is out of range{",0,this.items.length-1,"}",e)},t.prototype.spawn_node=function(){var e=this.node_pool.get();return e||(e=cc.instantiate(this.item_tpl)),e.active=!0,e.parent=this.content,e},t.prototype.recycle_node=function(e){if(e.node){if(cc.isValid(e.node)){this.recycle_cb&&this.recycle_cb.call(this.cb_host,e.node);var t=e.node.getComponentsInChildren(cc.Animation);if(t.length>0&&t[0].getAnimationState(t[0].defaultClip.name).isPlaying)return e.node.destroy(),void this.clear_item(e);this.node_pool.put(e.node),this.clear_item(e)}}else this.clear_item(e)},t.prototype.clear_item=function(e){e.node=null,e.createId&&(clearTimeout(e.createId),e.createId=0)},t.prototype.render_items=function(){for(var e,t=this,n=0;n<this._start_index;n++)(e=this.items[n]).node&&this.recycle_node(e);for(n=this.items.length-1;n>this._stop_index;n--)(e=this.items[n]).node&&this.recycle_node(e);if(-1!=this._start_index||-1!=this._stop_index)for(var o=this._start_index;o<=this._stop_index;o++)if((e=this.items[o]).node)e.node.setPosition(e.x,e.y);else if(!e.createId)if(cc.sys.browserType!=cc.sys.BROWSER_TYPE_WECHAT){var i=this.refreshTime+(e.index+1)*this.delayTime*1e3-Date.now();if(i>0){var a=setTimeout(function(e,n){try{if(n.node=e.spawn_node(n.index),n.node.setPosition(n.x,n.y),!n.node.activeInHierarchy)return;var o=n.node.getComponentsInChildren(cc.Animation);if(o.length>0&&t.autoAnimation){var i=o[0],a=i.node.getComponent(cc.Button);a&&(a.interactable=!1,i.once("finished",function(){a.interactable=!0},t)),i.play()}e.item_setter.call(e.cb_host,n.node,n.data,n.index),e.select_setter&&e.select_setter.call(e.cb_host,n.node,n.is_select,n.index)}catch(r){t.ErrLog("e",r)}n.createId=0},i,this,e);e.createId=Number(a)}else{try{e.node=this.spawn_node(e.index),e.node.setPosition(e.x,e.y),(r=e.node.getComponentsInChildren(cc.Animation)).length>0&&this.autoAnimation&&(-i/1e3<(s=r[0]).defaultClip.duration?(s.play(),s.setCurrentTime(-i/1e3)):(s.play(),s.setCurrentTime(s.defaultClip.duration))),this.item_setter.call(this.cb_host,e.node,e.data,e.index),this.select_setter&&this.select_setter.call(this.cb_host,e.node,e.is_select,e.index)}catch(c){this.ErrLog("e",c)}e.createId=0}}else try{var r,s;(r=e.node.getComponentsInChildren(cc.Animation)).length>0&&this.autoAnimation&&((s=r[0]).play(),s.setCurrentTime(s.defaultClip.duration)),e.node=this.spawn_node(e.index),e.node.setPosition(e.x,e.y),this.item_setter.call(this.cb_host,e.node,e.data,e.index),this.select_setter&&this.select_setter.call(this.cb_host,e.node,e.is_select,e.index)}catch(c){this.ErrLog("e",c)}},t.prototype.pack_item=function(e){return{index:0,x:0,y:0,data:e,node:null,is_select:!1,createId:0}},t.prototype.layout_items=function(e){for(var t,n,i,a,s=this.items.length,c=e,p=s;c<p;c++){var l=this.items[c];l.index=c,this.isDefaultCenter&&this.lackCenter&&(this.dir==o.Vertical&&1==this.col||this.dir==o.Horizontal&&1==this.row)?this.dir==o.Vertical?(t=r.LayoutUtil.vertical_center_layout(c,s,this.content.height,this.item_height+this.gap_y,this.offset_x,this.offset_y,this.contentOffset_x,this.left,this.top),l.x=t[0],l.y=t[1]):(n=r.LayoutUtil.horizontal_center_layout(c,s,this.content.width,this.item_width+this.gap_x,this.offset_x,this.offset_y,this.contentOffset_y,this.left,this.top),l.x=n[0],l.y=n[1]):this.dir==o.Vertical?(i=r.LayoutUtil.vertical_layout(c,this.item_width+this.gap_x,this.item_height+this.gap_y,this.col,this.offset_x,this.offset_y,this.contentOffset_x,this.contentOffset_y,this.left,this.top),l.x=i[0],l.y=i[1]):(a=r.LayoutUtil.horizontal_layout(c,this.item_width+this.gap_x,this.item_height+this.gap_y,this.row,this.offset_x,this.offset_y,this.contentOffset_x,this.contentOffset_y,this.left,this.top),l.x=a[0],l.y=a[1])}},t.prototype.resize_content=function(){var e=this.items.length;if(e<=0)return this.content.width=this.width,this.content.height=this.height,this.contentOffset_x=this.content.anchorX*this.width,void(this.contentOffset_y=(1-this.content.anchorY)*this.height);if(this.dir==o.Vertical){var t=Math.ceil(e/this.col);this.isDefaultCenter=this.height>t*this.item_height+(t-1)*this.gap_y+this.top,this.content.height=Math.max(this.height,t*this.item_height+(t-1)*this.gap_y+this.top),this.contentOffset_y=(1-this.content.anchorY)*this.content.height}else{var n=Math.ceil(e/this.row);this.isDefaultCenter=this.width>n*this.item_width+(n-1)*this.gap_x+this.left,this.content.width=Math.max(this.width,n*this.item_width+(n-1)*this.gap_x+this.left),this.contentOffset_x=this.content.anchorX*this.content.width}},t.prototype.reHeightAndWidth=function(){this.width=this.params.width||this.mask.width,this.height=this.params.height||this.mask.height,this.maskOffset_x=this.mask.anchorX*this.width,this.maskOffset_y=(1-this.mask.anchorY)*this.height},t.prototype.clear_items=function(){var e=this;this.cancel_select_item(),this.items&&this.items.forEach(function(t){e.recycle_node(t)}),this.items=[],this._datas=[]},t.prototype.set_data=function(e,t){var n=this;void 0===t&&(t=!0),this.clear_items(),this._datas=e,e.forEach(function(e){var t=n.pack_item(e);n.items.push(t)}),this.resize_content(),this.layout_items(0),this._start_index=-1,this._stop_index=-1,t&&(this.refreshTime=Date.now(),this.dir==o.Vertical?this.content.y=-this.contentOffset_y+this.maskOffset_y:this.content.x=this.contentOffset_x-this.maskOffset_x),this.items.length>0&&this.on_scrolling()},t.prototype.insert_data=function(e){for(var t,n,o=this,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(0!=i.length)if(this.items||(this.items=[]),this._datas||(this._datas=[]),e<0||e>this.items.length)this.WarnLog("invalid index",e);else{var r=e==this.items.length,s=[];i.forEach(function(e){var t=o.pack_item(e);s.push(t)}),(t=this._datas).splice.apply(t,__spreadArrays([e,0],i)),(n=this.items).splice.apply(n,__spreadArrays([e,0],s)),this.resize_content(),this.layout_items(0),this._start_index=-1,this._stop_index=-1,this.auto_scrolling&&r&&this.scroll_to_end(),this.on_scrolling()}},t.prototype.remove_data=function(e,t){var n=this;if(void 0===t&&(t=1),this.items)if(e<0||e>=this.items.length)this.WarnLog("invalid index",e);else if(t<1)this.SysLog("nothing to remove");else{var o=this.items.splice(e,t);this._datas.splice(e,t),o.forEach(function(e){n.recycle_node(e)}),this.resize_content(),this.layout_items(0),this.items.length>0&&(this._start_index=-1,this._stop_index=-1,this.on_scrolling())}else this.SysLog("call set_data before call this method")},t.prototype.append_data=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.items||(this.items=[]),this.insert_data.apply(this,__spreadArrays([this.items.length],e))},t.prototype.scroll_to=function(e,t){if(void 0===t&&(t=0),e=cc.misc.clampf(e,0,this.items.length-1),this.dir==cc.Layout.AxisDirection.VERTICAL){if(this.height-this.content.height>=0)return void this.SysLog("no need to scroll");this.scrollview.stopAutoScroll();var n=this.contentOffset_y-(this.items[e].y+this.offset_y);n=cc.misc.clampf(n,0,this.scrollview.getMaxScrollOffset().y),this.scrollview.scrollToOffset(cc.v2(0,n),t),this.on_scrolling()}else{if(this.content.width-this.width<=0)return void this.SysLog("no need to scroll");this.scrollview.stopAutoScroll();var o=this.contentOffset_x+(this.items[e].x-this.offset_x);o=cc.misc.clampf(o,0,this.scrollview.getMaxScrollOffset().x),this.scrollview.scrollToOffset(cc.v2(o,0),t),this.on_scrolling()}},t.prototype.checkInContent=function(e){e=Math.min(this.items.length-1,e);var t=this.items[e];return Boolean(t.node)},t.prototype.scroll_to_end=function(e){void 0===e&&(e=0),this.dir==o.Vertical?this.scrollview.scrollToBottom(e):this.scrollview.scrollToRight(e),this.on_scrolling()},t.prototype.scroll_to_top=function(){this.dir==o.Vertical?this.scrollview.scrollToTop():this.scrollview.scrollToLeft(),this.on_scrolling()},t.prototype.stopAutoScroll=function(){this.scrollview.stopAutoScroll()},t.prototype.refresh_items=function(){this.on_scrolling()},t.prototype.refresh_item=function(e,t){if(this.items)if(e<0||e>=this.items.length)this.WarnLog("invalid index",e);else{var n=this.items[e];if(n.data=t,this._datas[e]=t,n.node)try{this.recycle_cb&&this.recycle_cb.call(this.cb_host,n.node),this.item_setter.call(this.cb_host,n.node,n.data,e)}catch(o){this.ErrLog("e",o)}}else this.SysLog("call set_data before call this method")},t.prototype.destroy=function(){this.item_setter=null,this.select_setter=null,this.recycle_cb=null,this.select_cb=null,this.clear_items(),this.node_pool&&this.node_pool.clear(),this.node_pool=null,this.items=null,this._datas=null,cc.isValid(this.scrollview.node)&&(this.scrollview.node.off("scrolling",this.on_scrolling,this),this.scrollview.node.off("bounce-top",this.on_bounce_top,this),this.scrollview.node.off("bounce-bottom",this.on_bounce_end,this),this.scrollview.node.off("scroll-to-top",this.on_scroll_to_top,this),this.scrollview.node.off("scroll-to-bottom",this.on_scroll_to_end,this),this.scrollview.node.off("bounce-left",this.on_bounce_top,this),this.scrollview.node.off("bounce-right",this.on_bounce_end,this),this.scrollview.node.off("scroll-to-left",this.on_scroll_to_top,this),this.scrollview.node.off("scroll-to-right",this.on_scroll_to_end,this),this.mask.off("size-changed",this.on_mask_size_changed,this))},Object.defineProperty(t.prototype,"datas",{get:function(){return this._datas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected_index",{get:function(){return this._selected_index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected_data",{get:function(){var e=this.items[this._selected_index];return e?e.data:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start_index",{get:function(){return this._start_index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stop_index",{get:function(){return this._stop_index},enumerable:!1,configurable:!0}),t}(a.BaseClass);n.ListView=s,(i=o=n.ListViewDir||(n.ListViewDir={}))[i.Vertical=1]="Vertical",i[i.Horizontal=2]="Horizontal",t.exports=n,cc._RF.pop()},{"../Base/BaseClass":"BaseClass","./LayoutUtil":"LayoutUtil"}],List:[function(e,t){"use strict";cc._RF.push(t,"cb712YKcqtMCK7ahyU18khu","List");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a,r,s=cc._decorator,c=s.ccclass,p=s.property,l=s.disallowMultiple,h=s.menu,d=s.executionOrder,u=s.requireComponent,_=e("./ListIndicator"),m=e("./ListItem");(r=o||(o={}))[r.NODE=1]="NODE",r[r.PREFAB=2]="PREFAB",function(e){e[e.NORMAL=1]="NORMAL",e[e.ADHERING=2]="ADHERING",e[e.PAGE=3]="PAGE"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULT=2]="MULT"}(a||(a={}));var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=o.NODE,t.tmpNode=null,t.tmpPrefab=null,t._slideMode=i.NORMAL,t.pageDistance=.3,t.pageChangeEvent=new cc.Component.EventHandler,t.indicator=null,t._virtual=!0,t.cyclic=!1,t.lackCenter=!1,t.lackSlide=!1,t._updateRate=0,t.frameByFrameRenderNum=0,t.renderEvent=new cc.Component.EventHandler,t.selectedMode=a.NONE,t.repeatEventSingle=!1,t.selectedEvent=new cc.Component.EventHandler,t._selectedId=-1,t._forceUpdate=!1,t._updateDone=!0,t._numItems=0,t._inited=!1,t._needUpdateWidget=!1,t._aniDelRuning=!1,t._doneAfterUpdate=!1,t.adhering=!1,t._adheringBarrier=!1,t.curPageNum=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"slideMode",{get:function(){return this._slideMode},set:function(e){this._slideMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},set:function(e){null!=e&&(this._virtual=e),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateRate",{get:function(){return this._updateRate},set:function(e){e>=0&&e<=6&&(this._updateRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedId",{get:function(){return this._selectedId},set:function(e){var t,n=this;switch(n.selectedMode){case a.SINGLE:if(!n.repeatEventSingle&&e==n._selectedId)return;t=n.getItemByListId(e);var o=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=e,t&&((o=t.getComponent(m.default)).selected=!0),n._lastSelectedId>=0&&n._lastSelectedId!=n._selectedId){var i=n.getItemByListId(n._lastSelectedId);i&&(i.getComponent(m.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],t,e%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems);break;case a.MULT:if(!(t=n.getItemByListId(e)))return;o=t.getComponent(m.default),n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=e;var r=!o.selected;o.selected=r;var s=n.multSelected.indexOf(e);r&&s<0?n.multSelected.push(e):!r&&s>=0&&n.multSelected.splice(s,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],t,e%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(e){var t=this;if(t.checkInited(!1))if(null==e||e<0)cc.error("numItems set the wrong::",e);else if(t._actualNumItems=t._numItems=e,t._forceUpdate=!0,t._virtual)t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems),t._onScrolling(),t.frameByFrameRenderNum||t.slideMode!=i.PAGE||(t.curPageNum=t.nearestListId),t._slideMode==i.PAGE&&t.indicator&&t.indicator._refresh();else{t.cyclic&&(t._resizeContent(),t._numItems=t._cyclicNum*t._numItems);var n=t.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),t._delRedundantItem(),t.firstListId=0,t.frameByFrameRenderNum>0){for(var o=t.frameByFrameRenderNum>t._numItems?t._numItems:t.frameByFrameRenderNum,a=0;a<o;a++)t._createOrUpdateItem2(a);t.frameByFrameRenderNum<t._numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else{for(a=0;a<t._numItems;a++)t._createOrUpdateItem2(a);t.displayItemNum=t._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._init()},t.prototype.onDestroy=function(){var e=this;cc.isValid(e._itemTmp)&&e._itemTmp.destroy(),cc.isValid(e.tmpNode)&&e.tmpNode.destroy(),e._pool&&e._pool.clear()},t.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},t.prototype.onDisable=function(){this._unregisterEvent()},t.prototype._registerEvent=function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.on("touch-up",e._onTouchUp,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.on("scroll-began",e._onScrollBegan,e,!0),e.node.on("scroll-ended",e._onScrollEnded,e,!0),e.node.on("scrolling",e._onScrolling,e,!0),e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._unregisterEvent=function(){var e=this;e.node.off(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.off("touch-up",e._onTouchUp,e),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.off("scroll-began",e._onScrollBegan,e,!0),e.node.off("scroll-ended",e._onScrollEnded,e,!0),e.node.off("scrolling",e._onScrolling,e,!0),e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._init=function(){var e=this;if(!e._inited)if(e._scrollView=e.node.getComponent(cc.ScrollView),e.content=e._scrollView.content,e.content){switch(e._layout=e.content.getComponent(cc.Layout),e._align=e._layout.type,e._resizeMode=e._layout.resizeMode,e._startAxis=e._layout.startAxis,e._topGap=e._layout.paddingTop,e._rightGap=e._layout.paddingRight,e._bottomGap=e._layout.paddingBottom,e._leftGap=e._layout.paddingLeft,e._columnGap=e._layout.spacingX,e._lineGap=e._layout.spacingY,e._colLineNum,e._verticalDir=e._layout.verticalDirection,e._horizontalDir=e._layout.horizontalDirection,e.setTemplateItem(cc.instantiate(e.templateType==o.PREFAB?e.tmpPrefab:e.tmpNode)),e._slideMode!=i.ADHERING&&e._slideMode!=i.PAGE||(e._scrollView.inertia=!1,e._scrollView._onMouseWheel=function(){},e._slideMode==i.PAGE&&e.indicator&&e.indicator.setPageView(this)),e.virtual||(e.lackCenter=!1),e._lastDisplayData=[],e.displayData=[],e._pool=new cc.NodePool,e._forceUpdate=!1,e._updateCounter=0,e._updateDone=!0,e.curPageNum=0,e.cyclic&&(e._scrollView._processAutoScrolling=this._processAutoScrolling.bind(e),e._scrollView._startBounceBackIfNeeded=function(){return!1}),e._align){case cc.Layout.Type.HORIZONTAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}}}e.content.removeAllChildren(),e._inited=!0}else cc.error(e.node.name+"'s cc.ScrollView unset content!")},t.prototype._processAutoScrolling=function(e){this._scrollView._autoScrollAccumulatedTime+=1*e;var t=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var n=t-1;t=n*n*n*n*n+1}var o=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)),i=this._scrollView.getScrollEndedEventTiming(),a=Math.abs(t-1)<=i;Math.abs(t-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),a&&(this._scrollView._autoScrolling=!1);var r=o.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(r),a),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},t.prototype.setTemplateItem=function(e){if(e){var t=this;t._itemTmp=e,t._resizeMode==cc.Layout.ResizeMode.CHILDREN?t._itemSize=t._layout.cellSize:t._itemSize=cc.size(e.width,e.height);var n=e.getComponent(m.default),o=!1;switch(n||(o=!0),o&&(t.selectedMode=a.NONE),(n=e.getComponent(cc.Widget))&&n.enabled&&(t._needUpdateWidget=!0),t.selectedMode==a.MULT&&(t.multSelected=[]),t._align){case cc.Layout.Type.HORIZONTAL:t._colLineNum=1,t._sizeType=!1;break;case cc.Layout.Type.VERTICAL:t._colLineNum=1,t._sizeType=!0;break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=t.content.width-t._leftGap-t._rightGap;t._colLineNum=Math.floor((i+t._columnGap)/(t._itemSize.width+t._columnGap)),t._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=t.content.height-t._topGap-t._bottomGap;t._colLineNum=Math.floor((r+t._lineGap)/(t._itemSize.height+t._lineGap)),t._sizeType=!1}}}},t.prototype.checkInited=function(e){return void 0===e&&(e=!0),!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},t.prototype._resizeContent=function(){var e,t=this;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t._customSize){var n=t._getFixedSize(null);e=t._leftGap+n.val+t._itemSize.width*(t._numItems-n.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:t._customSize?(n=t._getFixedSize(null),e=t._topGap+n.val+t._itemSize.height*(t._numItems-n.count)+t._lineGap*(t._numItems-1)+t._bottomGap):e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=Math.ceil(t._numItems/t._colLineNum);e=t._topGap+t._itemSize.height*o+t._lineGap*(o-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var i=Math.ceil(t._numItems/t._colLineNum);e=t._leftGap+t._itemSize.width*i+t._columnGap*(i-1)+t._rightGap}}var a=t.content.getComponent(cc.Layout);if(a&&(a.enabled=!1),t._allItemSize=e,t._allItemSizeNoEdge=t._allItemSize-(t._sizeType?t._topGap+t._bottomGap:t._leftGap+t._rightGap),t.cyclic){var r=t._sizeType?t.node.height:t.node.width;t._cyclicPos1=0,r-=t._cyclicPos1,t._cyclicNum=Math.ceil(r/t._allItemSizeNoEdge)+1;var s=t._sizeType?t._lineGap:t._columnGap;t._cyclicPos2=t._cyclicPos1+t._allItemSizeNoEdge+s,t._cyclicAllItemSize=t._allItemSize+t._allItemSizeNoEdge*(t._cyclicNum-1)+s*(t._cyclicNum-1),t._cycilcAllItemSizeNoEdge=t._allItemSizeNoEdge*t._cyclicNum,t._cycilcAllItemSizeNoEdge+=s*(t._cyclicNum-1)}t._lack=!t.cyclic&&t._allItemSize<(t._sizeType?t.node.height:t.node.width);var c=t._lack&&t.lackCenter||!t.lackSlide?.1:0,p=t._lack?(t._sizeType?t.node.height:t.node.width)-c:t.cyclic?t._cyclicAllItemSize:t._allItemSize;p<0&&(p=0),t._sizeType?t.content.height=p:t.content.width=p},t.prototype._onScrolling=function(e){if(void 0===e&&(e=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&e&&"scroll-ended"!=e.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var t=this.content.getPosition();t=this._sizeType?t.y:t.x;var n=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),o=this._sizeType?cc.v2(0,n):cc.v2(n,0);switch(this._alignCalcType){case 1:t>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o))):t<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o)));break;case 2:t<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o))):t>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o)));break;case 3:t<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o))):t>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o)));break;case 4:t>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o))):t<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o)))}}var i,a,r,s;if(this._calcViewPos(),this._sizeType?(i=this.viewTop,r=this.viewBottom):(a=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,p=0,l=this._numItems-1;if(this._customSize)for(var h=!1;p<=l&&!h;p++)switch(c=this._calcItemPos(p),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=s&&c.left<=a?this.displayData.push(c):0!=p&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=i&&c.top>=r?this.displayData.push(c):0!=p&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=i&&c.top>=r?this.displayData.push(c):0!=p&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=s&&c.left<=a?this.displayData.push(c):0!=p&&this.displayData.length>0&&(h=!0)}}else{var d=this._itemSize.width+this._columnGap,u=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:p=(s-this._leftGap)/d,l=(a-this._leftGap)/d;break;case 2:p=(-a-this._rightGap)/d,l=(-s-this._rightGap)/d;break;case 3:p=(-i-this._topGap)/u,l=(-r-this._topGap)/u;break;case 4:p=(r-this._bottomGap)/u,l=(i-this._bottomGap)/u}for(p=Math.floor(p)*this._colLineNum,l=Math.ceil(l)*this._colLineNum,p<0&&(p=0),--l>=this._numItems&&(l=this._numItems-1);p<=l;p++)this.displayData.push(this._calcItemPos(p))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var _=this._lastDisplayData.length,m=this.displayItemNum!=_;if(m&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(e,t){return e-t}),m=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[_-1]),this._forceUpdate||m)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var g=0;g<this.displayItemNum;g++)this._createOrUpdateItem(this.displayData[g]);this._forceUpdate=!1}this._calcNearestItem()}}},t.prototype._calcViewPos=function(){var e=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=e.x>0?e.x:0,this.viewLeft=(e.x<0?-e.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=e.x<0?-e.x:0,this.viewRight=(e.x>0?-e.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=e.y<0?Math.abs(e.y):0,this.viewTop=(e.y>0?-e.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=e.y>0?Math.abs(e.y):0,this.viewBottom=(e.y<0?-e.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},t.prototype._calcItemPos=function(e){var t,n,o,i,a,r,s,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var p=this._getFixedSize(e);a=this._leftGap+(this._itemSize.width+this._columnGap)*(e-p.count)+(p.val+this._columnGap*p.count),t=(l=this._customSize[e])>0?l:this._itemSize.width}else a=this._leftGap+(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;return this.lackCenter&&(a-=this._leftGap,a+=this.content.width/2-this._allItemSizeNoEdge/2),{id:e,left:a,right:r=a+t,x:a+this._itemTmp.anchorX*t,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(p=this._getFixedSize(e),r=-this._rightGap-(this._itemSize.width+this._columnGap)*(e-p.count)-(p.val+this._columnGap*p.count),t=(l=this._customSize[e])>0?l:this._itemSize.width):(r=-this._rightGap-(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width),this.lackCenter&&(r+=this._rightGap,r-=this.content.width/2-this._allItemSizeNoEdge/2),{id:e,right:r,left:a=r-t,x:a+this._itemTmp.anchorX*t,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(p=this._getFixedSize(e),o=-this._topGap-(this._itemSize.height+this._lineGap)*(e-p.count)-(p.val+this._lineGap*p.count),n=(l=this._customSize[e])>0?l:this._itemSize.height):(o=-this._topGap-(this._itemSize.height+this._lineGap)*e,n=this._itemSize.height),this.lackCenter&&(o+=this._topGap,o-=this.content.height/2-this._allItemSizeNoEdge/2),{id:e,top:o,bottom:i=o-n,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var l;return this._customSize?(p=this._getFixedSize(e),i=this._bottomGap+(this._itemSize.height+this._lineGap)*(e-p.count)+(p.val+this._lineGap*p.count),n=(l=this._customSize[e])>0?l:this._itemSize.height):(i=this._bottomGap+(this._itemSize.height+this._lineGap)*e,n=this._itemSize.height),this.lackCenter&&(i-=this._bottomGap,i+=this.content.height/2-this._allItemSizeNoEdge/2),{id:e,top:o=i+n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var h=Math.floor(e/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(i=(o=-this._topGap-(this._itemSize.height+this._lineGap)*h)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:o=(i=this._bottomGap+(this._itemSize.height+this._lineGap)*h)+this._itemSize.height,c=i+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+e%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:e,top:o,bottom:i,x:s,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:r=(a=this._leftGap+(this._itemSize.width+this._columnGap)*h)+this._itemSize.width,s=a+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(a=(r=-this._rightGap-(this._itemSize.width+this._columnGap)*h)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-e%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:e,left:a,right:r,x:s,y:c}}}},t.prototype._calcExistItemPos=function(e){var t=this.getItemByListId(e);if(!t)return null;var n={id:e,x:t.x,y:t.y};return this._sizeType?(n.top=t.y+t.height*(1-t.anchorY),n.bottom=t.y-t.height*t.anchorY):(n.left=t.x-t.width*t.anchorX,n.right=t.x+t.width*(1-t.anchorX)),n},t.prototype.getItemPos=function(e){return this._virtual?this._calcItemPos(e):this.frameByFrameRenderNum?this._calcItemPos(e):this._calcExistItemPos(e)},t.prototype._getFixedSize=function(e){if(!this._customSize)return null;null==e&&(e=this._numItems);var t=0,n=0;for(var o in this._customSize)parseInt(o)<e&&(t+=this._customSize[o],n++);return{val:t,count:n}},t.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},t.prototype._onScrollEnded=function(){var e=this;if(e.curScrollIsTouch=!1,null!=e.scrollToListId){var t=e.getItemByListId(e.scrollToListId);e.scrollToListId=null,t&&cc.tween(t).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}e._onScrolling(),e._slideMode!=i.ADHERING||e.adhering?e._slideMode==i.PAGE&&(null!=e._beganPos&&e.curScrollIsTouch?this._pageAdhere():e.adhere()):e.adhere()},t.prototype._onTouchStart=function(e,t){if(!this._scrollView.hasNestedViewGroup(e,t)&&(this.curScrollIsTouch=!0,e.eventPhase!==cc.Event.AT_TARGET||e.target!==this.node)){for(var n=e.target;null==n._listId&&n.parent;)n=n.parent;this._scrollItem=null!=n._listId?n:e.target}},t.prototype._onTouchUp=function(){var e=this;e._scrollPos=null,e._slideMode==i.ADHERING?(this.adhering&&(this._adheringBarrier=!0),e.adhere()):e._slideMode==i.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()),this._scrollItem=null},t.prototype._onTouchCancelled=function(e,t){var n=this;n._scrollView.hasNestedViewGroup(e,t)||e.simulate||(n._scrollPos=null,n._slideMode==i.ADHERING?(n.adhering&&(n._adheringBarrier=!0),n.adhere()):n._slideMode==i.PAGE&&(null!=n._beganPos?n._pageAdhere():n.adhere()),this._scrollItem=null)},t.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},t.prototype._onItemAdaptive=function(e){if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var t=this._sizeType?e.height:e.width;this._customSize[e._listId]!=t&&(this._customSize[e._listId]=t,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},t.prototype._pageAdhere=function(){var e=this;if(e.cyclic||!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){var t=e._sizeType?e.viewTop:e.viewLeft,n=(e._sizeType?e.node.height:e.node.width)*e.pageDistance;if(Math.abs(e._beganPos-t)>n)switch(e._alignCalcType){case 1:case 4:e._beganPos>t?e.prePage(.5):e.nextPage(.5);break;case 2:case 3:e._beganPos<t?e.prePage(.5):e.nextPage(.5)}else e.elasticTop<=0&&e.elasticRight<=0&&e.elasticBottom<=0&&e.elasticLeft<=0&&e.adhere();e._beganPos=null}},t.prototype.adhere=function(){var e=this;if(e.checkInited()&&!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){e.adhering=!0,e._calcNearestItem();var t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width);e.scrollTo(e.nearestListId,.7,t)}},t.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++){var n=this.displayData[t];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==i.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(e=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++)this._createOrUpdateItem2(t);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==i.PAGE&&(this.curPageNum=this.nearestListId)},t.prototype._createOrUpdateItem=function(e){var t=this.getItemByListId(e.id);if(t)this._forceUpdate&&this.renderEvent&&(t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems));else{var n=this._pool.size()>0;if(t=n?this._pool.get():cc.instantiate(this._itemTmp),n&&cc.isValid(t)||(t=cc.instantiate(this._itemTmp),n=!1),t._listId!=e.id&&(t._listId=e.id,t.setContentSize(this._itemSize)),t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.content.addChild(t),n&&this._needUpdateWidget){var o=t.getComponent(cc.Widget);o&&o.updateAlignment()}t.setSiblingIndex(this.content.childrenCount-1);var i=t.getComponent(m.default);t.listItem=i,i&&(i.listId=e.id,i.list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems)}this._resetItemSize(t),this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e.id)<0&&this._lastDisplayData.push(e.id)},t.prototype._createOrUpdateItem2=function(e){var t,n=this.content.children[e];n?this._forceUpdate&&this.renderEvent&&(n._listId=e,t&&(t.listId=e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,e%this._actualNumItems)):((n=cc.instantiate(this._itemTmp))._listId=e,this.content.addChild(n),t=n.getComponent(m.default),n.listItem=t,t&&(t.listId=e,t.list=this,t._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,e%this._actualNumItems)),this._updateListItem(t),this._lastDisplayData.indexOf(e)<0&&this._lastDisplayData.push(e)},t.prototype._updateListItem=function(e){if(e&&this.selectedMode>a.NONE){var t=e.node;switch(this.selectedMode){case a.SINGLE:e.selected=this.selectedId==t._listId;break;case a.MULT:e.selected=this.multSelected.indexOf(t._listId)>=0}}},t.prototype._resetItemSize=function(){},t.prototype._updateItemPos=function(e){var t=isNaN(e)?e:this.getItemByListId(e),n=this.getItemPos(t._listId);t.setPosition(n.x,n.y)},t.prototype.setMultSelected=function(e,t){var n=this;if(n.checkInited()){if(Array.isArray(e)||(e=[e]),null==t)n.multSelected=e;else{var o=void 0,i=void 0;if(t)for(var a=e.length-1;a>=0;a--)o=e[a],(i=n.multSelected.indexOf(o))<0&&n.multSelected.push(o);else for(a=e.length-1;a>=0;a--)o=e[a],(i=n.multSelected.indexOf(o))>=0&&n.multSelected.splice(i,1)}n._forceUpdate=!0,n._onScrolling()}},t.prototype.getMultSelected=function(){return this.multSelected},t.prototype.hasMultSelected=function(e){return this.multSelected&&this.multSelected.indexOf(e)>=0},t.prototype.updateItem=function(e){if(this.checkInited()){Array.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++){var o=e[t],i=this.getItemByListId(o);i&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,o%this._actualNumItems)}}},t.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},t.prototype.getItemByListId=function(e){if(this.content)for(var t=this.content.childrenCount-1;t>=0;t--){var n=this.content.children[t];if(n._listId==e)return n}},t.prototype._getOutsideItem=function(){for(var e,t=[],n=this.content.childrenCount-1;n>=0;n--)e=this.content.children[n],this.displayData.find(function(t){return t.id==e._listId})||t.push(e);return t},t.prototype._delRedundantItem=function(){if(this._virtual)for(var e=this._getOutsideItem(),t=e.length-1;t>=0;t--){var n=e[t];if(!this._scrollItem||n._listId!=this._scrollItem._listId){n.isCached=!0,this._pool.put(n);for(var o=this._lastDisplayData.length-1;o>=0;o--)if(this._lastDisplayData[o]==n._listId){this._lastDisplayData.splice(o,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},t.prototype._delSingleItem=function(e){e.removeFromParent(),e.destroy&&e.destroy(),e=null},t.prototype.aniDelItem=function(e,t,n){var o=this;if(!o.checkInited()||o.cyclic||!o._virtual)return cc.error("This function is not allowed to be called!");if(!t)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(o._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var i,r=o.getItemByListId(e);if(r){i=r.getComponent(m.default),o._aniDelRuning=!0,o._aniDelCB=t,o._aniDelItem=r,o._aniDelBeforePos=r.position,o._aniDelBeforeScale=r.scale;var s=o.displayData[o.displayData.length-1].id,c=i.selected;i.showAni(n,function(){var n,i,p;if(s<o._numItems-2&&(n=s+1),null!=n){var l=o._calcItemPos(n);o.displayData.push(l),o._virtual?o._createOrUpdateItem(l):o._createOrUpdateItem2(n)}else o._numItems--;if(o.selectedMode==a.SINGLE)c?o._selectedId=-1:o._selectedId-1>=0&&o._selectedId--;else if(o.selectedMode==a.MULT&&o.multSelected.length){var h=o.multSelected.indexOf(e);h>=0&&o.multSelected.splice(h,1);for(var d=o.multSelected.length-1;d>=0;d--)(m=o.multSelected[d])>=e&&o.multSelected[d]--}if(o._customSize){o._customSize[e]&&delete o._customSize[e];var u={},_=void 0;for(var m in o._customSize){_=o._customSize[m];var g=parseInt(m);u[g-(g>=e?1:0)]=_}o._customSize=u}for(d=null!=n?n:s;d>=e+1;d--)if(r=o.getItemByListId(d)){var f=o._calcItemPos(d-1);i=cc.tween(r).to(.2333,{position:cc.v2(f.x,f.y)}),d<=e+1&&(p=!0,i.call(function(){o._aniDelRuning=!1,t(e),delete o._aniDelCB})),i.start()}p||(o._aniDelRuning=!1,t(e),o._aniDelCB=null)},!0)}else t(e)},t.prototype.scrollTo=function(e,t,n,o){void 0===t&&(t=.5),void 0===n&&(n=null),void 0===o&&(o=!1);var i=this;if(i.checkInited(!1)){null==t?t=.5:t<0&&(t=0),e<0?e=0:e>=i._numItems&&(e=i._numItems-1),!i._virtual&&i._layout&&i._layout.enabled&&i._layout.updateLayout();var a,r,s=i.getItemPos(e);if(!s)return!1;switch(i._alignCalcType){case 1:a=s.left,a-=null!=n?i.node.width*n:i._leftGap,s=cc.v2(a,0);break;case 2:a=s.right-i.node.width,a+=null!=n?i.node.width*n:i._rightGap,s=cc.v2(a+i.content.width,0);break;case 3:r=s.top,r+=null!=n?i.node.height*n:i._topGap,s=cc.v2(0,-r);break;case 4:r=s.bottom+i.node.height,r-=null!=n?i.node.height*n:i._bottomGap,s=cc.v2(0,-r+i.content.height)}var c=i.content.getPosition();c=Math.abs(i._sizeType?c.y:c.x);var p=i._sizeType?s.y:s.x;Math.abs((null!=i._scrollPos?i._scrollPos:c)-p)>.5&&(i._scrollView.scrollToOffset(s,t),i._scrollToListId=e,i._scrollToEndTime=(new Date).getTime()/1e3+t,i._scrollToSo=i.scheduleOnce(function(){if(i._adheringBarrier||(i.adhering=i._adheringBarrier=!1),i._scrollPos=i._scrollToListId=i._scrollToEndTime=i._scrollToSo=null,o){var t=i.getItemByListId(e);t&&cc.tween(t).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},t+.1),t<=0&&i._onScrolling())}},t.prototype._calcNearestItem=function(){var e,t,n,o,i,a,r=this;r.nearestListId=null,r._virtual&&r._calcViewPos(),n=r.viewTop,o=r.viewRight,i=r.viewBottom,a=r.viewLeft;for(var s=!1,c=0;c<r.content.childrenCount&&!s;c+=r._colLineNum)if(e=r._virtual?r.displayData[c]:r._calcExistItemPos(c))switch(t=r._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,r._alignCalcType){case 1:e.right>=a&&(r.nearestListId=e.id,a>t&&(r.nearestListId+=r._colLineNum),s=!0);break;case 2:e.left<=o&&(r.nearestListId=e.id,o<t&&(r.nearestListId+=r._colLineNum),s=!0);break;case 3:e.bottom<=n&&(r.nearestListId=e.id,n<t&&(r.nearestListId+=r._colLineNum),s=!0);break;case 4:e.top>=i&&(r.nearestListId=e.id,i>t&&(r.nearestListId+=r._colLineNum),s=!0)}if((e=r._virtual?r.displayData[r.displayItemNum-1]:r._calcExistItemPos(r._numItems-1))&&e.id==r._numItems-1)switch(t=r._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,r._alignCalcType){case 1:o>t&&(r.nearestListId=e.id);break;case 2:a<t&&(r.nearestListId=e.id);break;case 3:i<t&&(r.nearestListId=e.id);break;case 4:n>t&&(r.nearestListId=e.id)}},t.prototype.prePage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,e)},t.prototype.nextPage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,e)},t.prototype.skipPage=function(e,t){void 0===t&&(t=.5);var n=this;if(n.checkInited())return n._slideMode!=i.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(e<0||e>=n._numItems||n.curPageNum!=e&&(n.curPageNum=e,n.indicator&&n.indicator._changedState(),n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],e),n.scrollTo(e,t)))},t.prototype.calcCustomSize=function(e){var t=this;if(t.checkInited()){if(!t._itemTmp)return cc.error("Unset template item!");if(!t.renderEvent)return cc.error("Unset Render-Event!");t._customSize={};var n=cc.instantiate(t._itemTmp);t.content.addChild(n);for(var o=0;o<e;o++)cc.Component.EventHandler.emitEvents([t.renderEvent],n,o),n.height==t._itemSize.height&&n.width==t._itemSize.width||(t._customSize[o]=t._sizeType?n.height:n.width);return Object.keys(t._customSize).length||(t._customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),t._customSize}},__decorate([p({type:cc.Enum(o)})],t.prototype,"templateType",void 0),__decorate([p({type:cc.Node,visible:function(){return this.templateType==o.NODE}})],t.prototype,"tmpNode",void 0),__decorate([p({type:cc.Prefab,visible:function(){return this.templateType==o.PREFAB}})],t.prototype,"tmpPrefab",void 0),__decorate([p()],t.prototype,"_slideMode",void 0),__decorate([p({type:cc.Enum(i)})],t.prototype,"slideMode",null),__decorate([p({type:cc.Float,range:[0,1,.1],slide:!0,visible:function(){return this._slideMode==i.PAGE}})],t.prototype,"pageDistance",void 0),__decorate([p({type:cc.Component.EventHandler,visible:function(){return this._slideMode==i.PAGE}})],t.prototype,"pageChangeEvent",void 0),__decorate([p({type:_.default,visible:function(){return this._slideMode==i.PAGE}})],t.prototype,"indicator",void 0),__decorate([p()],t.prototype,"_virtual",void 0),__decorate([p({type:cc.Boolean})],t.prototype,"virtual",null),__decorate([p({visible:function(){var e=this.slideMode==i.NORMAL;return e||(this.cyclic=!1),e}})],t.prototype,"cyclic",void 0),__decorate([p({visible:function(){return this.virtual}})],t.prototype,"lackCenter",void 0),__decorate([p({visible:function(){var e=this.virtual&&!this.lackCenter;return e||(this.lackSlide=!1),e}})],t.prototype,"lackSlide",void 0),__decorate([p({type:cc.Integer})],t.prototype,"_updateRate",void 0),__decorate([p({type:cc.Integer,range:[0,6,1],slide:!0})],t.prototype,"updateRate",null),__decorate([p({type:cc.Integer,range:[0,12,1],slide:!0})],t.prototype,"frameByFrameRenderNum",void 0),__decorate([p({type:cc.Component.EventHandler})],t.prototype,"renderEvent",void 0),__decorate([p({type:cc.Enum(a)})],t.prototype,"selectedMode",void 0),__decorate([p({visible:function(){return this.selectedMode==a.SINGLE}})],t.prototype,"repeatEventSingle",void 0),__decorate([p({type:cc.Component.EventHandler,visible:function(){return this.selectedMode>a.NONE}})],t.prototype,"selectedEvent",void 0),__decorate([p({serializable:!1})],t.prototype,"_numItems",void 0),__decorate([c,l(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),u(cc.ScrollView),d(-5e3)],t)}(cc.Component);n.default=g,t.exports=n,cc._RF.pop()},{"./ListIndicator":"ListIndicator","./ListItem":"ListItem"}],LoadTextManager:[function(e,t){"use strict";cc._RF.push(t,"419fcXEDzNLt5nl8HEj2J3O","LoadTextManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadTextManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._loadTextList=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="LoadTextManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_LOADTEXTLIST,this.OnGetloadTextList,this)},t.prototype.RequestloadTextList=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_LOADTEXTLIST,{})},t.prototype.OnGetloadTextList=function(e){this._loadTextList=e,app.Client.OnEvent(i.GameEventDefine.FINISH_LOADTEXTLIST)},t.prototype.OnGetLanguageList=function(){this.RequestloadTextList()},t.prototype.GetloadTextList=function(){return this._loadTextList},t}(o.Singleton);n.LoadTextManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine"}],LocalDataManager:[function(e,t){"use strict";cc._RF.push(t,"fdee5X6eQpKqKB1IhXgANdQ","LocalDataManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LocalDataManager=void 0;var o=e("../Base/Singleton"),i={SysSetting:{BackMusic:0,BackVolume:1,SpSound:1,SpVolume:1,Language2:"",ShieldShake:!1,LastResVersion:"1.0"},AccountInfo:{},DebugInfo:{},ServerInfo:{LastConnectedHostIndex:0},LocalInfo:{agentID:"",ajtrackerName:"",firstInstall:!0},FavoriteGame:{}},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="LocalDataManager",this.Log("Init"),this.InitDataDict=i},t.prototype.InitConfig=function(){var e=cc.sys.localStorage;e.setItem("testStorage","1");var t=e.getItem("testStorage");for(var n in t?(cc.sys.localStorage.CanUse=1,e.removeItem("testStorage")):(cc.sys.localStorage.CanUse=0,this.ErrLog("cant use sys.localStorage")),this.InitDataDict){var o=this.InitDataDict[n];for(var i in o)this.HaveConfigProperty(n,i)||this.SetConfigProperty(n,i,o[i])}},t.prototype.SetConfigProperty=function(e,t,n){var o={};if(cc.sys.localStorage.CanUse){var i=cc.sys.localStorage.getItem(e);(o=i?JSON.parse(i):{})[t]=n,cc.sys.localStorage.setItem(e,JSON.stringify(o))}else{if(!(o=this.InitDataDict[e]))return this.ErrLog("SetConfigProperty not find(%s)",e),!1;o[t]=n}return!0},t.prototype.GetConfigProperty=function(e,t){e=e.toString();var n={};if(cc.sys.localStorage.CanUse){var o=cc.sys.localStorage.getItem(e);o&&(n=JSON.parse(o))}else n=this.InitDataDict[e],this.ErrLog("GetConfigProperty fail, configName:%s option:%s is not find",e,t);if(n)return n.hasOwnProperty(t)?n[t]:(this.ErrLog("configInfo",n),void this.ErrLog("GetConfigProperty fail, not find the option:%s",t));this.ErrLog("GetConfigProperty(%s,%s)",e,t)},t.prototype.HaveConfigProperty=function(e,t){var n=cc.sys.localStorage.getItem(e);return!!n&&!!(n=JSON.parse(n)).hasOwnProperty(t)},t.prototype.Remove=function(e){cc.sys.localStorage.removeItem(e)},t.prototype.GetConfigObject=function(e){if(e=e.toString(),cc.sys.localStorage.CanUse){var t=cc.sys.localStorage.getItem(e);if(t)return JSON.parse(t)}return null},t.prototype.SetConfigObject=function(e,t){return e=e.toString(),cc.sys.localStorage.CanUse?(cc.sys.localStorage.setItem(e,JSON.stringify(t)),!0):(this.ErrLog("SetConfigObject Error"),!1)},t}(o.Singleton);n.LocalDataManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],LocalizedLabel:[function(e,t){"use strict";cc._RF.push(t,"ccb6b5ZEz9CVrJsJ0GBQvrT","LocalizedLabel");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=o.executeInEditMode,s=o.menu,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dataID="",t._debouncedUpdateLabel=null,t.label=null,t.opt=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"dataID",{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.fetchRender()},t.prototype.onEnable=function(){this.fetchRender()},t.prototype.fetchRender=function(){var e=this.getComponent(cc.Label)||this.getComponent(cc.RichText);if(e)return this.label=e,void this.updateLabel()},t.prototype.updateLabel=function(){if(this.label&&cc.isValid(this.label)){var e=app.i18n.t(this.dataID,this.opt);e&&""!=e&&(this.label.string=e)}else cc.warn("Failed to update localized label, label component is invalid!")},t.prototype.setT=function(e,t){this.opt=t,this.dataID=e,this.updateLabel()},__decorate([a],t.prototype,"_dataID",void 0),__decorate([a],t.prototype,"dataID",null),__decorate([i,s("i18n/LocalizedLabel"),r],t)}(cc.Component);n.default=c,t.exports=n,cc._RF.pop()},{}],LocalizedSpritelogo:[function(e,t){"use strict";cc._RF.push(t,"aabd8lUVUVNsqmKAUtkADoE","LocalizedSpritelogo");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SpriteFrameSet"),i=cc._decorator,a=i.ccclass,r=i.property,s=i.executeInEditMode,c=(i.inspector,i.menu),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrameSet=[],t.sprite=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.fetchRender()},t.prototype.fetchRender=function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(channelIDGlobal)},t.prototype.getSpriteFrameByLang=function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language==e)return this.spriteFrameSet[t].spriteFrame;return null},t.prototype.updateSprite=function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),t&&(this.sprite.spriteFrame=t)}else cc.error("Failed to update localized sprite, sprite component is invalid! ===>>")},__decorate([r([o.SpriteFrameSet])],t.prototype,"spriteFrameSet",void 0),__decorate([a,c("i18n/LocalizedSpritelogo"),s],t)}(cc.Component);n.default=p,t.exports=n,cc._RF.pop()},{"./SpriteFrameSet":"SpriteFrameSet"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"06212JGUMFODp5z67dpvAgH","LocalizedSprite");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SpriteFrameSet"),i=cc._decorator,a=i.ccclass,r=i.property,s=i.executeInEditMode,c=(i.inspector,i.menu),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrameSet=[],t.sprite=null,t}return __extends(t,e),t.prototype.onEnable=function(){this.fetchRender()},t.prototype.fetchRender=function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(app.i18n.getCurLang())},t.prototype.getSpriteFrameByLang=function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame;return null},t.prototype.updateSprite=function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),t&&(this.sprite.spriteFrame=t)}else cc.error("Failed to update localized sprite, sprite component is invalid! ===>>")},__decorate([r([o.SpriteFrameSet])],t.prototype,"spriteFrameSet",void 0),__decorate([a,c("i18n/LocalizedSprite"),s],t)}(cc.Component);n.default=p,t.exports=n,cc._RF.pop()},{"./SpriteFrameSet":"SpriteFrameSet"}],LogManager:[function(e,t){"use strict";cc._RF.push(t,"d2acejdqeJFe43dvWtN9tAu","LogManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LogManager=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logFilePath="",t.id=0,t.debugLogList=[],t.sendLogList=[],t.outPutLogList=[],t.isOpenLog=!1,t}return __extends(t,e),t.prototype.Init=function(){this.HookLogs()},t.prototype.HookLogs=function(){var e=this,t=console.log,n=console.info;cc.log=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e.isOpenLog&&(t.apply(e,n),e.AddSysLog(n,"log"))},cc.syslog=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.isOpenLog&&(n.apply(e,t),e.AddSysLog(t,"info"))};var o=console.warn;cc.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.isOpenLog&&(o.apply(e,t),e.AddSysLog(t,"warn"))};var i=console.error;cc.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.isOpenLog&&(i.apply(e,t),e.AddSysLog(t,"error"))}},t.prototype.GetMsg=function(e){for(var t=e.length,n=1;n<t;n++){var o=e[n];if(o){var i=Object.prototype.toString.call(o).slice("[object ".length,-1);if("Array"==i)o=JSON.stringify(o);else if("Object"==i){var a=[];o=JSON.stringify(o,function(e,t){if("object"==typeof t&&null!==t){if(-1!==a.indexOf(t))return;a.push(t)}return t}),a=null}e[n]=o}}return cc.js.formatStr.apply(null,e)},t.prototype.AddSysLog=function(e,t){if(this.isOpenLog||"error"==t){var n="";try{n=this.GetMsg(e)}catch(o){cc.error("error:%s",o.stack),n="AddSysLog error"}this.id+=1,this.sendLogList.push([n,t,this.id]),this.outPutLogList.push([n,t,this.id]),this.debugLogList.push([n,t,this.id])}},t.prototype.IsOpenLog=function(e){this.isOpenLog=e},t.prototype.GetNowDateTimeStr=function(){for(var e="",t=new Date,n=[t.getFullYear(),t.getMonth()+1,t.getDate()],o=0;o<n.length;o++){var i=n[o].toString();parseInt(i)<10&&(i="0"+i),o!=n.length-1?e+=i+"-":e+=i}return e},t.prototype.OutPutLog=function(){if(cc.sys.isNative){for(var e=(new Date).toLocaleString(),t="",n=0,o=this.outPutLogList.length-1;n<=o;n++){var i=this.outPutLogList[n][1],a=this.outPutLogList[n][2];t+="error"==i?[e,"\t["+a,"]\t###",this.outPutLogList[n][0],"\n"].join(""):[e,"\t["+a,"]\t",this.outPutLogList[n][0],"\n"].join("")}if(t){this.outPutLogList=[];var r=jsb.fileUtils;if(!this.logFilePath){var s=r.getWritablePath();if(!s)return;this.logFilePath=s+"Log/"}r.isDirectoryExist(this.logFilePath)||r.createDirectory(this.logFilePath);var c=this.GetNowDateTimeStr(),p=[this.logFilePath,c,".txt"].join("");r.writeStringToFile(t,p)}}},t.prototype.GetReportMsgList=function(){for(var e=[],t=0,n=this.sendLogList.length-1;t<=n;t++)if("error"==this.sendLogList[t][1]){var o=this.sendLogList[t][0].split("\n");e.push(o[0]),o.length>1&&e.push(o[1])}return this.sendLogList=[],e},t.prototype.ClearLogMsgList=function(){this.debugLogList=[]},t.prototype.GetDebugMsgList=function(e){return e||(e=this.debugLogList.length),this.debugLogList.splice(0,e)},t}(e("../Base/Singleton").Singleton);n.LogManager=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],LoginManager:[function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"f9fb1tIVnNMXLHNpdUzQxRm","LoginManager");var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.LoginManager=a.websiteTypeArr=void 0;var r=e("../../script/common/room_mode_tool"),s=e("../Base/Singleton"),c=e("../Define/GameEventDefine"),p=e("../Define/HttpServerDefine"),l=e("../Define/TrackEventName"),h=e("../Net/MsgEventDefine"),d=e("../Define/ShareDefine"),u=e("../Define/UINameDefine"),_=e("../Base/BaseRoomDefine");a.websiteTypeArr=["Gmail","Outlook","zoho","HubSpot","pepipost"];var m=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e._AreaCode=null,e.newPaw=null,e.newCode=null,e.isFormLogin=!1,e.isLoginAnimPlay=!1,e.userAuth=null,e.reconRoomMode=0,e.isVerification=!1,e}return __extends(o,t),o.prototype.Init=function(){this.JS_Name="LoginManager",this.Log("Init"),app.HttpServerManager().RegNetPack(p.HttpAPI.GET_AREA_CODES,this.OnGetAreaCodes,this),app.HttpServerManager().RegNetPack(p.HttpAPI.LOGIN_LOGIN,this.OnLogin,this),app.HttpServerManager().RegNetPack(p.HttpAPI.LOGIN_REGISTER,this.OnLoginRegister,this),app.HttpServerManager().RegNetPack(p.HttpAPI.RESET_PASSWORD,this.OnResetPassword,this),app.HttpServerManager().RegNetPack(p.HttpAPI.VISITOR_LOGIN,this.OnVisitorLogin,this),app.HttpServerManager().RegNetPack(p.HttpAPI.THIRD_LOGIN,this.OnThirdLogin,this),app.HttpServerManager().RegNetPack(p.HttpAPI.EXPERIENCE_LOGIN,this.OnExperienceLogin,this),app.HttpServerManager().RegNetPack(p.HttpAPI.GET_ONLINE_NUM,this.OnOnlineNum,this),app.Client.RegEvent(c.GameEventDefine.FACEBOOK_LOGIN_SUCCESS,this.onFacebookLoginSuccess,this),app.Client.RegEvent(c.GameEventDefine.GOOGLE_LOGIN_SUCCESS,this.onGoogleLoginSuccess,this),app.Client.RegEvent(c.GameEventDefine.Telegram_LOGIN_SUCCESS,this.onTelegramLoginSuccess,this),app.Client.RegEvent(c.GameEventDefine.GO_GAME_SERVER_CONNECTED,this.OnGoGameServerConnected,this),app.GoServerManager().RegisterMsgHandler(_.BaseRoomDefine.UserAuth,this.OnUserAuth,this),app.GoServerManager().RegisterMsgHandler(_.BaseRoomDefine.UserKick,this.OnUserKick,this),cc.systemEvent.on(c.GameEventDefine.GAME_SERVER_CONNECTED,this.OnServerConnected,this),cc.systemEvent.on(h.default.EVENT_LOGIN,this.OnRspAccountInfo,this),cc.systemEvent.on(h.default.EVENT_LOGIN_FINISH,this.OnRespLoginFinish,this),cc.systemEvent.on(h.default.EVENT_LOGOUT,this.OnRespLogout,this),cc.systemEvent.on(h.default.EVENT_SELF_JOIN_ROOM,this.OnRespJoinRoom,this)},Object.defineProperty(o.prototype,"GetIsFormLogin",{get:function(){return this.isFormLogin},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"GetIsLoginAnimPlay",{get:function(){return this.isLoginAnimPlay},enumerable:!1,configurable:!0}),o.prototype.SetIsLoginAnimPlay=function(e){this.isLoginAnimPlay=e},o.prototype.SetIsFormLogin=function(e){this.isFormLogin=e},o.prototype.StartLogin=function(){this.VisitorLogin()},o.prototype.VisitorLogin=function(){if(""!=window.location.hash){for(var e,t={},o=n(new URLSearchParams(window.location.hash.substring(1)));!(e=o()).done;){var i=e.value,a=i[0],r=i[1];t[a]=r}if(t.tgWebAppData){var s=new URLSearchParams(t.tgWebAppData);s.sort();var p=s.get("hash"),l=s.get("start_param");l&&(app.ClientConfigManager().GetClientConfig.agentID=l),s.delete("hash");for(var h,d="",_={},m=n(s);!(h=m()).done;){var g=h.value,f=g[0],y=g[1];_[f]=y,d+="\n",d+=f,d+="=",d+=y}d=d.substring(1),t.tgWebAppData=_,t.tgWebAppData.user=JSON.parse(_.user),app.Client.OnEvent(c.GameEventDefine.Telegram_LOGIN_SUCCESS,{nickname:t.tgWebAppData.user.first_name+""+t.tgWebAppData.user.last_name,third_token:t.tgWebAppData.user.id,login_type:6,dataToCheck:d,hash:p})}else app.FormManager().IsFormShow(u.UINameDefine.UILoginSign)||app.HallManager().ShowHallForm(u.UINameDefine.UILoginSign,1)}else app.FormManager().IsFormShow(u.UINameDefine.UILoginSign)||app.HallManager().ShowHallForm(u.UINameDefine.UILoginSign,1)},o.prototype.OnVisitorLogin=function(e){app.EventTrackManager().LogEvent(l.default.VISITOR_LOGIN_END),this.SetUserInfoAndLoginGS(e)},o.prototype.OnThirdLogin=function(e){app.EventTrackManager().LogEvent(l.default.THIRD_LOGIN_END),this.SetUserInfoAndLoginGS(e)},o.prototype.ExperienceLogin=function(){app.EventTrackManager().LogEvent(l.default.EXERCISE_LOGIN_BEGIN);var e={uid:app.ClientConfigManager().getLocalUrlDataByName("uid")};this.AddLoginParam(e,1),app.HttpServerManager().SendHttpPack(p.HttpAPI.EXPERIENCE_LOGIN,e)},o.prototype.OnExperienceLogin=function(e){app.EventTrackManager().LogEvent(l.default.EXERCISE_LOGIN_END),this.SetUserInfoAndLoginGS(e)},o.prototype.GetDeviceID=function(){var e=cc.sys.localStorage.getItem("testID");if(null==e&&(e=app.ComTool().RandomGUID(),app.ComTool().CheckPlatform()&&(e=cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS?"H5_"+e:"PC_"+e),cc.sys.localStorage.setItem("testID",e)),app.ComTool().CheckPlatform()){var t=app.ClientConfigManager().getLocalUrlDataByName("token");t&&(e=t)}if(app.ComTool().IsAndroid()||app.ComTool().IsIOS()||app.ComTool().AndroidHybirdPlatform()){var n=app.NativeMgr().getDeviceId();n&&(e=n)}return e},o.prototype.RequestLogin=function(e){app.EventTrackManager().LogEvent(l.default.USER_LOGIN_BEGIN);var t=this.AddLoginParam(e);app.HttpServerManager().SendHttpPack(p.HttpAPI.LOGIN_LOGIN,t)},o.prototype.OnLogin=function(e,t){app.EventTrackManager().LogEvent(l.default.USER_LOGIN_END),app.Client.OnEvent(c.GameEventDefine.STOP_LOGIN_ANIM),e.code||this.setNewPawCode(t.password,t.area),this.SetUserInfoAndLoginGS(e)},o.prototype.GetChangePaw=function(e,t){this.setNewPawCode(t),this.TokenLogin(e)},o.prototype.setNewPawCode=function(e,t){this.newPaw=e,this.newCode=t},o.prototype.LoginSaveStorage=function(e){var t=this.getUserLoginCode();e.tel&&(t.phone_password=this.newPaw?this.newPaw:e.tel==t.phone_account?t.phone_password:"",t.phone_account=e.tel),e.account&&(t.mail_password=this.newPaw?this.newPaw:e.account==t.mail_account?t.mail_password:"",t.mail_account=e.account),t.code=this.newCode?this.newCode:t.code,this.setNewPawCode("",""),this.setUserLoginCode(t)},o.prototype.RequestRegister=function(e){app.EventTrackManager().LogEvent(l.default.USER_REGISTER_BEGIN);var t=this.AddLoginParam(e);app.HttpServerManager().SendHttpPack(p.HttpAPI.LOGIN_REGISTER,t)},o.prototype.OnLoginRegister=function(e,t){app.Client.OnEvent(c.GameEventDefine.STOP_LOGIN_ANIM),app.EventTrackManager().LogEvent(l.default.USER_REGISTER_END),e.code||this.setNewPawCode(t.pwd,t.area),this.SetUserInfoAndLoginGS(e)},o.prototype.TokenLogin=function(e){app.EventTrackManager().LogEvent(l.default.TOKEN_LOGIN_BEGIN);var t=this.AddLoginParam({token:e});app.UserManager().RequestUserInfo(t)},o.prototype.onFacebookLoginSuccess=function(e){app.EventTrackManager().LogEvent(l.default.THIRD_LOGIN_BEGIN);var t=e,n=this.AddLoginParam(t,4);app.HttpServerManager().SendHttpPack(p.HttpAPI.THIRD_LOGIN,n)},o.prototype.onGoogleLoginSuccess=function(e){var t=e,n=this.AddLoginParam(t);app.HttpServerManager().SendHttpPack(p.HttpAPI.THIRD_LOGIN,n)},o.prototype.onTelegramLoginSuccess=function(e){var t=e,n=this.AddLoginParam(t);app.HttpServerManager().SendHttpPack(p.HttpAPI.THIRD_LOGIN,n)},o.prototype.AddLoginParam=function(e,t){e.click_id=app.ClientConfigManager().GetClientConfig.click_id,e.ttclid=app.ClientConfigManager().GetClientConfig.ttclid,e.channel_id=app.ClientConfigManager().GetClientConfig.channel_id,t&&(e.login_type=t),e.mainVer=app.ClientConfigManager().GetGlobalConfig.mainVer,e.subVer=app.ClientConfigManager().GetGlobalConfig.subVer,e.pkgName=app.ComTool().getPackageName(),e.nativeVer=app.NativeMgr().getApkVersion(),e.deviceid=this.GetDeviceID();var n=app.ClientConfigManager().GetClientConfig,o=n.agentID,i=n.gaid,a=n.ajtrackerName,r=n.aj_gaid;e.agentid=o,i&&(e.gaid=i),a&&(e.ajtrackerName=a),r&&(e.aj_gaid=r),cc.sys.platform&&(e.Type=cc.sys.platform),e.source="10",e.Type=cc.sys.platform,e.os=cc.sys.os,e.ioswebclip=1==Number(app.ClientConfigManager().getLocalUrlDataByName("ioswebclip"))?1:0,isgoServer?"undefined"!=typeof androidOther?e.isShell=2:window.matchMedia("(display-mode: standalone)").matches?e.isShell=1:e.isShell=0:e.isShell=app.ComTool().AndroidHybirdPlatform()?1:0,0==e.ioswebclip&&(e.ioswebclip=app.ComTool().getIosBrowserType()?1:0);var s=app.GoogleReCaptChaManager().Token;s&&(e.recaptcha=s);var c=app.ClientConfigManager().getLocalUrlDataByName("tj_task");c&&(e.tj_task=c);var p=app.ClientConfigManager().getLocalUrlDataByName("tj_oid");p&&(e.tj_oid=p);var l=app.ClientConfigManager().getLocalUrlDataByName("tj_sign");l&&(e.tj_sign=l);var h=app.ClientConfigManager().getLocalUrlDataByName("tj_did");h&&(e.tj_did=h);var d=app.ClientConfigManager().getLocalUrlDataByName("tj_code");return isgoServer&&(""==e.agentid&&(e.agentid="0"),e.password||(e.password=e.pwd)),d&&(e.agentid=d),e.pixelid=e.agentid,e},o.prototype.RequestAreaCodes=function(){app.HttpServerManager().SendHttpPack(p.HttpAPI.GET_AREA_CODES)},o.prototype.OnGetAreaCodes=function(e){this._AreaCode=e,app.Client.OnEvent(c.GameEventDefine.GET_AREA_CODES)},o.prototype.GetAreaCode=function(){return this._AreaCode},o.prototype.GetDefaultAreaCode=function(){return this._AreaCode?this._AreaCode[0]:null},o.prototype.Logout=function(){this.Log("Logout");var e=app.UserManager().GetQuestAccount();this.RemoveCurrentUser(),e?this.TokenLogin(e.token):this.VisitorLogin()},o.prototype.SetUserInfoAndLoginGS=function(t){var n=this;if(t.code!=d.ReqFailCode.IP_DEVICE_LIMIT){if(t.code==d.ReqFailCode.LOGIN_FAILED_VERIFICATION)return app.GoogleReCaptChaManager().showDiv(),void(this.isVerification=!0);if(isgoServer){if(t.channel){app.ClientConfigManager().GetClientConfig.channel_id=t.channel;var o=app.ClientConfigManager().GetClientConfig.TempChannelList;if(o){channelIDNewbieBonusShow=!1;for(var i=0;i<o.length;i++)o[i]==app.ClientConfigManager().GetClientConfig.channel_id&&(channelIDNewbieBonusShow=!0)}}t.user_config.show_arr||(t.user_config.show_arr=e("Http_login").user_config.show_arr),1==t.is_official_account?(t.is_official_account=0,t.third_token="",t.tel="",t.account="",t.email=""):t.is_official_account=1,0==t.is_bind_wallet?t.is_bind_wallet=!0:t.is_bind_wallet=!1,null==t.reg_time&&(t.reg_time="2004-05-17 19:05:10",t.reg_time=Math.floor(new Date(t.reg_time).getTime()/1e3)),app.GameConfigManager().GetGameConfig().FirstChargeUpgradeTimeAs=Math.floor(t.reg_time)+7200}else t.user_config.game_arr.push(1051);this.isVerification=!1,app.EventTrackManager().LogEvent(l.default.GET_USER_INFO),app.Client.Reload(),this.LoginSaveStorage(t),app.UserManager().SetUserInfo(t),app.Client.OnEvent(c.GameEventDefine.START_LOAD_HALL),app.GameManager().enterSceneByRoomMode(r.RoomMode.HALL,function(){app.Client.OnEvent(c.GameEventDefine.LOAD_HALL_SUCCESS);var e=app.ClientConfigManager().getLocalUrlDataByName("room_mod");n.Log("SetUserInfoAndLoginGS",e),e?app.HallManager().EnterRoomGame(Number(e)):n.reconRoomMode?n.ReconnectGame():n.userAuth?(app.RoomManager().LoadBundleAndRequestRoomInfo(n.userAuth.GameId,n.userAuth.RoomNo,n.userAuth.GameVenue),n.userAuth=null):app.ClientConfigManager().StartRouter(),app.EventTrackManager().LogEvent(l.default.AJ_CONSUMEEVENT)}),this.LoginGS(),Number(app.GameConfigManager().GetGameConfig().ngs_switch)&&this.LoginGoGs()}else app.LoginManager().VisitorLogin()},o.prototype.LoginGS=function(){app.EventTrackManager().LogEvent(l.default.LOGIN_GS_BEGIN);var e=app.GameConfigManager().GetGameServerUrl();app.GameServerManager().connect(e)},o.prototype.OnServerConnected=function(){app.EventTrackManager().LogEvent(l.default.LOGIN_GS_CONNECTED);var e=app.UserManager().GetUserInfo,t={headimg:e.headimg,gid:0,token:e.token,uid:e.uid,time:Math.ceil(Date.now()/1e3),sign:""};app.GameServerManager().send("req_login",t)},o.prototype.OnRspAccountInfo=function(e){cc.mg.global.gs_time_diff=Math.round(e.time-Date.now()/1e3),this.reconRoomMode=e.roomMode,app.UserManager().UpdateUserInfo(e)},o.prototype.OnRespLoginFinish=function(){app.EventTrackManager().LogEvent(l.default.LOGIN_GS_END),app.RedDotManager().RequestRecharge_InfoV2(),(app.GameManager().InHallScene||app.GameManager().InGameScene)&&this.ReconnectGame()},o.prototype.ReconnectGame=function(){if(!app.RoomManager().IsSingleGame){var e=this.reconRoomMode;return app.UserManager().UserInfo.roomMode||(app.UserManager().UserInfo.roomMode=this.reconRoomMode),this.reconRoomMode=0,e>1e4?(app.HallMessageCenter().startMonitorEvent(),void app.GameServerManager().send(app.GameServerManager().req_key_map.req_hall_info.key,{hall_id:e})):e>0?(app.RoomMessageCenter().startMonitorEvent(),void app.GameServerManager().send(app.GameServerManager().req_key_map.req_roominfo.key)):void 0}},o.prototype.LoginGoGs=function(){var e=app.GameConfigManager().GetGoGameServerUrl();app.GoServerManager().Connect(e)},o.prototype.OnGoGameServerConnected=function(){var e=app.UserManager().UserInfo,t={server_id:"1000",token:e.token,ip:e.ip};app.GoServerManager().SendMessage(_.BaseRoomDefine.UserAuth,t)},o.prototype.OnUserAuth=function(e){0===e.code?(this.Log("OnUserAuth: ",app.ComUtil().format_date(e.time)),app.GoServerManager().SetServerTimeOffset(e.time-Math.floor(Date.now()/1e3)),e.data&&e.data.GameId&&(this.userAuth=e.data,app.GameManager().InHallScene||app.RoomManager().GetCurRoomType==r.RoomType.GO_ROOM_HUNDRED)&&app.RoomManager().LoadBundleAndRequestRoomInfo(this.userAuth.GameId,this.userAuth.RoomNo,this.userAuth.GameVenue)):app.SysNotifyManager().ShowToast(e.msg)},o.prototype.OnRespLogout=function(e){switch(e.code){case 10010:this.KickOut("UI.System_43");break;case 10002:this.KickOut("UI.System_46");break;case 10011:break;case 10012:case 10100:case 10005:this.KickOut("UI.System_46");break;case 10001:case 10003:case 10004:default:app.ConfirmManager().ShowConfirm(d.ConfirmType.ConfirmOK,"Game Error: Eno: "+e.code,[],null)}},o.prototype.OnUserKick=function(e){this.KickOut("UI.System_43"),app.ConfirmManager().ShowConfirm(d.ConfirmType.ConfirmOK,"Game Error: Eno: "+e.Reason,[],null)},o.prototype.KickOut=function(e){var t=this;this.RemoveCurrentUser(),app.GameManager().enterSceneByRoomMode(r.RoomMode.HALL,function(){app.ConfirmManager().ShowConfirm(d.ConfirmType.ConfirmOK,e,[],function(){var e=app.UserManager().GetQuestAccount();e?(app.LoginManager().SetIsFormLogin(!0),app.LoginManager().TokenLogin(e.token)):t.ErrLog("GetQuestAccount error")})})},o.prototype.RemoveCurrentUser=function(){app.GameServerManager().closeNeedntConnect(),app.GoServerManager().CloseConnect(),app.UserManager().RemoveCurrentUser()},o.prototype.OnRespJoinRoom=function(e){0==e.code?(app.RoomMessageCenter().startMonitorEvent(),app.UserManager().GetUserInfo.room_no=e.room_no,app.UserManager().GetUserInfo.roomMode=e.room_mode,app.UserManager().GetUserInfo.room_no>0&&app.GameServerManager().send("req_roominfo")):30122==e.code?app.GameManager().InHallScene?app.ConfirmManager().ShowConfirm(d.ConfirmType.Confirm,app.i18n.t("UI.System_34"),null,function(){return app.ActivityManager().selectShop()}):app.ConfirmManager().ShowConfirm(d.ConfirmType.Confirm,app.i18n.t("UI.System_34"),null,function(){app.GameManager().enterSceneByRoomMode(r.RoomMode.HALL,function(){return app.ActivityManager().selectShop()})}):30123==e.code?app.SysNotifyManager().ShowToast("\u91d1\u5e01\u8d85\u8fc7\u4e0a\u9650"):30103==e.code?cc.log("do nothing"):app.GameManager().InHallScene?app.SysNotifyManager().ShowToast(e.msg):app.GameManager().enterSceneByRoomMode(r.RoomMode.HALL,function(){app.SysNotifyManager().ShowToast(e.msg)})},o.prototype.RequestResetPassword=function(e){app.HttpServerManager().SendHttpPack(p.HttpAPI.RESET_PASSWORD,e)},o.prototype.OnResetPassword=function(e,t){this.setNewPawCode(t.pwd,t.area),this.TokenLogin(e.token)},o.prototype.getUserLoginCode=function(){return 2==channelID?app.LocalDataManager().GetConfigObject("loginCode"+channelID)||{code:"57",mark:"",nation:"Colombia",phone_account:"",mail_account:"",phone_password:"",mail_password:""}:app.LocalDataManager().GetConfigObject("loginCode"+channelID)||{code:"55",mark:"",nation:"Brazil",phone_account:"",mail_account:"",phone_password:"",mail_password:""}},o.prototype.RequestOnlineNum=function(){app.HttpServerManager().SendHttpPack(p.HttpAPI.GET_ONLINE_NUM)},o.prototype.OnOnlineNum=function(e){app.Client.OnEvent(c.GameEventDefine.GET_ONLINE_NUM,e)},o.prototype.setUserLoginCode=function(e){app.LocalDataManager().SetConfigObject("loginCode"+channelID,e)},Object.defineProperty(o.prototype,"IsRememberPass",{get:function(){if(app.UserManager().UserInfo){var e=app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"LoginRememberPass");if(e)return e.isRememberPass}return!0},enumerable:!1,configurable:!0}),o.prototype.setLocalRememberPass=function(e){app.UserManager().UserInfo&&app.LocalDataManager().SetConfigObject(app.UserManager().UserInfo.uid+"LoginRememberPass",{isRememberPass:e})},Object.defineProperty(o.prototype,"GetIsVerification",{get:function(){return this.isVerification},enumerable:!1,configurable:!0}),o}(s.Singleton);a.LoginManager=m,t.exports=a,cc._RF.pop()},{"../../script/common/room_mode_tool":"room_mode_tool","../Base/BaseRoomDefine":"BaseRoomDefine","../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/ShareDefine":"ShareDefine","../Define/TrackEventName":"TrackEventName","../Define/UINameDefine":"UINameDefine","../Net/MsgEventDefine":"MsgEventDefine",Http_login:"Http_login"}],LoseWaiverManager:[function(e,t){"use strict";cc._RF.push(t,"3f13elrTlVBYoedfcrrVx/b","LoseWaiverManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LoseWaiverManager=void 0;var o=e("../../Define/ShareDefine"),i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DelayTime=0,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="LoseWaiverManager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.LOSEWAIVER,this.onLoseWaiverList,this),app.HttpServerManager().RegNetPack(r.HttpAPI.FREE_LOSE_GET,this.onGetFreeLose,this)},t.prototype.RequstFreeLose=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.FREE_LOSE_GET,{token:app.UserManager().GetUserInfo.token,tid:e})},t.prototype.onGetFreeLose=function(e){app.GoldRewardManager().FormGoldReward({gold:e.gold,source:app.i18n.t("UI_Reward")}),app.Client.OnEvent(a.GameEventDefine.LOSEWAIVER),app.RedDotManager().updateSingleData({type:o.RedDotStr.free_lose,bShow:!1}),this.RequestLoseWaiver()},t.prototype.RequestLoseWaiver=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.LOSEWAIVER,{token:app.UserManager().GetUserInfo.token})},t.prototype.onLoseWaiverList=function(e){this.LoseWaiverList=e,this.LoseWaiverList&&this.LoseWaiverList.length>0?this.DelayTime=1e3*this.LoseWaiverList[0].now_time-Date.now():this.DelayTime=0,app.Client.OnEvent(a.GameEventDefine.LOSEWLIST,e)},Object.defineProperty(t.prototype,"GetSeverTime",{get:function(){return Math.floor((Date.now()+this.DelayTime)/1e3)},enumerable:!1,configurable:!0}),t.prototype.GetLoseWaiverList=function(){return this.LoseWaiverList},t.prototype.GetLoseWaiverSwitch=function(){var e=this.GetLoseWaiverList();if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t],o=n.start_get_time-(Date.now()+(1e3*n.now_time-Date.now()))/1e3;if(o>=0||o<0&&0==n.is_get&&n.lost>0)return!0}return!1},t}(i.Singleton);n.LoseWaiverManager=s,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine"}],Marquee:[function(e,t){"use strict";cc._RF.push(t,"c82d1yAZNVIYoKy5Pnb6bM8","Marquee");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MarqueeMask=null,t.lbText=null,t.text=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){this.StartMarquee()},t.prototype.onDisable=function(){this.isStart=!1},t.prototype.StartMarquee=function(){this.RenderText(this.text),this.isStart=!0,this.runMarqueeActionForever()},t.prototype.StartText=function(e){this.text=e},t.prototype.RenderText=function(e){e&&(this.GetLabel().string=e)},t.prototype.GetLabel=function(){return this.lbText.getComponent(cc.RichText)||this.lbText.getComponent(cc.Label)},t.prototype.runMarqueeActionForever=function(){if(this.GetLabel()){var e=this.lbText,t=this.MarqueeMask.width/2;e.x=t,this.targetPosX=e.x-this.MarqueeMask.width-e.width}},t.prototype.update=function(){if(this.isStart){var e=this.lbText;e.x-=1,e.x<=this.targetPosX&&this.runMarqueeActionForever()}},__decorate([a(cc.Node)],t.prototype,"MarqueeMask",void 0),__decorate([a(cc.Node)],t.prototype,"lbText",void 0),__decorate([i],t)}(cc.Component);n.default=r,t.exports=n,cc._RF.pop()},{}],MathUtil:[function(e,t){"use strict";cc._RF.push(t,"59a41d3de5AJ6UmVMPpIVSe","MathUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtil=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="MathUtil",this.Log("Init")},t.prototype.multiply=function(e,t){var n=(e*t).toFixed(2);return app.ScoreUtil().coinFixed2(parseFloat(n))},t.prototype.rand=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.prototype.angle=function(e,t){var n=t.sub(e);return 0==n.x?0:180*Math.atan(n.y/n.x)/Math.PI},t}(e("../Base/Singleton").Singleton);n.MathUtil=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],MenuManager:[function(e,t){"use strict";cc._RF.push(t,"4d34aa4vj5LCaBIZDgboXn3","MenuManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.MenuManager=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.FirstLogin=!0,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="MenuManager",this.Log("Init")},Object.defineProperty(t.prototype,"GetFirstLogin",{get:function(){return this.FirstLogin&&!app.ComTool().H5Platform()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SetFirstLogin",{set:function(e){this.FirstLogin=e},enumerable:!1,configurable:!0}),t}(e("../../Base/Singleton").Singleton);n.MenuManager=o,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton"}],MsgEventDefine:[function(e,t){"use strict";cc._RF.push(t,"bbe45q3xMVHC5AseyIhkubF","MsgEventDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.EVENT_JOIN_ROOM="resp_join_room",e.EVENT_CREATE_ROOM="resp_create_room",e.EVENT_ROOM_INFO="resp_room_info",e.EVENT_LEAVE_ROOM="resp_leave_room",e.EVENT_START="resp_start",e.EVENT_READY="resp_ready",e.EVENT_ROUND_READY="resp_round_ready",e.EVENT_VOTE_DISSOVLE_ROOM="resp_vote_dissolve_room",e.EVENT_DISSOVLE_ROOM="resp_dissolve_room",e.EVENT_ONLINE_STATE="resp_online_state",e.EVENT_ROOM_START_GAME="resp_room_start_game",e.EVENT_ROOM_OPERATION="resp_room_operation",e.EVENT_CHOOSE_SEAT="resp_choose_seat",e.EVENT_SET_CASH="resp_set_cash",e.EVENT_DELAY="resp_delay",e.EVENT_SHUFFLE="resp_shuffle",e.EVENT_REMATCH="resp_rematch",e.EVENT_ROOM_END_GAME="resp_room_end_game",e.EVENT_GAME_MESSAGE="resp_game_message",e.EVENT_ROOM_RECYCLE="resp_room_recycle",e.EVENT_MATCH_COUNTDOWN="resp_match_countdown",e.EVENT_ROOM_CHAT="resp_room_chat",e.EVENT_ROOM_FACE="resp_room_face",e.EVENT_FACE="resp_face",e.EVENT_BIG_WINNER_POOL="resp_big_winner_pool",e.EVENT_SELF_JOIN_ROOM="resp_self_join_room",e.EVENT_LOGIN="resp_login",e.EVENT_LOGIN_FINISH="resp_login_finish",e.EVENT_LOGOUT="resp_logout",e.EVENT_NOTIFY="resp_notify",e.EVENT_DISCONNECT="disconnect",e.RSP_HALL_INFO="RspHallInfo",e.HALL_END_ROUND="HallEndRound",e.HALL_NOTIFY="HallNotify",e}();n.default=o,t.exports=n,cc._RF.pop()},{}],MsgIDDefine:[function(e,t){"use strict";cc._RF.push(t,"77df0WYXJNLdaJJTvLjdC7J","MsgIDDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.MsgIDDefine=void 0;var o=function(){function e(){}return e.Code_500="Code_500",e.System_44="UI.System_44",e.System_42="UI.System_42",e}();n.MsgIDDefine=o,t.exports=n,cc._RF.pop()},{}],NativeMgr:[function(e,t){"use strict";cc._RF.push(t,"85666YDeGZCAL1MAWP70a4V","NativeMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.NativeMgr=void 0;var o=e("./BaseNativeMgr"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/HttpServerDefine"),r="NativeOcClass",s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="NativeMgr",this.Log("Init")},t.prototype.getApkVersion=function(){var e=0;if(app.ComTool().CheckPlatform())return e;if(cc.sys.os==cc.sys.OS_ANDROID)try{e=this.callJava("getApkVersion",null,o.DataType.Number)}catch(t){e=-1}return e},t.prototype.getPlatformVersion=function(){var e=0;return app.ComTool().CheckPlatform()?e:(cc.sys.os==cc.sys.OS_ANDROID&&(e=this.callJava("getPlatformVersion",null,o.DataType.Number)),e)},t.prototype.SaveQR=function(e){var t="";if(app.ComTool().CheckPlatform()){try{var n=document.createElement("a");n.href=e,n.download="qr-code.png",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(a){console.error("SaveQR Error")}return t}if(cc.sys.os==cc.sys.OS_ANDROID){var i={str:e};t=this.callJava("saveQR",i,o.DataType.String)}return t},t.prototype.exitApp=function(){app.ComTool().CheckPlatform()||cc.sys.os!=cc.sys.OS_ANDROID||this.callJava("exitApp",null,null)},t.prototype.getBatteryLevel=function(){if(app.ComTool().CheckPlatform())return 100;if(cc.sys.os==cc.sys.OS_ANDROID)return this.callJava("getBatteryLevel",null,o.DataType.Number);if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative){var e=jsb.reflection.callStaticMethod(r,"getBatteryLevel");return parseInt(e)}return 100},t.prototype.getBatteryStatusCharging=function(){return!app.ComTool().CheckPlatform()&&(cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getBatteryStatusCharging",null,o.DataType.Boolean):!(cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative)&&jsb.reflection.callStaticMethod(r,"getBatteryStatusCharging"))},t.prototype.startRecording=function(){return this.Log("startRecording====="),!!app.ComTool().CheckPlatform()||(cc.sys.os==cc.sys.OS_ANDROID?this.callJava("startRecording",null,o.DataType.Boolean):cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative||jsb.reflection.callStaticMethod(r,"startRecording"))},t.prototype.stopRecording=function(){return this.Log("stopRecording====="),!!app.ComTool().CheckPlatform()||(cc.sys.os==cc.sys.OS_ANDROID?this.callJava("stopRecording",null,o.DataType.Boolean):cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative||jsb.reflection.callStaticMethod(r,"stopRecording"))},t.prototype.uploadRecordedFile=function(){return this.Log("uploadRecordedFile====="),!!app.ComTool().CheckPlatform()||(cc.sys.os==cc.sys.OS_ANDROID?this.callJava("uploadRecordedFile",null,o.DataType.Boolean):cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative||jsb.reflection.callStaticMethod(r,"uploadRecordedFile"))},t.prototype.uploadVoiceResult=function(e){this.Log("uploadVoiceResult====="),cc.mg.talk_manager.uploadVoiceResult(e)},t.prototype.speechToTextResult=function(e){this.Log("speechToTextResult====="+e),cc.mg.talk_manager.sendTalkMessage(e,0)},t.prototype.downloadRecordedFile=function(e){if(this.Log("downloadRecordedFile====="+e),app.ComTool().CheckPlatform())return!0;if(cc.sys.os==cc.sys.OS_ANDROID){var t={fileID:e};return this.callJava("downloadRecordedFile",t,o.DataType.Boolean)}return cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative||jsb.reflection.callStaticMethod(r,"downloadRecordedFile:",e)},t.prototype.playRecordFile=function(e){if(this.Log("playRecordFile====="+e),cc.sys.os==cc.sys.OS_ANDROID){var t={fileID:e};return this.callJava("playRecordFile",t,o.DataType.Boolean)}cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"playRecordFile:",e)},t.prototype.initWXSDK=function(e){if(this.Log("appID====="+e),cc.sys.os==cc.sys.OS_ANDROID){var t={appID:e};this.callJava("initWXSDK",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"initWXSDK:",e)},t.prototype.loginWX=function(){this.Log("loginWX====="),cc.sys.os==cc.sys.OS_ANDROID?this.callJava("loginWX"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod(r,"loginWX")},t.prototype.loginFaceBook=function(){this.Log("=====loginFaceBook====="),cc.sys.os==cc.sys.OS_ANDROID?this.callJava("loginFaceBook"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"loginFaceBook")},t.prototype.loginFaceBookSuccess=function(e){var t=JSON.parse(e),n=t.uid,o=t.name,a=t.url;this.Log(n+"===loginFaceBookSuccess==="+o);var r=a.replace(/&/g,"%26");app.Client.OnEvent(i.GameEventDefine.FACEBOOK_LOGIN_SUCCESS,{nickname:o,third_token:n,headimg:r})},t.prototype.FaceBookShare=function(e){this.Log("nativeShare=====");var t=JSON.parse(e);if(app.ComTool().CheckPlatform())return cc.sys.isBrowser?void cc.sys.openURL("https://www.facebook.com/sharer/sharer.php?u="+t.url+"&quote="+t.des):void 0;if(t)if(cc.sys.os==cc.sys.OS_ANDROID){var n={url:t.url,des:t.des};this.callJava("FacebookShareUrl",n)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"FacebookShareUrl:",t.url)},t.prototype.WhatsAppShare=function(e){if(this.Log("nativeShare====="),app.ComTool().CheckPlatform())return cc.sys.isBrowser?void cc.sys.openURL("https://wa.me/?text="+e):void 0;if(cc.sys.os==cc.sys.OS_ANDROID){var t={url:e};this.callJava("WhatsAppShareUrl",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"WhatsAppShareUrl:",e)},t.prototype.LineAppShare=function(e){if(this.Log("nativeShare====="),!app.ComTool().CheckPlatform())if(cc.sys.os==cc.sys.OS_ANDROID){var t={url:e};this.callJava("LineAppShareUrl",t)}else cc.sys.os,cc.sys.OS_IOS},t.prototype.WhatsAppOpenTelMessages=function(e){if(!app.ComTool().CheckPlatform())if(cc.sys.os==cc.sys.OS_ANDROID){var t={tel:e};this.callJava("WhatsAppOpenNumMessages",t)}else if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative){app.NativeMgr().copyToClipBoard(e);var n="https://wa.me/"+e;cc.sys.openURL(n)}},t.prototype.VibrateAction=function(e){if(this.Log("nativeShare====="),!app.ComTool().CheckPlatform())if(cc.sys.os==cc.sys.OS_ANDROID){var t={time:e};this.callJava("VibrateAction",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative},t.prototype.iosPay=function(e,t,n,o){cc.error(e),cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod(r,"iosPay:andMoney:andCount:andUrl:",t,n,o,e)},t.prototype.getRoomID=function(){return this.Log("getRoomID====="),cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getRoomID",null,o.DataType.String):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative?jsb.reflection.callStaticMethod(r,"getRoomID"):3e4},t.prototype.setRoomID=function(e){if(cc.sys.os==cc.sys.OS_ANDROID){var t={strRoomID:e};this.callJava("setRoomID",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"setRoomID:",e)},t.prototype.iosUniversalLinksCallBack=function(){if(cc.sys.os==cc.sys.OS_IOS){var e=app.GameManager().curr_scene_name,t=app.NativeMgr().getRoomID();"hall"==e&&""!=t&&app.NativeMgr().setRoomID("")}},t.prototype.getPackageName=function(){return this.Log("getPackageName====="),app.ComTool().CheckPlatform()?"unknown":cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getPackageName",null,o.DataType.String):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative?jsb.reflection.callStaticMethod(r,"getPackageName"):"unknown"},t.prototype.getDeviceId=function(){this.Log("getDeviceId=====");var e=app.ComTool().RandomGUID();return app.ComTool().CheckPlatform()?e:(cc.sys.os==cc.sys.OS_ANDROID?e=this.callJava("getDeviceId",null,o.DataType.String):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&((e=jsb.reflection.callStaticMethod(r,"getDeviceIdByIDFA"))||(e=jsb.reflection.callStaticMethod(r,"getDeviceId"))),e)},t.prototype.copyToClipBoard=function(e,t){var n=function(){app.SysNotifyManager().ShowToast(t||"UI_Copyed")};if(app.ComTool().CheckPlatform())try{var o=e,i=document.createElement("input");document.body.appendChild(i),i.value=o,i.setAttribute("readOnly","readOnly"),i.select(),document.execCommand("Copy"),document.body.removeChild(i),n()}catch(s){console.error("copyToClipBoard Error")}else if(app.ComTool().AndroidHybirdPlatform()){var a={content:e};this.callJava("copyToClipBoard",a),n()}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&(jsb.reflection.callStaticMethod(r,"copyToClipBoard:",e),n())},t.prototype.openWX=function(){cc.sys.os==cc.sys.OS_ANDROID?this.callJava("openWX"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"openWX")},t.prototype.openWhatsApp=function(){cc.sys.os==cc.sys.OS_ANDROID?this.callJava("OpenWhatsApp"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"OpenWhatsApp")},t.prototype.openQQ=function(e){if(cc.sys.os==cc.sys.OS_ANDROID){var t={url:"mqqwpa://im/chat?chat_type=wpa&uin="+e};this.callJava("openQQ",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"openQQ:","mqq://im/chat?chat_type=wpa&uin="+e+"&version=1&src_type=web")},t.prototype.getXSocksAsPort=function(){var e=0;return app.ComTool().CheckPlatform()?e:(cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getXSocksAsPort",null,o.DataType.Number):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&(e=jsb.reflection.callStaticMethod(r,"getXSocksAsPort")),cc.log("xsock as port===== "+e),e)},t.prototype.getXSocksGsPort=function(){var e=0;return app.ComTool().CheckPlatform()?e:(cc.sys.os==cc.sys.OS_ANDROID?e=this.callJava("getXSocksGsPort",null,o.DataType.Number):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&(e=jsb.reflection.callStaticMethod(r,"getXSocksGsPort")),cc.log("xsock gs port===== "+e),e)},t.prototype.openUrl=function(e){app.ComTool().CheckPlatform()?cc.sys.openURL(e):cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"openUrl:",e)},t.prototype.openUrlCallBack=function(){cc.systemEvent.emit("openUrlCallBack")},t.prototype.getHostAddress=function(e){var t="";if(app.ComTool().CheckPlatform())return t;if(cc.sys.os==cc.sys.OS_ANDROID){var n={strHost:e};t=this.callJava("getHostAddress",n,o.DataType.String)}else t=cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative?jsb.reflection.callStaticMethod(r,"getHostAddress:",e):"192.168.1.1";return cc.log("strIp ========"+t),t},t.prototype.saveFileToGalley=function(e,t,n){if(app.ComTool().CheckPlatform())return!0;if(cc.sys.os==cc.sys.OS_ANDROID){cc.error("saveFileToGalley:"+e+"|"+t+"|"+n);var i={picName:e,imageLocalPath:t,imageFormat:n},a=this.callJava("saveFileToGalley",i,o.DataType.String);return cc.error("savedFilePath:"+a),!0}if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative){var s=jsb.reflection.callStaticMethod(r,"saveFileToGalley:andImageLocalPath:andImageFormat:",e,t,n);return s||app.SysNotifyManager().ShowToast("\u8bf7\u60a8\u8bbe\u7f6e\u5141\u8bb8\u8be5\u5e94\u7528\u8bbf\u95ee\u60a8\u7684\u76f8\u673a \u8bbe\u7f6e>\u9690\u79c1>\u76f8\u673a"),s}},t.prototype.hasPicPrivicy=function(){return!!app.ComTool().CheckPlatform()||cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative||jsb.reflection.callStaticMethod(r,"hasPicPrivicy")},t.prototype.hasNoPicChoice=function(){return!app.ComTool().CheckPlatform()&&!(cc.sys.os!=cc.sys.OS_IOS||!cc.sys.isNative)&&jsb.reflection.callStaticMethod(r,"hasNoPicChoice")},t.prototype.umengEvent=function(e){if(cc.sys.os==cc.sys.OS_ANDROID){var t={eventId:e};this.callJava("umengOnEvent",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"umengOnEvent:",e)},t.prototype.umengOnEventValue=function(e,t){if(cc.sys.os==cc.sys.OS_ANDROID){var n={eventId:e,duration:t};this.callJava("umengOnEventValue",n)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"umengOnEventValue:andDuration:",e,t)},t.prototype.isNetworkAvailable=function(){var e=!0;return app.ComTool().CheckPlatform()?e:(cc.sys.os==cc.sys.OS_ANDROID?e=this.callJava("isNetworkAvailable",null,o.DataType.Boolean):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&(e=jsb.reflection.callStaticMethod(r,"isNetworkAvailable")),cc.log("isNetworkAvailable = "+e),e)},t.prototype.getChannel=function(){if(app.ComTool().CheckPlatform())return"";var e="unkownChannel";return cc.sys.os==cc.sys.OS_ANDROID&&(e=this.callJava("getChannel",null,o.DataType.String)),e},t.prototype.initQsuSdk=function(){},t.prototype.initQsuSdkCallBack=function(){var e=app.NativeMgr().getXSocksAsPort(),t=app.NativeMgr().getXSocksGsPort();cc.log("setQsuAsGsPort as port=="+e+",gs port=="+t);var n={asPort:e,gsPort:t};cc.systemEvent.emit("e_init_qsu_sdk_cb",n)},t.prototype.downloadApp=function(e){if(this.Log("download app url ="+e),!app.ComTool().CheckPlatform())if(cc.sys.os==cc.sys.OS_IOS)jsb.reflection.callStaticMethod(r,"downloadIpa:",e);else if(cc.sys.os==cc.sys.OS_ANDROID){var t={url:e};this.callJava("downloadApp",t)}},t.prototype.ShowORHideGoHomeBtn=function(e){e?cc.sys.os==cc.sys.OS_ANDROID?this.callJava("ShowBackIndexBtn"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"ShowBackIndexBtn"):cc.sys.os==cc.sys.OS_ANDROID?this.callJava("HideBackIndexBtn"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"HideBackIndexBtn")},t.prototype.setHomeButtonVisible=function(e){app.ComTool().CheckPlatform()||(e?cc.sys.os==cc.sys.OS_ANDROID?this.callJava("showHomeButton"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"showHomeButton"):cc.sys.os==cc.sys.OS_ANDROID?this.callJava("hideHomeButton"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"hideHomeButton"))},t.prototype.setFacebookButtonVisible=function(e){app.ComTool().CheckPlatform()||(e?cc.sys.os==cc.sys.OS_ANDROID?this.callJava("ShowFacebookBtn"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative:cc.sys.os==cc.sys.OS_ANDROID?this.callJava("HideFacebookBtn"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative)},t.prototype.backHall=function(){this.Log("\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014backhall"),cc.director.loadScene("hall_gold")},t.prototype.setOrientation=function(e){if(!app.ComTool().CheckPlatform())if(cc.sys.os==cc.sys.OS_ANDROID){var t={dir:e};this.callJava("setOrientation",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"setOrientation:",e)},t.prototype.PhoneVibrator=function(e){if(app.VibrationMgr().GetOpenVibration)if(""!==e&&null!=e)if(isNaN(e))cc.error("non numerical");else if(cc.sys.os==cc.sys.OS_ANDROID){var t={time:e};this.callJava("PhoneVibrator",t)}else cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"PhoneVibrator:",e);else cc.error("non numerical")},t.prototype.cashFreePay=function(e,t,n,o,i,a,r,s,c,p){if(cc.sys.os==cc.sys.OS_ANDROID){var l={id:e,token:t,appId:n,orderId:o,orderAmount:i,orderNote:a,customerName:r,customerPhone:s,customerEmail:c,notifyUrl:p};this.callJava("cashFreePay",l)}},t.prototype.Pazorpay=function(e,t,n,o,i,a,r,s,c,p){if(cc.sys.os==cc.sys.OS_ANDROID){var l={id:1,method:t,appId:n,orderId:o,orderAmount:i,orderNote:a,customerName:r,customerPhone:s,customerEmail:c,notifyUrl:p};this.callJava("razorPay",l)}},t.prototype.PayU=function(e,t,n,o,i,a,r,s,c,p,l,h){if(cc.sys.os==cc.sys.OS_ANDROID){var d={txnId:e,key:t,MerchantId:n,hash:o,amount:i,orderNote:a,customerName:r,customerPhone:s,customerEmail:c,notifyUrl:p,surl:l,furl:h};this.callJava("goPay",d)}},t.prototype.mpursePay=function(e,t,n,o,i,a){if(cc.sys.os==cc.sys.OS_ANDROID){var r={TxnId:e,Amount:t,MpQueryId:n,PartnerId:o,CreateTime:i,PayerVA:a};this.callJava("mpursePay",r)}},t.prototype.mpursePayPayResult=function(e,t){this.Log("mpursePayPayResult code = ",e,",txMsg = ",t),app.SysNotifyManager().ShowToast(t)},t.prototype.cashPayResult=function(e,t){this.Log("cashPayResult code = ",e,",txMsg = ",t),""!==t&&app.SysNotifyManager().ShowToast(t)},t.prototype.getMediaSource=function(){if(app.ComTool().CheckPlatform())return"";if(cc.sys.os==cc.sys.OS_ANDROID){var e=this.callJava("getMediaSource",null,o.DataType.String);if("null"!=e)return e}return null},t.prototype.getAdJustData=function(){if(app.ComTool().CheckPlatform())return null;if(cc.sys.os==cc.sys.OS_ANDROID){var e=this.callJava("getAdJustKey",null,o.DataType.String);if(""!=e)return JSON.parse(e)}return cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative?jsb.reflection.callStaticMethod(r,"getAdJustKey"):null},t.prototype.getAll_preinstallKey=function(){if(app.ComTool().CheckPlatform())return"";if(cc.sys.os==cc.sys.OS_ANDROID){if(e=this.callJava("getAll_preinstallKey",null,o.DataType.String))return e}else if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative){var e;if(e=jsb.reflection.callStaticMethod(r,"getAll_preinstallKey"))return e}return""},t.prototype.getAdvertisingId=function(){return app.ComTool().CheckPlatform()?"":cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getAdvertisingId",null,o.DataType.String):""},t.prototype.isProbablyAnEmulator=function(){return!app.ComTool().CheckPlatform()&&cc.sys.os==cc.sys.OS_ANDROID&&this.callJava("isProbablyAnEmulator",null,o.DataType.Boolean)},t.prototype.trackEvent=function(e,t){if(cc.sys.os==cc.sys.OS_ANDROID){var n={type:e,jsonData:t};this.callJava("trackEvent",n)}},t.prototype.FacebooklogEvent=function(e,t){if(app.ComTool().CheckPlatform())cc.log("logEvent",e,t);else try{var n=app.GameConfigManager().GetFBEventConfig()||[];if(n[e]){var o=n[e].key?n[e].key:"",i=n[e].currency?n[e].currency:"",a=t||0;if(""==o)return;if(cc.sys.os==cc.sys.OS_ANDROID){var s={typetoken:o,tObjData:a,tCurrencyType:i};return void this.callJava("FaceBookLogEvent",s)}if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative)return void jsb.reflection.callStaticMethod(r,"FaceBookLogEvent:number:currencyType:",o,a,i)}return}catch(c){cc.error("FacebooklogEvent: ",c)}},t.prototype.AdjustlogEvent=function(e,t){if(app.ComTool().CheckPlatform())cc.log("logEvent",e,t);else try{var n=app.GameConfigManager().GetAJEventConfig()||[];if(n[e]){var o=n[e].key?n[e].key:"",i=n[e].currency?n[e].currency:"",a=t||0;if(""==o)return;if(cc.sys.os==cc.sys.OS_ANDROID){var s={typetoken:o,tObjData:a,tCurrencyType:i};return void this.callJava("adjustlogEvent",s)}cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod(r,"adjustlogEvent:andData:andType:",o,a,i)}}catch(c){}},t.prototype.RazorPayResult=function(){},t.prototype.PaytmPay=function(e,t,n,o,i,a){if(!app.ComTool().CheckPlatform()&&cc.sys.os==cc.sys.OS_ANDROID){var r={orderid:e,mid:t,txnToken:n,amount:o,callbackurl:i,orderNote:a};this.callJava("PaytmPay",r)}},t.prototype.consumeResponse=function(){},t.prototype.addOrder=function(e){cc.log("addOrder,data:",e);var t=JSON.parse(e).token;this.Log("googlePay add order, purchaseToken:"+t)},t.prototype.toast=function(e){var t=JSON.parse(e).str;app.SysNotifyManager().ShowToast(t)},t.prototype.removeLoading=function(){},t.prototype.onBackKey=function(){cc.systemEvent.emit("onBackKey")},t.prototype.getContentFromClipBoard=function(){if(!app.ComTool().CheckPlatform())return cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getContentFromClipBoard",null,o.DataType.String):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("NativeOcClass","getContentFromClipBoard"):void 0},t.prototype.zaloShareCallback=function(e){if(!app.ComTool().CheckPlatform())if(cc.sys.os==cc.sys.OS_ANDROID){var t=JSON.parse(e),n=t.msg,o=t.link;this.callJava("zaloShareCallback",{msg:n,link:o})}else cc.sys.os,cc.sys.OS_IOS},t.prototype.openInternalWindow=function(e){if(!app.ComTool().CheckPlatform())try{if(cc.sys.os==cc.sys.OS_ANDROID){var t={value:e};return void this.callJava("openInternalWindow",t)}}catch(n){}},t.prototype.InitHallEnd=function(){app.ComTool().CheckPlatform()||cc.sys.os==cc.sys.OS_ANDROID&&this.callJava("initHallEnd",{initHallEnd:"initHallEnd"})},t.prototype.OpenGooglePay=function(e,t,n){if(!app.ComTool().CheckPlatform()&&cc.sys.os==cc.sys.OS_ANDROID){var o={uid:e,orderid:t,productId:"android.recharge_"+n};this.callJava("launchBillingFlow",o)}},t.prototype.GoogleConsumeProduct=function(e){if(!app.ComTool().CheckPlatform()&&cc.sys.os==cc.sys.OS_ANDROID)if(app.NativeMgr().getPackageName()){var t={purchaseToken:e};this.callJava("consumeProduct",t)}else cc.error("getPackageName error.")},t.prototype.verifyGPPay=function(e){var t=JSON.parse(e),n={packageName:t.packagename,productId:t.productId,purchaseToken:t.purchaseToken,order_no:t.orderId};if(app.StoreManager().GetPayGoodResult()&&app.StoreManager().GetPayGoodResult().notifyurl){var o={notify_url:app.StoreManager().GetPayGoodResult().notifyurl,order_no:""};app.StoreManager().AddMonitor(o,n)}else app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_PAY_NOTIFYURL,n)},t.prototype.openPhoto=function(){if(app.ComTool().CheckPlatform())return!0;cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getPhotoUploadHandler",null,o.DataType.String):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative},t.prototype.openCamera=function(){if(app.ComTool().CheckPlatform())return!0;cc.sys.os==cc.sys.OS_ANDROID?this.callJava("getCameraUploadHandler",null,o.DataType.String):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative},t.prototype.getPhotoAndCamera=function(e){var t=JSON.parse(e),n=t.base64Bitmap,o=t.filePath;cc.log(n+"===getPhotoAndCamera==="+o),cc.systemEvent.emit("GetPhotoAndCameraDataSuccess",{base64Bitmap:n,filePath:o})},t}(o.BaseNativeMgr);n.NativeMgr=s,t.exports=n,cc._RF.pop()},{"../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/HttpServerDefine":"HttpServerDefine","./BaseNativeMgr":"BaseNativeMgr"}],NodePool:[function(e,t){"use strict";cc._RF.push(t,"6e229Uzzc5F3KWWSQe4nvvC","NodePool");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._NodePool=null,t._Prefab=null,t._NodeArr=[],t}return __extends(t,e),t.prototype.start=function(){},t.prototype.initPool=function(e,t,n){if(void 0===t&&(t=5),e){this._Prefab=e,this._NodePool||(this._NodePool=new cc.NodePool(n)),this.clear();for(var o=0;o<t;o++){var i=this.instantiateNode();this._NodePool.put(i)}}},t.prototype.instantiateNode=function(){return cc.instantiate(this._Prefab)},t.prototype.createNode=function(){var e=this._NodePool.get()||this.instantiateNode();return this._NodeArr.push(e),e},t.prototype.recycleNode=function(e){e&&(this._NodePool.put(e),this._NodeArr.Remove(e))},t.prototype.recycleAllNode=function(){for(var e=this._NodeArr.length-1;e>=0;e--){var t=this._NodeArr[e];this.recycleNode(t)}this._NodeArr=[]},t.prototype.clear=function(){this._NodePool.clear()},t.prototype.onDestroy=function(){this.clear()},__decorate([i],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],NotifyManager:[function(e,t){"use strict";cc._RF.push(t,"5e9cePGZhlPFIIDGhVhjofK","NotifyManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.NotifyManager=void 0;var o=e("../Base/Singleton"),i=e("../Net/MsgEventDefine"),a=e("../Define/GameEventDefine"),r=e("../Define/ShareDefine"),s=e("../Define/HttpServerDefine"),c=e("../Define/TrackEventName"),p=e("./Hall/Task/TaskManager"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="NotifyManager",this.Log("Init"),cc.systemEvent.on(i.default.EVENT_NOTIFY,this.OnRespNotify,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_RECHARGEGOLD,this.OnRechargeGold,this)},t.prototype.OnRespNotify=function(e){try{var t=void 0;switch(e.id){case 79:t=e.content;var n=e.loop,o=e.interval;null!=o&&0!=o||(o=2);for(var i=0;i<n;i++);break;case 88:var c=(t=JSON.parse(e.content)).type;if("game_broadcast"==c||"gold_withdrawal"==c)return void cc.systemEvent.emit("game_broadcast",t.text);if("update_gold"==c)return void app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_EXT_GOLD,t.end_gold);if("vip_lv"==c)return app.UserManager().GetUserInfo.vip_id=t.vip_id,app.UserManager().GetUserInfo.is_keep_level=1,app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_VIP),app.RedDotManager().updateSingleData({type:r.RedDotStr.vip_cash_gift}),void app.Client.OnEvent(a.GameEventDefine.UPGRADE_VIPLV,t);if("unlock_user_level"==c)return app.UserManager().GetUserInfo.is_keep_level=t.data,void app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_VIP);if("desk_notices_activity"==c)return void app.Client.OnEvent(a.GameEventDefine.REFRESH_DESK_NOTICE);if("bg_close"==c||"other_close"==c)cc.systemEvent.emit("e_back_hall");else if("withdraw_message"==c){var l=t.text;app.GameManager().InHallScene||cc.sys.localStorage.setItem(app.UserManager().GetUserInfo.uid+"withdraw_message",l)}else{if("envelopes"==c)return;if("finish_task"==c)return void cc.systemEvent.emit("finish_task",t);if("recharge_reward"==c)return void app.Client.OnEvent(a.GameEventDefine.NOTICE_UPDATELIST);if("recharge_activity"==c){var h=app.UserManager().GetUserRechargeActivity;return h.status=t.status,h.end_time=t.end_time,void app.Client.OnEvent(a.GameEventDefine.RECHARGE_ACTIVITY)}if("recharge_sale"==c)return void app.Client.OnEvent(a.GameEventDefine.NOTICE_UPDATELIST);if("user_recharge"==c)return void app.Client.OnEvent(a.GameEventDefine.NOTICE_UPDATELIST);if("game_way_change"==c)return;if("first_recharge"==c)return;if("sale_act_del"==c)return;if("sale_refresh"==c)return;if("common_check"==c)app.AdjustEventTrackManager().RequestAJNotice();else{if("game_maintain_notice"==c)return void app.Client.OnEvent(a.GameEventDefine.GAME_MAINTAIN_NOTICE,t.data);if("red_dot_event_notice"==c)0==t.show_type?app.RedDotManager().localStorageRedData({type:t.event,bShow:!0}):app.RedDotManager().updateSingleData({type:t.event,bShow:t.show_type});else if("withdraw_suc"==c)app.Client.OnEvent(a.GameEventDefine.NOTICE_UPDATELIST),app.AdjustEventTrackManager().RequestAJGetWithdrawgold();else if("common_suc"==c)try{t.data.forEach(function(e){app.NativeMgr().AdjustlogEvent(e.key,e.value),app.NativeMgr().FacebooklogEvent(e.key,e.value)})}catch(m){}else{if("new_task_red_check"==c)return void app.RedDotManager().updateSingleData({type:r.RedDotStr.task_red,bShow:!0});if("new_task_recharge_change"==c)return void p.TaskManager.GetInstance().RequstGetUserTaskConfig();if("game_forbidden"==c)return void(app.GameConfigManager().GetGameConfig().game_status=t.game_status);if("kf_reply_user_question"==c)app.Client.OnEvent(a.GameEventDefine.KF_REPLY_USER_QUESTION,t);else{var d=t.source,u=t.gold;if(app.GoldRewardManager().FormGoldReward(t),"online_payment"==d||"back_stage_recharge"==d||"manual_payment"==d||"company_payment"==d||"gold_collection_tips"==c){var _={af_param_1:parseInt(u)};app.NativeMgr().trackEvent("purchase123",JSON.stringify(_)),t.amount&&(app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_RECHARGEGOLD,{token:app.UserManager().GetUserInfo.token}),app.Client.OnEvent(a.GameEventDefine.COMPANY_PAYMENT,t))}}}}}}}catch(m){cc.error(m)}},t.prototype.OnRechargeGold=function(e){e.forEach(function(e){var t=e.amount;t&&(app.NativeMgr().AdjustlogEvent(c.default.RECHARGE,t),app.NativeMgr().FacebooklogEvent(c.default.RECHARGE,t),app.EventTrackManager().LogEvent(c.default.RECHARGE,{currency:"PHP",value:t}))})},t}(o.Singleton);n.NotifyManager=l,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/ShareDefine":"ShareDefine","../Define/TrackEventName":"TrackEventName","../Net/MsgEventDefine":"MsgEventDefine","./Hall/Task/TaskManager":"TaskManager"}],Orientation:[function(e,t){"use strict";cc._RF.push(t,"c7ad4oMrh5LwLK8BLnCqTNr","Orientation");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.setOrientation=function(e,t){app.NativeMgr().setOrientation(t);var n=cc.view.getFrameSize();cc.log("frameSize: "+n.width+"   "+n.height),"V"==t?(cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),n.width>n.height?(cc.view.setFrameSize(n.height,n.width),e.designResolution=new cc.Size(750,1334)):(e.fitHeight=!1,e.fitWidth=!0,e.designResolution=new cc.Size(750,1334),cc.view.setDesignResolutionSize(750,1334,cc.ResolutionPolicy.FIXED_WIDTH))):(cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),n.height>n.width?(cc.view.setFrameSize(n.height,n.width),e.designResolution=new cc.Size(n.width,n.height)):(e.fitHeight=!0,e.fitWidth=!1,e.designResolution=new cc.Size(n.width,n.height),cc.view.setDesignResolutionSize(n.width,n.height,cc.ResolutionPolicy.FIXED_HEIGHT))),cc.sys.isNative?window.jsb:cc.view.resizeWithBrowserSize(!0)},e}();n.default=o,t.exports=n,cc._RF.pop()},{}],PageBannerItem:[function(e,t){"use strict";cc._RF.push(t,"51a87bP4YdKC7lOp7zwUdAR","PageBannerItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../../Common/Base/UIBaseComponent"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadInit=function(){this.nodeSp=this.GetWndComponent("img",cc.Sprite),this.timeNode=this.GetWndNode("img/node_time"),this.timeNodeH=this.GetWndNode("img/node_time/timeNode"),this.timeNodeD=this.GetWndNode("img/node_time/timeDayNode")},t.prototype.OnEnable=function(){},t.prototype.renderInfo=function(e){this.data=e;var t=!1;app.PlaceholderManager().BannerItemNum>0&&(app.PlaceholderManager().BannerItemNum--,t=!0),app.HallManager().LoadImageIncrease(this.nodeSp.node,e.image,t),this.OnTimeShow()},t.prototype.OnDisable=function(){this.unscheduleAllCallbacks()},t.prototype.OnTimeShow=function(){var e=this;this.timeNode&&(this.data.start_time_stamp||this.data.end_time_stamp)?(this.EndTime=this.data.end_time_stamp,this.UpdateSeconds(),this.timeNode.active=!0,this.schedule(function(){e.UpdateSeconds()},1)):this.timeNode&&(this.timeNode.active=!1)},t.prototype.UpdateSeconds=function(){if(this.EndTime>0){var e=app.GameConfigManager().GetAsTime(),t=Number(this.EndTime)-e,n=Math.floor(t/3600)+"";Number(n)<10&&(n="0"+n);var o=Math.floor(t%60)+"";Number(o)<10&&(o="0"+o);var i=Math.floor(t/60%60)+"";if(Number(i)<10&&(i="0"+i),Number(n)>24){this.setTimeTypeShow(!0);var a=Math.floor(Number(n)/24),r=""+Number(n)%24;Number(r)<10&&(r="0"+r),this.initDayTime(""+a,r)}else this.setTimeTypeShow(!1),this.initTime(n,i,o);t<=1&&(this.initTime("00","00","00"),this.timeNode.active=!1,this.unscheduleAllCallbacks())}},t.prototype.initTime=function(e,t,n){this.GetWndComponent("lb_hour",cc.Label,this.timeNodeH).string=e,this.GetWndComponent("lb_minute",cc.Label,this.timeNodeH).string=t,this.GetWndComponent("lb_second",cc.Label,this.timeNodeH).string=n},t.prototype.initDayTime=function(e,t){this.GetWndComponent("lb_hour",cc.Label,this.timeNodeD).string=e,this.GetWndComponent("lb_minute",cc.Label,this.timeNodeD).string=t},t.prototype.setTimeTypeShow=function(e){this.timeNodeD.active=e,this.timeNodeH.active=!e},t.prototype.OnClick=function(){var e=this.data.link;if(e>0)app.InteractionMgr().SendWndEvent(e);else{var t=this.data.external_link;t&&cc.sys.openURL(t)}},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../../Common/Base/UIBaseComponent":"UIBaseComponent"}],PageBanner:[function(e,t){"use strict";cc._RF.push(t,"d121dURCHdKX5PThGX7FNI7","PageBanner");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../../Common/Base/UIBaseComponent"),i=e("../../../../Common/Component/List"),a=e("../../../../Common/Define/GameEventDefine"),r=e("./PageBannerItem"),s=cc._decorator,c=s.ccclass,p=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t.ShowCount=1,t.LastRenderTime=0,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="PageBanner",this.list=this.node.getComponent(i.default),this.RegEvent(a.GameEventDefine.SEND_END,this.OnGetDeskNotice),this.RegEvent(a.GameEventDefine.GET_DESK_NOTICE,this.OnGetDeskNotice)},t.prototype.onListRender=function(e,t){var n=app.HNoticeManager().GetDeskListInfo[t];n?e.getComponent(r.default).renderInfo(n):this.ErrLog("onListRender failed: "+t)},t.prototype.OnEnable=function(){this.ShowCount=Math.round(this.node.width/this.list.tmpPrefab.data.width),this.OnGetDeskNotice()},t.prototype.OnGetDeskNotice=function(){0!=app.HNoticeManager().GetDeskListInfo.length&&app.GameConfigManager().GetGameConfig().game_type&&(this.list.numItems=app.HNoticeManager().GetDeskListInfo.length,this.list.numItems>this.ShowCount&&(this.unschedule(this.scheduleCallBack),this.schedule(this.scheduleCallBack,.2)))},t.prototype.scheduleCallBack=function(){var e=(new Date).getTime();if(e-this.LastRenderTime>=5e3){this.LastRenderTime=e;var t=this.list.numItems-this.ShowCount+1,n=this.list.curPageNum+1;n=n>=t?0:n,this.list.skipPage(n,1)}},t.prototype.onPageViewEvent=function(e){this.LastRenderTime=(new Date).getTime(),this.list.skipPage(e,1)},__decorate([c],t)}(o.default));n.default=p,t.exports=n,cc._RF.pop()},{"../../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../../Common/Component/List":"List","../../../../Common/Define/GameEventDefine":"GameEventDefine","./PageBannerItem":"PageBannerItem"}],PageTrackManager:[function(e,t){"use strict";cc._RF.push(t,"01f9d3GHMpGN5/0kZ4BRliq","PageTrackManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PageTrackManager=n.PageTrackpageType=n.PageTracktranslateKey=void 0;var o=e("../Base/Singleton"),i=e("../Define/HttpServerDefine");n.PageTracktranslateKey={PAGETRACK_EVENT_RECHARGE_ENTER:1,PAGETRACK_EVENT_RECHARGE_SWITCHTAB:2,PAGETRACK_EVENT_RECHARGE_GAMEENTER:3,PAGETRACK_EVENT_RECHARGE_VIPENTER:4,PAGETRACK_EVENT_RECHARGE_ACTIVITY:5,PAGETRACK_EVENT_RECHARGE_RELEGATION:6,PAGETRACK_EVENT_USERCENTER_TOPENTER:1,PAGETRACK_EVENT_USERCENTER_BOTTOM:2,PAGETRACK_EVENT_WITHDRAW_USERCENTER:1,PAGETRACK_EVENT_WITHDRAW_SWITCHTAB:2,PAGETRACK_EVENT_WITHDRAW_SHARE:3,PAGETRACK_EVENT_WITHDRAW_ACTIVITY:4},n.PageTrackpageType={PAGETRACK_EVENT_RECHARGE_ENTER:1,PAGETRACK_EVENT_RECHARGE_SWITCHTAB:1,PAGETRACK_EVENT_RECHARGE_GAMEENTER:1,PAGETRACK_EVENT_RECHARGE_VIPENTER:1,PAGETRACK_EVENT_RECHARGE_ACTIVITY:1,PAGETRACK_EVENT_RECHARGE_RELEGATION:1,PAGETRACK_EVENT_USERCENTER_TOPENTER:2,PAGETRACK_EVENT_USERCENTER_WITHDRAW:2,PAGETRACK_EVENT_USERCENTER_BOTTOM:2,PAGETRACK_EVENT_WITHDRAW_USERCENTER:3,PAGETRACK_EVENT_WITHDRAW_SWITCHTAB:3,PAGETRACK_EVENT_WITHDRAW_SHARE:3,PAGETRACK_EVENT_WITHDRAW_ACTIVITY:3};var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="PageTrackManager",app.HttpServerManager().RegNetPack(i.HttpAPI.PAGE_TRAC_RECORD,this.onPageTrackRecord,this)},t.prototype.RequestTrackRecord=function(e){var t={token:app.UserManager().UserInfo.token,ctime:parseInt((new Date).getTime()/1e3+""),bets_gold:app.BetBonusManager().GetBetGold(),all_gold:app.UserManager().UserInfo.gold,valid_gold:100,page_type:n.PageTrackpageType[e.type],in_type:n.PageTracktranslateKey[e.type],out_type:e.out_type,is_change:null==e.is_change?0:1,client_type:app.ComTool().H5Platform()?1:2};app.HttpServerManager().SendHttpPack(i.HttpAPI.PAGE_TRAC_RECORD,t)},t.prototype.PageTrackRecord=function(e,t){var o=t||{};n.PageTracktranslateKey[e]&&(o.type=e,this.RequestTrackRecord(o))},t.prototype.onPageTrackRecord=function(e){this.Log(e)},t.prototype.getLocalDeviceID=function(){return app.LoginManager().GetDeviceID()},t}(o.Singleton);n.PageTrackManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/HttpServerDefine":"HttpServerDefine"}],PixelManager:[function(e,t){"use strict";cc._RF.push(t,"4bb36MJ1iNI1b4nHUSe36mD","PixelManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PixelManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/TrackEventName"),a={};a[i.default.USER_REGISTER]="CompleteRegistration",a[i.default.GET_USER_INFO]="Login",a[i.default.OPEN_RECHARGE]="AddToCart",a[i.default.RECHARGE]="Purchase";var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="PixelManager",this.Log("Init")},Object.defineProperty(t.prototype,"EnableEvent",{get:function(){return"undefined"!=typeof fbq},enumerable:!1,configurable:!0}),t.prototype.LogEvent=function(e,t){this.EnableEvent?a[e]&&fbq("track",a[e],t):this.WarnLog("LogEvent failed")},t}(o.Singleton);n.PixelManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/TrackEventName":"TrackEventName"}],PlaceholderManager:[function(e,t){"use strict";cc._RF.push(t,"3feafO56TZOaLIaKQILvSjU","PlaceholderManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PlaceholderManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameListEnd=!1,t.gameLogoEnd=!1,t.deskNoticeEnd=!1,t.LoadCount=0,t.LoadSunCount=0,t.LoadMaxCount=0,t.urlS=[],t.imgNode=[],t.beginShowIcon=[],t.beginHideIcon=[],t.FirstLogin=!1,t.BannerItemNum=0,t.GameIconNum=0,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="PlaceholderManager",app.Client.RegEvent(i.GameEventDefine.SHOW_ICON,this.OnShowIcon,this)},Object.defineProperty(t.prototype,"GameListEnd",{set:function(e){this.gameListEnd=e,this.isSendEnd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GameLogoEnd",{set:function(e){this.gameLogoEnd=e,this.isSendEnd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DeskNoticeEnd",{set:function(e){this.deskNoticeEnd=e,this.isSendEnd()},enumerable:!1,configurable:!0}),t.prototype.isSendEnd=function(){this.gameListEnd&&this.gameLogoEnd&&app.Client.OnEvent(i.GameEventDefine.SEND_END)},t.prototype.SetLoadMaxCount=function(){this.LoadMaxCount+=this.GetGameIconNum()},t.prototype.SetBannerItemNum=function(e){this.BannerItemNum=e,this.LoadMaxCount+=this.BannerItemNum},t.prototype.GetGameIconNum=function(){this.GameIconNum=app.GameTypeManager().GetHistoryGame().length;for(var e=app.GameTypeManager().GetColumCount,t=app.GameConfigManager().GetGameConfig().game_type,n=0,o=0;o<t.length;o++){if(!(n<2))return this.GameIconNum;var i=app.GameTypeManager().GetGameTypeList_2(o);if(i.length>0)if(i.length>e){var a=e*(2-n);this.GameIconNum+=i.length>a?a:i.length,n=2}else n++,this.GameIconNum+=i.length}return this.GameIconNum},t.prototype.SubLoadCount=function(){this.LoadCount--,this.NoticeShowIcon()},t.prototype.NoticeShowIcon=function(){this.FirstLogin&&0==this.LoadCount&&(this.FirstLogin=!1,this.Log("placeholder==========showIcon"),app.Client.OnEvent(i.GameEventDefine.SHOW_ICON))},t.prototype.AddBeginHideIcon=function(e){this.beginHideIcon.push(e)},t.prototype.AddBeginShowIcon=function(e){this.beginShowIcon.push(e)},t.prototype.OnShowIcon=function(){for(var e=0;e<this.imgNode.length;e++)this.imgNode[e].getComponent(cc.Sprite).spriteFrame=this.urlS[e];for(e=0;e<this.beginShowIcon.length;e++)this.beginShowIcon[e].active=!1;for(e=0;e<this.beginHideIcon.length;e++)this.beginHideIcon[e].active=!0;this.urlS=[],this.imgNode=[],this.beginShowIcon=[],this.beginHideIcon=[]},t}(o.Singleton);n.PlaceholderManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine"}],PromoteMainManager:[function(e,t){"use strict";cc._RF.push(t,"5e1e3t86nRInq7BrsNKo2CR","PromoteMainManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PromoteMainManager=n.StorePayType=void 0;var o,i=e("../../Model/D_PromoteMember"),a=e("../../Base/Singleton"),r=e("../../Define/GameEventDefine"),s=e("../../Define/HttpServerDefine");(o=n.StorePayType||(n.StorePayType={}))[o.GooglePay=7]="GooglePay";var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ShareDataResult=null,t.CollectCashResult=null,t.SpreadWayInfoResult=null,t.BonuesRecordResult=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="PromoteMainManager",this.Log("Init"),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_SPREAD_AWARD,this.onShareAward,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_SPREAD_WAY,this.onSharedata,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_COLLECTCASH,this.onCollectCash,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_SPREADWAYINFO,this.onSpreadWayInfo,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_AGENTBONUSRECORDS,this.onBonusRecords,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_DIRECTDETAILLIST,this.onDirectdetailList,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_TEAMTOTAL,this.OnTeamTotal,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_AGENTCASHTRANSFER,this.OnAgentCashTransfer,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_COMMISSIONDESCLIST,this.OnAgentCommissionDesList,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_AGENTREPORT,this.OnAgentReportt,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_AGENTDIRECTUSER,this.OnAgentDirectuser,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_SPREADSTATISTICS,this.OnSpreadStatistics,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_DAYSPREADSTATISTICS,this.OnDaySpreadStatistics,this)},t.prototype.ReqShareData=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_SPREAD_WAY,e)},t.prototype.onSharedata=function(e){this.ShareDataResult=e,app.Client.OnEvent(r.GameEventDefine.GET_SPREAD_WAY,e)},t.prototype.onShareAward=function(e){app.Client.OnEvent(r.GameEventDefine.GET_SHAREAWARD,e)},t.prototype.RequstShareAward=function(e){var t={token:app.UserManager().GetUserInfo.token,id:e};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_SPREAD_AWARD,t)},t.prototype.onCollectCash=function(e){this.CollectCashResult=e,app.Client.OnEvent(r.GameEventDefine.GET_COLLECTCASH,e)},t.prototype.RequstSpreadWayInfo=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_SPREADWAYINFO,e)},t.prototype.RequestBonusRecords=function(e){var t={token:app.UserManager().GetUserInfo.token,limit:e.limit,page:e.page,type:e.types||0};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_AGENTBONUSRECORDS,t)},t.prototype.onBonusRecords=function(e){isgoServer&&null==e.lists.data&&(e.lists.data=[]),this.BonuesRecordResult=e;var t=[{types:0,title:app.i18n.t("UI.MakeMoney_4_Promotion_19")}];for(var n in this.BonuesRecordResult.types)if(Object.prototype.hasOwnProperty.call(this.BonuesRecordResult.types,n)){var o=this.BonuesRecordResult.types[n];t.push({types:n,title:o})}this.BonuesRecordResult.disposetypeList=t,app.Client.OnEvent(r.GameEventDefine.GET_AGENTBONUSRECORDS,e)},t.prototype.onSpreadWayInfo=function(e){this.SpreadWayInfoResult=e,app.Client.OnEvent(r.GameEventDefine.GET_SPREADWAYINFO,e)},t.prototype.RequstDirectdetailList=function(e){var t={token:app.UserManager().GetUserInfo.token,start_time:e.start_time,end_time:e.end_time,nickname:e.nickname,page:e.page,level:e.level,count:10};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_DIRECTDETAILLIST,t)},t.prototype.onDirectdetailList=function(e,t){isgoServer&&null==e&&(e=[]),i.default.ins.dtailList=e,e&&e.length>0?i.default.ins.addAllDtailList(e,t):i.default.ins.infoData(),app.Client.OnEvent(r.GameEventDefine.GET_DIRECTDETAILLIST)},t.prototype.RequestTeamTotal=function(){app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_TEAMTOTAL,{token:app.UserManager().GetUserInfo.token})},t.prototype.OnTeamTotal=function(e){app.Client.OnEvent(r.GameEventDefine.GET_TEAMTOTAL,e)},t.prototype.RequstCollectCash=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_COLLECTCASH,e)},t.prototype.ReqAgentCashTransfer=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_AGENTCASHTRANSFER,e)},t.prototype.OnAgentCashTransfer=function(e){this.Log(e),app.GoldRewardManager().FormGoldReward({gold:this.GetShareData.agent_commission,source:app.i18n.t("UI_Code_Bonus")}),this.GetShareData.agent_commission=0,app.Client.OnEvent(r.GameEventDefine.UPDATE_COMMISSIONDESC)},t.prototype.ReqAgentCommissionDesList=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_COMMISSIONDESCLIST,e)},t.prototype.OnAgentCommissionDesList=function(e){app.Client.OnEvent(r.GameEventDefine.GET_COMMISSIONDESCLIST,e),this.Log(e)},t.prototype.ReqAgentReport=function(e){var t="",n="";e&&(t=e.start,n=e.end);var o={token:app.UserManager().GetUserInfo.token,start_date:t,end_date:n};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_AGENTREPORT,o)},t.prototype.OnAgentReportt=function(e,t){e.start_date=t.start_date,app.Client.OnEvent(r.GameEventDefine.GET_AGENTREPORT,e)},t.prototype.ReqAgentDirectuser=function(e){var t={token:app.UserManager().GetUserInfo.token,limit:20,page:e};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_AGENTDIRECTUSER,t)},t.prototype.OnAgentDirectuser=function(e){app.Client.OnEvent(r.GameEventDefine.GET_AGENTDIRECTUSER,e)},t.prototype.ReqSpreadStatistics=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_SPREADSTATISTICS,e)},t.prototype.OnSpreadStatistics=function(e){app.Client.OnEvent(r.GameEventDefine.GET_SPREADSTATISTICS,e)},t.prototype.ReqDaySpreadStatistics=function(e){var t="",n="";e&&(t=e.start,n=e.end);var o={token:app.UserManager().GetUserInfo.token,start_date:t,end_date:n};app.HttpServerManager().SendHttpPack(s.HttpAPI.GET_DAYSPREADSTATISTICS,o)},t.prototype.OnDaySpreadStatistics=function(e){app.Client.OnEvent(r.GameEventDefine.GET_DAYSPREADSTATISTICS,e)},Object.defineProperty(t.prototype,"GetShareData",{get:function(){return this.ShareDataResult},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetCollectCash",{get:function(){return this.CollectCashResult},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetSpreadWayInfo",{get:function(){return this.SpreadWayInfoResult},enumerable:!1,configurable:!0}),t}(a.Singleton);n.PromoteMainManager=c,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Model/D_PromoteMember":"D_PromoteMember"}],PushTrackRecordManager:[function(e,t){"use strict";cc._RF.push(t,"34c46+YLThEOIx0uGjMASnd","PushTrackRecordManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PushTrackRecordManager=n.PointType=void 0;var o=e("../Base/Singleton"),i=e("../Define/HttpServerDefine");n.PointType={HOME:1,FIRST_LOADING:2,ENTER_HALL:3,FIRST_SIGN:4,ENTER_GAME:5,WAY_SELECT:6,SIGN_LOAD_SUCCESS:7};var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.translateKey={launch_start_begin:1,enter_hall_scene:3,get_user_sign:4,enter_game:5,get_way_select:6,sign_load_success:7},t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="PushTrackRecordManager",this.Log("Init"),app.HttpServerManager().RegNetPack(i.HttpAPI.TRACK_RECORD,this.onTrackRecord,this)},t.prototype.RequestTrackRecord=function(){},t.prototype.PushTrackRecord=function(e,t){var n=t||{};this.translateKey[e]&&(n.type=this.translateKey[e],this.RequestTrackRecord(n))},t.prototype.onTrackRecord=function(e){this.Log(e)},t.prototype.getLocalDeviceID=function(){return app.LoginManager().GetDeviceID()},t}(o.Singleton);n.PushTrackRecordManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/HttpServerDefine":"HttpServerDefine"}],RedDotManager:[function(e,t){"use strict";cc._RF.push(t,"ba04cDJ5tROh7uR9ZiQpIDB","RedDotManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.RedDotManager=void 0;var o=e("../../Define/ShareDefine"),i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine"),s=(e("../../Define/UINameDefine"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._RechargeInfoDataResult=null,t._ShowRedDotDataResult=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="RedDotManager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.RECHARGE_INFOV2,this.onRechargeInfo,this),app.HttpServerManager().RegNetPack(r.HttpAPI.SHOW_REDDOT_RECEIVE,this.onShowRedDotReceive,this),app.Client.RegEvent(a.GameEventDefine.NOTICE_UPDATELIST,this.RequestRecharge_InfoV2,this),app.Client.RegEvent(a.GameEventDefine.LOAD_HALL_SUCCESS,this.OnLoadHallSuccess,this)},Object.defineProperty(t.prototype,"ShowRedDotDataResult",{get:function(){return this._ShowRedDotDataResult},set:function(e){this._ShowRedDotDataResult=e,this.onUpdateRedDotData()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RechargeInfoDataResult",{get:function(){return this._RechargeInfoDataResult},set:function(e){this._RechargeInfoDataResult=e,this.onUpdateRechargeInfoData()},enumerable:!1,configurable:!0}),t.prototype.GetActiveInfo=function(e){return this._RechargeInfoDataResult?this._RechargeInfoDataResult[e]:null},t.prototype.updateSingleData=function(e){e&&(e.type==o.RedDotStr.notice?(this._ShowRedDotDataResult[e.type].is_show=e.bShow,this.onUpdateRedDot()):this.RequestShowRedDotReceive({version:2,event:e.type}))},t.prototype.localStorageRedData=function(e){e&&(this._ShowRedDotDataResult[e.type].is_show=e.bShow,this.onUpdateRedDot())},t.prototype.onUpdateDotReceive=function(){this.Log("onUpdateDotReceive")},t.prototype.RequestRecharge_InfoV2=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.RECHARGE_INFOV2,{token:app.UserManager().GetUserInfo.token})},t.prototype.onRechargeInfo=function(e){if(1==isgoServer&&!channelIDNewbieBonusShow)for(var t=e.activity_config.length-1;t>=0;t--)29==e.activity_config[t].id&&e.activity_config.splice(t,1);this.RechargeInfoDataResult=e,this.RechargeInfoDataResult.activity_config.sort(function(e,t){return t.sort-e.sort}),app.Client.OnEvent(a.GameEventDefine.RECHARGE_INFOV2,e)},t.prototype.GetSortDataToID=function(e){for(var t=0;t<this.RechargeInfoDataResult.activity_config.length;t++){var n=this.RechargeInfoDataResult.activity_config[t];if(e===n.id)return n}return null},t.prototype.RequestShowRedDotReceive=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.SHOW_REDDOT_RECEIVE,{token:app.UserManager().GetUserInfo.token,version:e.version,event:e.event?e.event:""})},t.prototype.onShowRedDotReceive=function(e,t){if(t.event){if(1==isgoServer&&e[t.event]){var n={};n[t.event]=e[t.event],e=n}if(!this.ShowRedDotDataResult)return;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];return this.ShowRedDotDataResult[i]=r,this.ShowRedDotDataResult=this.ShowRedDotDataResult,void(t.event==o.RedDotStr.clean_bet&&app.Client.OnEvent(a.GameEventDefine.SINGLE_CLEARBAT,this.ShowRedDotDataResult))}}this.ShowRedDotDataResult=e,app.Client.OnEvent(a.GameEventDefine.BETBONUS_RECEIVE,this.ShowRedDotDataResult)},t.prototype.onUpdateRedDotData=function(){this.ShowRedDotDataResult&&app.Client.OnEvent(a.GameEventDefine.SHOW_REDDOT_RECEIVE,this.ShowRedDotDataResult)},t.prototype.onUpdateRechargeInfoData=function(){},t.prototype.onUpdateRedDot=function(){this.onUpdateRedDotData(),this.onUpdateRechargeInfoData()},t.prototype.OnLoadHallSuccess=function(){this.RequestShowRedDotReceive({version:1})},t.prototype.OnReload=function(){this._RechargeInfoDataResult=null},t}(i.Singleton));n.RedDotManager=s,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine","../../Define/UINameDefine":"UINameDefine"}],ResDefine:[function(e,t){"use strict";cc._RF.push(t,"bbc96XlmLFFX7nDqMxPKSgd","ResDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabRes=n.TextureRes=void 0,n.TextureRes={POKER_PATH:"common/atlas/poker",RUMMY_POKER_PATH:"common/atlas/RummyPoker",BIG_POKER_PATH:"common/atlas/poker_big"},n.PrefabRes={},t.exports=n,cc._RF.pop()},{}],ResManager:[function(e,t){"use strict";cc._RF.push(t,"d3379gM9wpIv7Qd4StxuczC","ResManager");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("./ResDefine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resMap=new Map,t.totalCount=0,t.loadCount=0,t.isInit=!1,t.texturePaths=[],t.prefabPaths=[],t}return __extends(t,e),t.prototype.initSync=function(){this.isInit||(this.isInit=!0,this.texturePaths=this.getAssetPaths(a.TextureRes),this.prefabPaths=this.getAssetPaths(a.PrefabRes),this.totalCount=this.texturePaths.length+this.prefabPaths.length,cc.log("this.resCount = ",this.totalCount),this.loadResSync())},t.prototype.initAsync=function(){var e=this;if(!this.isInit){this.isInit=!0;var t=this.getAssetPaths(a.TextureRes),n=this.getAssetPaths(a.PrefabRes);this.totalCount=t.length+n.length,cc.log("this.resCount = ",this.totalCount),0!=this.totalCount?(t.forEach(function(t){cc.resources.loadDir(t,cc.SpriteFrame,function(n,o){e.loadResAsyncCb(n,o,t)})}),n.forEach(function(t){cc.resources.loadDir(t,cc.Prefab,function(n,o){e.loadResAsyncCb(n,o,t)})})):app.Client.OnEvent(i.GameEventDefine.LOAD_RES_SUCCESS)}},t.prototype.getResource=function(e){return this.resMap.get(e)},t.prototype.getLoadPercent=function(){var e=this.loadCount/this.totalCount;return(e+=0)>1?1:Number(e.toFixed(2))},t.prototype.getPokerTextureByName=function(e){var t=a.TextureRes.POKER_PATH+"/"+e;return this.getResource(t)},t.prototype.getBigPokerTextureByName=function(e){var t=a.TextureRes.BIG_POKER_PATH+"/"+e;return this.getResource(t)},t.prototype.getSmallPokerTextureByName=function(){},t.prototype.getRummyPokerTextureByName=function(e){var t=a.TextureRes.RUMMY_POKER_PATH+"/"+e;return this.getResource(t)},t.prototype.getRummyPokerTextureByID=function(e){var t=this.getCardTextureName(e);return this.getRummyPokerTextureByName(t)},t.prototype.getBigPokerTextureByID=function(e){var t=this.getCardTextureName(e);return this.getBigPokerTextureByName(t)},t.prototype.getSmallPokerTextureByID=function(e){var t=this.getCardTextureName(e);return this.getSmallPokerTextureByName(t)},t.prototype.getPokerTextureByID=function(e){var t=this.getCardTextureName(e);return this.getPokerTextureByName(t)},t.prototype.getCardTextureName=function(e){var t=Math.floor(e/16),n=e%16;if(t>4||t<0||0==e)return"card";if(4==t){if(1==n)return"king2";if(2==n)return"king1"}var o="";switch(t){case 0:o="T";break;case 1:o="H";break;case 2:o="M";break;case 3:o="F"}return n>=2&&n<=10?o+=n:11==n?o+="J":12==n?o+="Q":13==n?o+="K":14==n?o+="A":"card"},t.prototype.loadResAsyncCb=function(e,t,n){var o=this;e?cc.error(e):(t.forEach(function(e,t){var i=n+"/"+e.name;i?(e.addRef(),o.resMap.set(i,e)):cc.error("urls = ",i,"idx = ",t)}),this.loadCount++,cc.log("this.loadCount = ",this.loadCount),this.loadCount==this.totalCount&&app.Client.OnEvent(i.GameEventDefine.LOAD_RES_SUCCESS))},t.prototype.loadResSync=function(){var e=this;if(this.texturePaths.length>0){var t=this.texturePaths.shift();cc.resources.loadDir(t,cc.SpriteFrame,function(n,o){e.loadResSyncCb(n,o,t)})}else if(this.prefabPaths.length>0){var n=this.prefabPaths.shift();cc.resources.loadDir(n,cc.Prefab,function(t,o){e.loadResSyncCb(t,o,n)})}else app.Client.OnEvent(i.GameEventDefine.LOAD_RES_SUCCESS)},t.prototype.loadResSyncCb=function(e,t,n){var o=this;e?cc.error(e):(t.forEach(function(e,t){var i=n+"/"+e.name;i?(e.addRef(),o.resMap.set(i,e)):cc.error("urls = ",i,"idx = ",t)}),this.loadCount++,cc.log("this.loadCount = ",this.loadCount),this.loadResSync())},t.prototype.getAssetPaths=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];t.push(o)}return t},t.prototype.getCardNumber=function(e){var t=e%16;return t>=2&&t<=10?t+"":11==t?"J":12==t?"Q":13==t?"K":14==t?"A":void 0},t}(o.Singleton);n.default=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","./ResDefine":"ResDefine"}],RichTextCallBack:[function(e,t){"use strict";cc._RF.push(t,"9049fsuN9RJILSpTb7Ceba1","RichTextCallBack");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.setRichtextStrCallBack=function(e){this.getComponent(cc.RichText).string=e.str,this.data=e},t.prototype.handler=function(e,t){this.data.callBack(t)},__decorate([i],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],RoomManager:[function(e,t){"use strict";cc._RF.push(t,"556dbfSWc5H/r18weXiCnEA","RoomManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.RoomManager=void 0;var o=e("../Bundle/BundleManager"),i=e("../Bundle/EventDefine"),a=e("../../script/common/room_mode_tool"),r=e("../Base/Singleton"),s=e("../Define/FormDefine"),c=e("../Net/MsgEventDefine"),p=e("../../script/common/error_define"),l=e("../../script/common/GIDTool"),h=e("../Define/UINameDefine"),d=[a.RoomMode.ROOM_MODE_Roulette,a.RoomMode.ROOM_MODE_DRAGON_TIGER_HALL,a.RoomMode.ROOM_MODE_LUN_PAN],u=[l.GIDTool.WCS],_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameId="",t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="RoomManager",this.Log("Init"),this.RoomModeInfo=app.SysDataManager().GetTableDict(s.FormDefine.RoomModeInfo),cc.systemEvent.on(i.default.ENTER_GAME,this.OnEnterGame,this),cc.systemEvent.on(c.default.EVENT_CREATE_ROOM,this.respCreateRoom,this)},t.prototype.respCreateRoom=function(e){if(0==e.Eno||30103==e.Eno)app.UserManager().UserInfo.room_no=e.RoomID,app.UserManager().UserInfo.roomMode=e.RoomMode,app.RoomMessageCenter().startMonitorEvent(),app.UserManager().UserInfo.room_no>0&&app.UserManager().UserInfo.roomMode<1e4&&app.GameServerManager().send("req_roominfo");else if("number"==typeof e.Eno){var t=p.get(e.Eno);t&&app.SysNotifyManager().ShowToast(t())}else app.SysNotifyManager().ShowToast(e.Eno)},t.prototype.OnEnterGame=function(e){var t=e.customData,n=e.roomMode;if(t)return 0===t.loadType?void app.GameListManager().OpenRoomList(t):1===t.loadType?void(t.cb&&t.cb()):2===t.loadType?void this.RequestRoomInfo(t.gameId,t.roomId,t.venue):void this.ErrLog("unknown OnEnterGame");this.SendEnterRoom(n)},t.prototype.SendEnterRoom=function(e){var t=this.RoomModeInfo[e];if(t){if(t.RoomType==a.RoomType.ROOM_SINGLE)return this.gameId=t.GID.toString(),app.UserManager().UserInfo.roomMode=e,void app.GameManager().enterSceneByRoomMode(e);if(t.RoomType!=a.RoomType.ROOM_HUNDRED)if(t.RoomType!=a.RoomType.ROOM_GOLD){if(t.RoomType==a.RoomType.GO_ROOM_HUNDRED){var n=t.GID.toString(),o=this.GetGameRoomMgr(n);if(o)return o.gameId=n,o.OnReload(),void o.ReqJoinRoom(n)}this.ErrLog("EnterGame Failed: "+e)}else app.GameServerManager().send(app.GameServerManager().req_key_map.req_match_room.key,{RoomMode:e,Rematch:1},!0);else app.GameServerManager().send(app.GameServerManager().req_key_map.req_join_hall.key,{hall_id:e},!0)}else this.ErrLog("EnterGame Failed: "+e)},t.prototype.EnterGame=function(e,t){var n=this;t&&(t.loadType=0);var i=null;if(this.GetLoadedBundle(e)){if(t)return void app.GameListManager().OpenRoomList(t);i=function(){n.SendEnterRoom(e)}}else i=function(){o.BundleManager.Instance.enterBundle(e,t)};this.isGameLoading(e)?this.OpenGameLoading(e,i):i&&i()},t.prototype.isGameLoading=function(e){var t=this.GetRoomModeInfoByRoomMode(e);return!!(t&&t.UILoading&&app.ClientConfigManager().GetGlobalConfig.ShowGameLoading)},t.prototype.OpenGameLoading=function(e,t){app.GameManager().PushFightDefaultForm(),app.FormManager().ShowForm(h.UINameDefine.UIGameLoading,e,t)},t.prototype.GetLoadedBundle=function(e){var t=this.GetRoomModeInfoByRoomMode(e);return!!t&&o.BundleManager.Instance.GetLoadedBundle(t.BundleName)},t.prototype.ImmediateEnterGameCb=function(e){var t=this;app.UserManager().UserInfo.roomMode=e,app.GameManager().enterSceneByRoomMode(e,function(){t.SendEnterGSRoom(e)})},t.prototype.SendEnterGSRoom=function(e){var t=this.GetRoomModeInfoByRoomMode(e);if(t){var n=t.RoomType;if(!app.GameServerManager().GetLoginSuccess)return this.ErrLog("ImmediateEnterGame failed, game server not available."),void(n!=a.RoomType.ROOM_HUNDRED&&n!=a.RoomType.ROOM_GOLD||app.SysNotifyManager().ShowToast("Connection failed. Please check your network connection and try again"));n==a.RoomType.ROOM_HUNDRED?app.GameServerManager().send(app.GameServerManager().req_key_map.req_join_hall.key,{hall_id:e},!0):n==a.RoomType.ROOM_GOLD&&app.GameServerManager().send(app.GameServerManager().req_key_map.req_match_room.key,{RoomMode:e,Rematch:1},!0)}else this.ErrLog("SendEnterGSRoom failed GetRoomModeInfoByRoomMode: "+e)},t.prototype.ImmediateEnterGame=function(e,t){if(this.GetRoomModeInfoByRoomMode(e).BundleName)if(this.GetLoadedBundle(e))t&&t();else{var n={cb:t,loadType:1};o.BundleManager.Instance.enterBundle(e,n)}},t.prototype.GetRoomModeInfoByGid=function(e){for(var t=Object.keys(this.RoomModeInfo),n=0;n<t.length;n++){var o=this.RoomModeInfo[t[n]];if(o.GID==e)return o}return null},t.prototype.GetRoomModeInfoByRoomMode=function(e){return this.RoomModeInfo[e]},t.prototype.GetRoomModeInfoByBundleName=function(e){for(var t=Object.keys(this.RoomModeInfo),n=0;n<t.length;n++){var o=this.RoomModeInfo[t[n]];if(o.BundleName==e)return o}return null},t.prototype.GetRoomModeInfoBySceneName=function(e){for(var t=Object.keys(this.RoomModeInfo),n=0;n<t.length;n++){var o=this.RoomModeInfo[t[n]];if(o.SceneName==e)return o}return null},Object.defineProperty(t.prototype,"IsSingleGame",{get:function(){return this.GetRoomType==a.RoomType.ROOM_SINGLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsHundredGame",{get:function(){return this.GetRoomType==a.RoomType.ROOM_HUNDRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsRoomCard",{get:function(){return this.GetRoomType==a.RoomType.ROOM_CARD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsRoomGold",{get:function(){return this.GetRoomType==a.RoomType.ROOM_GOLD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetRoomType",{get:function(){var e=app.UserManager().GetUserInfo.roomMode;if(0==e)return a.RoomType.ROOM_NONE;var t=this.GetRoomModeInfoByRoomMode(e);return t?t.RoomType:(this.ErrLog("GetRoomType failed."),a.RoomType.ROOM_CARD)},enumerable:!1,configurable:!0}),t.prototype.SetEnableRefreshGold=function(e){this.EnableRefreshGold=e},t.prototype.SetWheelAnimation=function(e){this.IsWheelAnimation=e},Object.defineProperty(t.prototype,"EnableRefresh",{get:function(){var e=Number(this.gameId);return!!(e&&u.indexOf(e)>-1)||!this.IsSingleGame&&(d.indexOf(app.UserManager().GetUserInfo.roomMode)>-1?this.EnableRefreshGold:!this.IsWheelAnimation)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDouble",{get:function(){var e=app.UserManager().GetUserInfo.room_no;return e>=a.RoomMode.ROOM_MODE_Roulette&&e<=a.RoomMode.ROOM_MODE_OtherRoulette},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPoolDealRummy",{get:function(){return!(!this.isDealRummy&&!this.isPoolRummy)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPoolRummy",{get:function(){var e=app.UserManager().GetUserInfo.roomMode;return!(!a.RoomModeTool.isPoolRummy_101(e)&&!a.RoomModeTool.isPoolRummy_201(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDealRummy",{get:function(){var e=app.UserManager().GetUserInfo.roomMode;return!(!a.RoomModeTool.isDealRummy2p(e)&&!a.RoomModeTool.isDealRummy3p(e))},enumerable:!1,configurable:!0}),t.prototype.GetRoomMgr=function(e){return app.GetInstance(e)},t.prototype.GetCurRoomMgr=function(){return this.GetGameRoomMgr(this.gameId)},t.prototype.GetGameRoomMgr=function(e){var t="Game"+e+"Mgr";return this.GetRoomMgr(t)},t.prototype.GetCurHttpGameMgr=function(){var e="Game"+this.gameId+"Mgr";return app.GetInstance(e)},Object.defineProperty(t.prototype,"GetCurRoomType",{get:function(){var e=Number(this.gameId);if(e){var t=this.GetRoomModeInfoByGid(e);if(t)return t.RoomType}return a.RoomType.ROOM_NONE},enumerable:!1,configurable:!0}),t.prototype.LoadBundleAndRequestRoomInfo=function(e,t,n){var i=this.GetRoomModeInfoByGid(Number(e)).RoomMode;if(this.GetLoadedBundle(i))this.RequestRoomInfo(e,t,n);else{var a={loadType:2,gameId:e,roomId:t,venue:n};o.BundleManager.Instance.enterBundle(i,a)}},t.prototype.RequestRoomInfo=function(e,t,n){var o=this.GetGameRoomMgr(e);o?(o.gameId=e,o.OnReload(),o.ReqGetRoomInfo(t,n)):this.ErrLog("RequestRoomInfo: "+e+", "+t+", "+n)},t.prototype.IsOutGoldGamePop=function(){if(!this.IsRoomGold)return!1;var e=cc.mg.global.getMegHandleBase();return!(!e||!e.checkLeaveRoom())},t.prototype.GetGoldGame=function(e){var t=this.GetRoomModeInfoByGid(e);if(t&&(t.RoomType==a.RoomType.ROOM_GOLD||t.RoomType==a.RoomType.ROOM_CARD))return t.ShowName},t.prototype.GetGameScene=function(){var e=app.UserManager().GetUserInfo.roomMode;if(0!=e){var t=this.GetRoomModeInfoByRoomMode(e);if(t)return t.SceneName;this.ErrLog("GetGameScene error: "+e)}},t}(r.Singleton);n.RoomManager=_,t.exports=n,cc._RF.pop()},{"../../script/common/GIDTool":"GIDTool","../../script/common/error_define":"error_define","../../script/common/room_mode_tool":"room_mode_tool","../Base/Singleton":"Singleton","../Bundle/BundleManager":"BundleManager","../Bundle/EventDefine":"EventDefine","../Define/FormDefine":"FormDefine","../Define/UINameDefine":"UINameDefine","../Net/MsgEventDefine":"MsgEventDefine"}],RoomMessageCenter:[function(e,t){"use strict";cc._RF.push(t,"a28d9pxmUdPIoWbrcG4A/xV","RoomMessageCenter");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Net/MsgEventDefine"),i=e("../../Common/Net/BaseDefine"),a=e("../common/room_mode_tool"),r=e("../../Common/Define/GameEventDefine"),s=e("../../Common/Define/common_mj_cmd"),c=e("../../Common/Base/Singleton"),p=[],l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneReady=!1,t.needWaitReconnectMsg=!1,t._startMonitorEvent=!1,t}return __extends(t,e),t.prototype.Init=function(){cc.systemEvent.on(o.default.EVENT_ROOM_INFO,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_JOIN_ROOM,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_LEAVE_ROOM,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_READY,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ROUND_READY,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_VOTE_DISSOVLE_ROOM,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_DISSOVLE_ROOM,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_START,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ROOM_START_GAME,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ROOM_END_GAME,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ROOM_OPERATION,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_FACE,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ROOM_CHAT,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ONLINE_STATE,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_GAME_MESSAGE,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_ROOM_RECYCLE,this.resp_room_info,this),cc.systemEvent.on(o.default.EVENT_MATCH_COUNTDOWN,this.resp_room_info,this)},t.prototype.resp_room_info=function(e){if(app.UserManager().GetUserInfo&&0!=app.UserManager().GetUserInfo.room_no&&!(app.UserManager().GetUserInfo.roomMode>1e4)&&this._startMonitorEvent){if(o.default.EVENT_ROOM_INFO==e.event_type){if(cc.mg.global.setLoadGameTime(),cc.log("EVENT_ROOM_INFO==========>> time:"+cc.mg.global.getLoadGameTime()),!(u=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().GetUserInfo.roomMode)))return void cc.error("GetRoomModeInfoByRoomMode error: "+app.UserManager().GetUserInfo.roomMode);var t=u.SceneName;(a.GameSceneTool.isDzpkScene(t)||t==a.GameScene.PSZ)&&this.isHasGameEndMsg()?(p.Clear(),p.push(e)):p.unshift(e);for(var n=e.players,c=!1,l=0;l<n.length;l++){var h=n[l];if(h.uid==app.UserManager().GetUserInfo.uid){c=h.seat>=8;break}}if(1!=e.state&&(c||app.UserManager().GetUserInfo.is_reconned)){app.UserManager().GetUserInfo.is_reconned=!1,this.needWaitReconnectMsg=!0;var d={ReconnGame:{Res:0}};t==a.GameScene.ERMJ?app.GameServerManager().sendGamePacket(35,d):t!=a.GameScene.BYDR&&app.GameServerManager().sendGamePacket(2,d)}if(app.GameManager().curr_scene_name!=t)return void app.GameManager().enterSceneByRoomMode(app.UserManager().GetUserInfo.roomMode);if(this.sceneReady=!0,cc.error("GameEventDefine.RESET_ROOM_SCENE"),cc.systemEvent.emit(r.GameEventDefine.RESET_ROOM_SCENE),this.needWaitReconnectMsg)return}if(null!=e.Head&&(null==e.Head.Cmd||e.Head.Cmd!==i.COMMONGAME_MSG.COMMONGAME_GAME_INFO&&e.Head.Cmd!==i.COMMONGAME_MSG.COMMONGAME_REPLAY||(cc.mg.global.setReconnectGameTime(),cc.log("COMMONGAME_GAME_INFO==========>> time:"+cc.mg.global.getReconnectGameTime()))),this.needWaitReconnectMsg){if(null==e.Head)return;var u,_=e.Head.Cmd;if(null==_)return;if(!(u=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().GetUserInfo.roomMode)))return void cc.error("GetRoomModeInfoByRoomMode error: "+app.UserManager().GetUserInfo.roomMode);if((t=u.SceneName)==a.GameScene.ERMJ){if(_!=s.MJ_GAME_MSG.MJ_GAME_MSG_PLAYER_INFO)return _==s.MJ_GAME_MSG.MJ_GAME_MSG_GAME_INFO?void this.pushMessage(e):void 0;this.needWaitReconnectMsg=!1}else{if(_!=i.COMMONGAME_MSG.COMMONGAME_GAME_INFO&&_!=i.COMMONGAME_MSG.COMMONGAME_REPLAY)return void this.pushMessage(e);this.needWaitReconnectMsg=!1,t==a.GameScene.DDZ&&p.splice(1,p.length)}}if(this.sceneReady)if(p.length>0){e.event_type!=o.default.EVENT_ROOM_INFO&&this.pushMessage(e);for(var m=0;m<p.length;m++){var g=p[m];cc.systemEvent.emit("Room_"+g.event_type,g)}p.Clear()}else cc.systemEvent.emit("Room_"+e.event_type,e);else this.pushMessage(e)}},t.prototype.pushMessage=function(e){p.push(e)},t.prototype.sceneStandBy=function(){for(var e=0;e<p.length;e++){var t=p[e];cc.systemEvent.emit("Room_"+t.event_type,t)}p.Clear(),this.sceneReady=!0},t.prototype.clearMessageQueue=function(){this.sceneReady=!1,this.needWaitReconnectMsg=!1,p.Clear()},t.prototype.clearMessageQueueForReconnect=function(){this.needWaitReconnectMsg=!1,p.Clear()},t.prototype.startMonitorEvent=function(){this.clearMessageQueue(),this._startMonitorEvent=!0},t.prototype.stopMonitorEvent=function(){this.clearMessageQueue(),this._startMonitorEvent=!1},t.prototype.isHasGameEndMsg=function(){for(var e=0;e<p.length;e++){var t=p[e];if(t.Head&&t.Head.Cmd==i.COMMONGAME_MSG.COMMONGAME_ACTION_MATCH_RESULT)return!0}return!1},t.prototype.getPlayerCountFromRoomInfo=function(){for(var e=0;e<p.length;e++){var t=p[e];if(t.event_type==o.default.EVENT_ROOM_INFO)return t.MaxMemberCount}return 0},t}(c.Singleton);n.default=l,t.exports=n,cc._RF.pop()},{"../../Common/Base/Singleton":"Singleton","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/common_mj_cmd":"common_mj_cmd","../../Common/Net/BaseDefine":"BaseDefine","../../Common/Net/MsgEventDefine":"MsgEventDefine","../common/room_mode_tool":"room_mode_tool"}],ScoreUtil:[function(e,t){"use strict";cc._RF.push(t,"6f6afYfhytD0aGnws4czwe6","ScoreUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ScoreUtil=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="ScoreUtil",this.Log("Init")},t.prototype.FormatK=function(e){return e<1e3?""+e:Big(e).div(1e3).toString()+"k"},t.prototype.coinFormatter=function(e,t){var n,o=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(n=o.length-1;n>0&&!(e>=o[n].value);n--);return(e/o[n].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o[n].symbol},t.prototype.fix_float_number=function(e){return Math.floor(100*e)/100},t.prototype.fix_number=function(e,t){return(""+e).length<t?(new Array(t+1).join("0")+e).slice(-t):""+e},t.prototype.coinFixed2=function(e){return parseInt(e)===e?e.toFixed(2):("string"==typeof e&&(e=parseFloat(e)),e>0&&(e=Math.floor(100*e)/100),e.toFixed(2))},t.prototype.toFixed=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t),o=e*n+.5;return(o=parseInt(o.toString(),10)/n)+""},t.prototype.toFixedString=function(e){var t=e.toString();return t.indexOf(".")>=0&&t.split(".")[1].length>2?this.toFixed(e,2):e+""},t.prototype.formatScore22=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n=!1);var o="",i=(o=n?""+this.toFixed(e,t):""+e).indexOf(".");return i>0?""+Number(o.substring(0,i+t+1)):""+Number(o)},t.prototype.formatNumberWithCommas=function(e){var t=(""+Number(e)).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},t}(e("../Base/Singleton").Singleton);n.ScoreUtil=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ScrollViewExtend:[function(e,t){"use strict";cc._RF.push(t,"00c7f5GxhhARrEPMLhuNcXu","ScrollViewExtend");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollDir=void 0;var o,i,a=cc._decorator,r=a.ccclass;a.property,(i=o=n.ScrollDir||(n.ScrollDir={})).VERTICAL="VERTICAL",i.HORIZONTAL="HORIZONTAL",i.ALL="ALL",i.NOT="NOT";var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isScene=!1,t._activeCellMap={},t._activeCellList=[],t._cacheCellList=[],t._cacheStyleCellMap={},t._defaultCellSize=!1,t._paddingTop=0,t._paddingBottom=0,t._spacing=0,t._cellCount=0,t._gruop=1,t._cellDefaultSize=0,t._middleSyn=!1,t._isFillFull=!1,t._recycling=!0,t._scrollViewHeight=0,t._scrollViewWidth=0,t._isCreated=!1,t._isUpdate=!1,t._cellPerfab=null,t._needCraeteArray=[],t._needCraeteIndex=0,t._updateTimer=0,t._updateInterval=2,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){this._scrollView=this.node.getComponent(cc.ScrollView),this._content=this._scrollView.content,this._scrollViewHeight=this._scrollView.node.height,this._scrollViewWidth=this._scrollView.node.width,this._direction=n.getScrollDir(this._scrollView)},t.prototype.setDelegate=function(e){this.cleanCache(),this._delegate=e,this._paddingTop=this._delegate.paddingTop||0,this._paddingBottom=this._delegate.paddingBottom||0,this._spacing=this._delegate.spacing||0,this._defaultCellSize=this._delegate.defaultCellSize||!1,this._gruop=this._delegate.gruop||1,this._cellPerfabName=this._delegate.cellPerfabName||null,this._preCreateCount=this._delegate.preCreateCount||null,this._cellPerfabName&&(this._cellPerfab=null,"string"==typeof this._cellPerfabName||(this._cellPerfab=cc.instantiate(this._cellPerfabName))),!0===this._delegate.middleSyn?this._middleSyn=!0:this._middleSyn=!1,!1===this._delegate.recycling?this._recycling=!1:this._recycling=!0,this._delegate.defaultCellSize&&(this._cellDefaultSize=this._delegate.sizeOfCell(0)),this.checkDelegate()},t.prototype.setDelegateNoClean=function(e){this._delegate=e,this._paddingTop=this._delegate.paddingTop||0,this._paddingBottom=this._delegate.paddingBottom||0,this._spacing=this._delegate.spacing||0,this._defaultCellSize=this._delegate.defaultCellSize||!1,this._gruop=this._delegate.gruop||1,this._cellPerfabName=this._delegate.cellPerfabName||null,this._preCreateCount=this._delegate.preCreateCount||null,this._cellPerfabName&&(this._cellPerfab=null,"string"==typeof this._cellPerfabName||(this._cellPerfab=cc.instantiate(this._cellPerfabName))),!0===this._delegate.middleSyn?this._middleSyn=!0:this._middleSyn=!1,!1===this._delegate.recycling?this._recycling=!1:this._recycling=!0,this._delegate.defaultCellSize&&(this._cellDefaultSize=this._delegate.sizeOfCell(0)),this.checkDelegate()},t.prototype.checkDelegate=function(){if(this._middleSyn&&this._gruop>1&&!this._defaultCellSize)throw new Error("ScrollViewExtend: middleSyn is no apply beacause gruop > 1 or defaultCellSize is false");if(this._direction!==o.VERTICAL&&this._direction!==o.HORIZONTAL)throw new Error("ScrollViewExtend: ScrollView direction shoule be only horizontal or only vertical")},t.prototype.scrollEvent=function(){},t.prototype.forcScrollEvent=function(){this.updateCell()},t.prototype.update=function(){if(this._cellPerfabName)if(this._isCreated){if(this._updateTimer+=1,this._updateTimer<this._updateInterval)return;this._updateTimer=0,this.updateCell()}else{if(!this._cellPerfab)return;this.createItem(),this.createItem()}else{if(this._updateTimer+=1,this._updateTimer<this._updateInterval)return;this._updateTimer=0,this.updateCell()}},t.prototype.reload=function(e){this._cellCount=this._delegate.cellCount(),this.updateContentSize(),this.updateCell(e,!0)},t.prototype.createItem=function(){if(this._needCraeteIndex>=this._needCraeteArray.length)this._isCreated=!0;else{var e=cc.instantiate(this._cellPerfab);this._content.addChild(e);var t,n=this._needCraeteArray[this._needCraeteIndex],o=this.getPosByIndex(n),i=o[0],a=o[1];e.setPosition(i,a),this._activeCellMap[n]&&this._activeCellMap[n]instanceof cc.Component&&(this._activeCellMap[n].node.removeFromParent(),this._activeCellMap[n]=null),t="string"==typeof this._cellPerfabName?e.addComponent(this._cellPerfabName):e._components[0],this._activeCellMap[n]=t,this._delegate.updateCell(t,n),this._needCraeteIndex++,this._needCraeteIndex>=this._needCraeteArray.length&&(this._isCreated=!0,this._needCraeteIndex=0,this._needCraeteArray=[])}},t.prototype.updateContentSize=function(){if(this._scrollViewHeight=this._scrollView.node.height,this._scrollViewWidth=this._scrollView.node.width,this._isFillFull=!0,this._defaultCellSize)this._direction===o.VERTICAL?(this._content.height=Math.ceil(this._cellCount/this._gruop)*(this._cellDefaultSize+this._spacing)+this._paddingTop+this._paddingBottom,this._content.height<this._scrollViewHeight&&(this._content.height=this._scrollViewHeight,this._isFillFull=!1)):(this._content.width=Math.ceil(this._cellCount/this._gruop)*(this._cellDefaultSize+this._spacing)+this._paddingTop+this._paddingBottom,this._content.width<this._scrollViewWidth&&(this._content.width=this._scrollViewWidth,this._isFillFull=!1));else if(this._direction===o.VERTICAL){for(var e=0,t=0;t<this._cellCount;t++)e+=this._delegate.sizeOfCell(t)+this._spacing;this._content.height=e,this._content.height<this._scrollViewHeight&&(this._content.height=this._scrollViewHeight,this._isFillFull=!1)}else{var n=0;for(t=0;t<this._cellCount;t++)n+=this._delegate.sizeOfCell(t)+this._spacing;this._content.width=n,this._content.width<this._scrollViewWidth&&(this._content.width=this._scrollViewWidth,this._isFillFull=!1)}},t.prototype.updateCell=function(e,t){var n=this,o=this.getActiveIndex();!0===e?(this.hideUselessCell(this._activeCellList),this.showActiveCell(o),this._activeCellList=o):(JSON.stringify(o)!==JSON.stringify(this._activeCellList)&&(this.hideUselessCell(this._activeCellList.filter(function(e){return-1===o.indexOf(e)})),this.showActiveCell(o.filter(function(e){return-1===n._activeCellList.indexOf(e)})),this._activeCellList=o),!0===t&&this.refreshActiveCell(o.filter(function(e){return-1!==n._activeCellList.indexOf(e)})))},t.prototype.updateSingle=function(e){this._activeCellMap[e]&&this._activeCellMap[e]instanceof cc.Component&&this._delegate.updateCell(this._activeCellMap[e],e)},t.prototype.hideUselessCell=function(e){var t=this,n=this;e.forEach(function(e){n._activeCellMap[e]&&(n._activeCellMap[e].node.setPosition(6666,6666),n._cellPerfabName?n._cacheCellList.push(t._activeCellMap[e]):n.addStyleCellCache(t._activeCellMap[e]),delete n._activeCellMap[e])})},t.prototype.refreshActiveCell=function(e){var t=this;this._cellPerfabName?e.forEach(function(e){if(t._activeCellMap[e]){t._delegate.updateCell(t._activeCellMap[e],e);var n=t.getPosByIndex(e),o=n[0],i=n[1];t._activeCellMap[e].node.setPosition(o,i)}}):e.forEach(function(e){t._delegate.updateCell(t,e)})},t.prototype.showActiveCell=function(e){var t=this;if(this._cellPerfabName){var n=[];e.forEach(function(e){var o=t._cacheCellList.pop();if(o){var i=t.getPosByIndex(e),a=i[0],r=i[1];o.node.setPosition(a,r),t._delegate.updateCell(o,e),t._activeCellMap[e]=o}else n.push(e)}),n.length>0?(this._needCraeteIndex=0,this._needCraeteArray=n,this._isCreated=!1):this._isCreated=!0}else e.forEach(function(e){t._delegate.updateCell(t,e)})},t.prototype.getStyleCell=function(e,t){var n=null;if(this._activeCellMap[t]){if((n=this._activeCellMap[t]).styleName===e){var o=this.getPosByIndex(t),i=o[0],a=o[1];return n.node.setPosition(i,a),n}return this._activeCellMap[t].node.setPosition(6666,6666),this.addStyleCellCache(this._activeCellMap[t]),this._activeCellMap[t]=null,null}if(this._cacheStyleCellMap[e]&&(n=this._cacheStyleCellMap[e].pop())){var r=this.getPosByIndex(t);i=r[0],a=r[1],n.node.setPosition(i,a),this._activeCellMap[t]=n}return n},t.prototype.updateStyleCell=function(e,t,n){var o=n||"defalutStyle";e.styleName=o,this._activeCellMap[t]&&this._activeCellMap[t]instanceof cc.Component&&(this._activeCellMap[t].node.setPosition(6666,6666),this.addStyleCellCache(this._activeCellMap[t]),this._activeCellMap[t]=null),this._activeCellMap[t]=e;var i=this.getPosByIndex(t),a=i[0],r=i[1];e.node.setPosition(a,r),this._content.addChild(e.node)},t.prototype.addStyleCellCache=function(e){var t=e.styleName||"defalutStyle";this._cacheStyleCellMap[t]||(this._cacheStyleCellMap[t]=[]),this._cacheStyleCellMap[t].push(e)},t.prototype.getPosByIndex=function(e){var t=0,n=0;if(this._defaultCellSize)if(this._direction===o.VERTICAL)t=(e%this._gruop+.5)*(this._scrollViewWidth/this._gruop)-this._scrollViewWidth/2,n=-1*((Math.floor(e/this._gruop)+.5)*(this._cellDefaultSize+this._spacing)+this._paddingTop),!this._isFillFull&&this._middleSyn&&(n=(e+1)*this._scrollViewWidth/(this._cellCount+1)*-1);else{var i=this._scrollViewHeight/this._gruop;n=(this._gruop-1-e%this._gruop+.5)*i-this._scrollViewHeight/2,t=(Math.floor(e/this._gruop)+.5)*(this._cellDefaultSize+this._spacing)+this._paddingTop,!this._isFillFull&&this._middleSyn&&(t=(e+1)*this._scrollViewWidth/(this._cellCount+1))}else if(this._direction===o.VERTICAL){t=0;for(var a=0;a<=e;a++){var r=this._spacing;0===a&&(r=0),n+=this._delegate.sizeOfCell(a)+r,a===e&&(n-=this._delegate.sizeOfCell(a)/2)}n*=-1}else{for(n=0,a=0;a<=e;a++)r=this._spacing,0===a&&(r=0),t+=this._delegate.sizeOfCell(a)+r,a===e&&(t-=this._delegate.sizeOfCell(a)/2);t*=-1}return[t,n]},t.prototype.getActiveIndex=function(){if(!1===this._recycling){for(var e=[],t=0;t<this._cellCount;t++)e.push(t);return e}var n,i,a,r;if(this._direction===o.VERTICAL?((n=this._scrollView.getScrollOffset().y-this._paddingTop)<0&&(n=0),n+this._scrollViewHeight-this._paddingTop>this._content.height&&(n=this._content.height-this._scrollViewHeight+this._paddingTop),i=n+this._scrollViewHeight-this._paddingTop):((n=-1*this._scrollView.getScrollOffset().x-this._paddingTop)<0&&(n=0),(i=n+this._scrollViewWidth-this._paddingTop)>this._content.width&&(i=this._content.width)),this._defaultCellSize){var s=this._cellDefaultSize+this._spacing;a=Math.floor(n/s)*this._gruop-this._gruop,r=Math.ceil(i/s)*this._gruop+this._gruop+1}else a=this.getIndexByOffset(n)-this._gruop,r=this.getIndexByOffset(i)+this._gruop+1;n<=0&&(r+=2*this._gruop),a<0&&(a=0),this._preCreateCount&&(r=a+this._preCreateCount-1),r>this._cellCount-1&&(r=this._cellCount-1);var c=[];for(t=a;t<=r;t++)c.push(t);return c},t.prototype.getIndexByOffset=function(e){for(var t=0,n=0;n<this._cellCount;n++)if((n+1)%this._gruop==0&&(t+=this._delegate.sizeOfCell(n)+this._spacing),t>e)return n;return this._cellCount},t.prototype.cleanCache=function(){this._activeCellMap={},this._activeCellList=[],this._cacheCellList=[],this._cacheStyleCellMap={},this._content.removeAllChildren(),this._scrollView.scrollToTop()},t.prototype.addCellToCache=function(){for(var e in this._activeCellMap)this._cellPerfabName?this._cacheCellList.push(this._activeCellMap[e]):this.addStyleCellCache(this._activeCellMap[e])},t.prototype.cleanContent=function(){this.addCellToCache();for(var e=0;e<=this._content.children.length-1;e++)this._content.children[e].setPosition(6666,6666);this._activeCellMap={},this._activeCellList=[],this._scrollView.stopAutoScroll(),this._cellCount=0,this._scrollView.scrollToTop()},t.getScrollDir=function(e){return e.horizontal&&e.vertical?o.ALL:e.horizontal?o.HORIZONTAL:e.vertical?o.VERTICAL:o.NOT},t.prototype.getCacheCellList=function(){return this._cacheCellList},t.prototype.getActiveCellMap=function(){return this._activeCellMap},n=__decorate([r],t)}(cc.Component);n.default=s,t.exports=n,cc._RF.pop()},{}],ScrollViewHack:[function(e,t){"use strict";cc._RF.push(t,"f1ef1AbWI9EMrvR0amlHBHT","ScrollViewHack");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mul=10,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.MOUSE_WHEEL,this._onMouseWheel,this,!0)},t.prototype._onMouseWheel=function(e){e.setScrollData(e.getScrollX(),e.getScrollY()*this.mul)},__decorate([a({tooltip:"\u6539\u53d8\u6eda\u8f6e\u79fb\u52a8\u8ddd\u79bb\u7684\u500d\u6570"})],t.prototype,"mul",void 0),__decorate([i],t)}(cc.Component);n.default=r,t.exports=n,cc._RF.pop()},{}],ShareDefine:[function(e,t){"use strict";cc._RF.push(t,"f881bTverVKH5LrUlHKCl46","ShareDefine");var n,o={};Object.defineProperty(o,"__esModule",{value:!0}),o.SubClickType=o.PromoteMainSelTopTe=o.EnterType=o.GameBetDataConfig=o.GameCommonUIName=o.GameCommonEventType=o.ShowCommonType=o.ScrollEventType=o.SelTypeNode=o.HTTPERRORCODE=o.GameAtlasPath=o.FreeWindowType=o.VListPos=o.HListPos=o.NationPhoneNumberType=o.PayType=o.ActivityType=o.Hall_SelectTopToggle=o.WIN_TYPE=o.RedDotEnum=o.RedDotStr=o.HallPrefabType=o.SwitchBtnIndex=o.VisibleBtnTag=o.SupportListByText=o.OtherRedDotTxt=o.ReqFailCode=o.Development=o.SceneType=o.IntypeType=o.FormType=o.Version_Position=o.ConfirmType=void 0,(n=o.ConfirmType||(o.ConfirmType={})).Confirm="Confirm",n.ConfirmYN="ConfirmYN",n.ConfirmYNPagamento="ConfirmYNPagamento",n.ConfirmOK="ConfirmOK",n.ConfirmTips="ConfirmTips",n.ConfirmFree="ConfirmFree",n.ConfirmCustom="ConfirmCustom",n.ConfirmModal="ConfirmModal",function(e){e.India="1",e.Nigeria="2",e.Vietnam="3",e.Thai="4",e.Brazil="5",e.Mexico="6",e.Philippines="7"}(o.Version_Position||(o.Version_Position={})),function(e){e[e.Independent=0]="Independent",e[e.Hall=1]="Hall",e[e.Crossing=2]="Crossing",e[e.HallGame=3]="HallGame",e[e.IndependentGame=4]="IndependentGame"}(o.FormType||(o.FormType={})),function(e){e[e.Account=0]="Account",e[e.Main=1]="Main"}(o.IntypeType||(o.IntypeType={})),function(e){e[e.None=0]="None",e[e.Login=1]="Login",e[e.Hall=2]="Hall"}(o.SceneType||(o.SceneType={}));var i=function(){function e(){}return e.IsDevelopment=function(){return this._IsDevelopment},e.SetDevelopment=function(e){this._IsDevelopment=e},e._IsDevelopment=!0,e}();o.Development=i,function(e){e[e.IP_DEVICE_LIMIT=1]="IP_DEVICE_LIMIT",e[e.LOGIN_FAILED_VERIFICATION=300]="LOGIN_FAILED_VERIFICATION",e[e.IP_Limit=403]="IP_Limit",e[e.TokenInviable=1001]="TokenInviable",e[e.CPFverify=1002]="CPFverify"}(o.ReqFailCode||(o.ReqFailCode={})),o.OtherRedDotTxt={vip_cash_gift:"vip_cash_gift",sign_reward:"sign_reward",notice:"notice",unclaimed_task:"unclaimed_task",spread_way:"spread_way",clean_bet:"clean_bet",user_spread_way:"user_spread_way",loss_waiver_red:"free_lose",task_red:"task_red"},o.SupportListByText={group_chat_tel:"group_chat_tel",group_chat_fb:"group_chat_fb",group_chat_tg:"group_chat_tg"},function(e){e[e.Btn_Player=0]="Btn_Player",e[e.Btn_GoldBalance=1]="Btn_GoldBalance",e[e.Btn_Bank=2]="Btn_Bank",e[e.Btn_Service=3]="Btn_Service",e[e.Btn_Setting=4]="Btn_Setting",e[e.Btn_Barrage=5]="Btn_Barrage",e[e.Btn_Advertising=6]="Btn_Advertising",e[e.Btn_Notice=7]="Btn_Notice",e[e.Btn_Save=8]="Btn_Save",e[e.Btn_Withdraw=9]="Btn_Withdraw",e[e.Btn_Money=10]="Btn_Money",e[e.Btn_Pay=11]="Btn_Pay",e[e.Btn_New=12]="Btn_New",e[e.Btn_Diamond=13]="Btn_Diamond",e[e.Btn_Sign=14]="Btn_Sign",e[e.Btn_Activity=15]="Btn_Activity",e[e.Btn_Wheel=16]="Btn_Wheel",e[e.Btn_RedPacket=17]="Btn_RedPacket",e[e.Btn_SaveGame=18]="Btn_SaveGame",e[e.Btn_Classify=19]="Btn_Classify",e[e.Btn_HotGm=20]="Btn_HotGm",e[e.Btn_ChessGm=21]="Btn_ChessGm",e[e.Btn_ElectronGm=22]="Btn_ElectronGm",e[e.Btn_VideoGm=23]="Btn_VideoGm",e[e.Btn_LotteryGm=24]="Btn_LotteryGm",e[e.Btn_Chips=25]="Btn_Chips",e[e.Btn_NewRegist=26]="Btn_NewRegist",e[e.Btn_NoobGuide=27]="Btn_NoobGuide",e[e.Btn_VIP=28]="Btn_VIP",e[e.Withdrawal=29]="Withdrawal",e[e.Btn_TASK=30]="Btn_TASK",e[e.Btn_NewMoney=31]="Btn_NewMoney",e[e.horseRaceLamp=32]="horseRaceLamp",e[e.btn_facebookBtn=33]="btn_facebookBtn",e[e.Btn_playnow=38]="Btn_playnow",e[e.PageView=39]="PageView",e[e.Btn_bindPhoneBtn=43]="Btn_bindPhoneBtn",e[e.RoomCardBtn=44]="RoomCardBtn",e[e.DownloadBtn=45]="DownloadBtn",e[e.ShowType=46]="ShowType",e[e.btn_email=47]="btn_email",e[e.ranking_list=48]="ranking_list",e[e.btn_free=49]="btn_free",e[e.Btn_Openredpacket=50]="Btn_Openredpacket",e[e.shop_record=51]="shop_record",e[e.gameBackBtn=52]="gameBackBtn",e[e.GoogleLoginBtn=53]="GoogleLoginBtn",e[e.BottomGCItem=54]="BottomGCItem",e[e.LoginOnline=55]="LoginOnline",e[e.bottomGame=56]="bottomGame",e[e.TaskBtn=57]="TaskBtn"}(o.VisibleBtnTag||(o.VisibleBtnTag={})),function(e){e[e.BTN_PAY=1]="BTN_PAY",e[e.BTN_WITHDRAW=2]="BTN_WITHDRAW",e[e.BTN_HOME=3]="BTN_HOME",e[e.BTN_ACTIVITY=4]="BTN_ACTIVITY",e[e.BTN_MORE=5]="BTN_MORE"}(o.SwitchBtnIndex||(o.SwitchBtnIndex={})),function(e){e[e.Normal=1]="Normal",e[e.Recent=2]="Recent",e[e.Sport=3]="Sport"}(o.HallPrefabType||(o.HallPrefabType={})),function(e){e.clean_bet="clean_bet",e.free_lose="free_lose",e.mail="mail",e.notice="notice",e.recharge_send_activity="recharge_send_activity",e.sign_reward="sign_reward",e.spread_way="spread_way",e.unclaimed_task="unclaimed_task",e.user_spread_way="user_spread_way",e.vip_cash_gift="vip_cash_gift",e.week_month_card="week_month_card",e.task_red="task_red",e.lossRebate="lossRebate",e.luckylottery="luckylottery",e.newbieBonus="newbieBonus",e.bonusUnfrozen="bonusUnfrozen",e.mission="mission",e.game="game",e.mine="mine"}(o.RedDotStr||(o.RedDotStr={})),function(e){e[e.null=0]="null",e[e.sign_reward=1]="sign_reward",e[e.notice=2]="notice",e[e.unclaimed_task=3]="unclaimed_task",e[e.spread_way=4]="spread_way",e[e.clean_bet=5]="clean_bet",e[e.user_spread_way=6]="user_spread_way",e[e.loss_waiver_red=7]="loss_waiver_red",e[e.recharge_send_activity=8]="recharge_send_activity",e[e.vip_cash_gift=9]="vip_cash_gift",e[e.mail=10]="mail",e[e.week_month_card=11]="week_month_card",e[e.free_lose=13]="free_lose",e[e.task_red=15]="task_red",e[e.lossRebate=16]="lossRebate",e[e.luckylottery=17]="luckylottery",e[e.newbieBonus=18]="newbieBonus",e[e.bonusUnfrozen=31]="bonusUnfrozen",e[e.mission=32]="mission",e[e.game=33]="game",e[e.mine=34]="mine"}(o.RedDotEnum||(o.RedDotEnum={})),function(e){e[e.STORE=0]="STORE",e[e.CASHOUT=1]="CASHOUT"}(o.WIN_TYPE||(o.WIN_TYPE={})),function(e){e[e.Home=0]="Home",e[e.Share=1]="Share",e[e.Coupon=2]="Coupon",e[e.Email=3]="Email",e[e.Free=4]="Free",e[e.Mine=5]="Mine"}(o.Hall_SelectTopToggle||(o.Hall_SelectTopToggle={})),function(e){e[e.vip_privileges=1]="vip_privileges",e[e.recharge_reward=2]="recharge_reward",e[e.daily_bonus=3]="daily_bonus",e[e.progressive_recharge_time=4]="progressive_recharge_time",e[e.betting_bonus=5]="betting_bonus",e[e.limit_recharge=6]="limit_recharge",e[e.single_recharge=7]="single_recharge",e[e.week_month_card=8]="week_month_card",e[e.vip_offer=9]="vip_offer",e[e.agent=10]="agent",e[e.welcome_bonus=11]="welcome_bonus",e[e.recharge_send_gold=12]="recharge_send_gold",e[e.facebook=13]="facebook",e[e.telegram=14]="telegram",e[e.first_recharge_gift=15]="first_recharge_gift",e[e.ordinary_recharge_gift=16]="ordinary_recharge_gift",e[e.subordinate_recharge_gift=17]="subordinate_recharge_gift",e[e.reserve_event_one=18]="reserve_event_one",e[e.reserve_event_two=19]="reserve_event_two",e[e.reserve_event_three=20]="reserve_event_three",e[e.email_register_gift=21]="email_register_gift",e[e.ip_white_gift=22]="ip_white_gift",e[e.agency_promotion=23]="agency_promotion",e[e.rain_of_red_envelopes=24]="rain_of_red_envelopes",e[e.Atividades_de_Natal=25]="Atividades_de_Natal",e[e.daily_Registrations=26]="daily_Registrations",e[e.Cash_Wheel=27]="Cash_Wheel",e[e.LossRebate=28]="LossRebate",e[e.NewbieBonus=29]="NewbieBonus",e[e.LuckyLottery=30]="LuckyLottery",e[e.BonusUnfrozen=31]="BonusUnfrozen"}(o.ActivityType||(o.ActivityType={})),function(e){e[e.CASHFREE=1]="CASHFREE",e[e.MPURSE=2]="MPURSE",e[e.RAZOR=3]="RAZOR",e[e.PAYU=4]="PAYU",e[e.EPAY365=5]="EPAY365",e[e.PAZORPAY=6]="PAZORPAY",e[e.PAYTM=9]="PAYTM"}(o.PayType||(o.PayType={})),function(e){e[e.Login=0]="Login",e[e.SignUp=1]="SignUp",e[e.ChangePwd=2]="ChangePwd",e[e.BindPhone=3]="BindPhone"}(o.NationPhoneNumberType||(o.NationPhoneNumberType={})),o.HListPos=[cc.v2(220,194),cc.v2(220,194),cc.v2(0,60),cc.v2(0,20)],o.VListPos=[{top:380,left:0,right:0,bottom:0},{top:380,left:0,right:0,bottom:0},cc.v2(0,80),cc.v2(0,20)],function(e){e[e.GoldNod=1]="GoldNod",e[e.FreeOutGame=2]="FreeOutGame",e[e.FreeNotice=3]="FreeNotice",e[e.FreeInFreeGameNotice=4]="FreeInFreeGameNotice"}(o.FreeWindowType||(o.FreeWindowType={})),o.GameAtlasPath="atlas/",function(e){e[e.GOLD_NOT_ENOUGH=2004]="GOLD_NOT_ENOUGH",e[e.LEAST_GOLD_NOT_ENOUGH=2005]="LEAST_GOLD_NOT_ENOUGH",e[e.MIN_BET_LIMIT=2007]="MIN_BET_LIMIT",e[e.MAX_BET_LIMIT=2008]="MAX_BET_LIMIT"}(o.HTTPERRORCODE||(o.HTTPERRORCODE={})),function(e){e[e.BetBonus=0]="BetBonus",e[e.vip=1]="vip"}(o.SelTypeNode||(o.SelTypeNode={})),function(e){e[e.SCROLL_START=0]="SCROLL_START",e[e.SCROLL_ING=1]="SCROLL_ING",e[e.SCROLL_END=2]="SCROLL_END"}(o.ScrollEventType||(o.ScrollEventType={})),function(e){e[e.bet_options=0]="bet_options",e[e.bet_auto=1]="bet_auto"}(o.ShowCommonType||(o.ShowCommonType={}));var a=function(){function e(){}return e.GetRound="GameCommonEventType_GetRound",e.GetAmount="GameCommonEventType_GetBetAmountData",e.PlayBigWinEndEvent="GameCommonEventType_PlayBigWinEndEvent",e.PlayBigWinEndEvent2="GameCommonEventType_PlayBigWinEndEvent2",e.CloseBigWin="GameCommonEventType_CloseBigWin",e}();o.GameCommonEventType=a;var r=function(){function e(){}return e.UIGameBetCommon="UIGameBetCommon",e}();o.GameCommonUIName=r,o.GameBetDataConfig=function(){},function(e){e[e.other=0]="other",e[e.betGold=1]="betGold",e[e.odds=2]="odds",e[e.round=3]="round",e[e.fourCode=4]="fourCode"}(o.EnterType||(o.EnterType={})),function(e){e[e.Invite=0]="Invite",e[e.Refer=1]="Refer",e[e.Member=2]="Member",e[e.Bonus=3]="Bonus"}(o.PromoteMainSelTopTe||(o.PromoteMainSelTopTe={})),function(e){e[e.DepositHistory=0]="DepositHistory",e[e.WithdrawalHistory=1]="WithdrawalHistory"}(o.SubClickType||(o.SubClickType={})),t.exports=o,cc._RF.pop()},{}],ShowAllFit:[function(e,t){"use strict";cc._RF.push(t,"ba571DwaWpJmI2WY/WrtkgV","ShowAllFit");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=o.executionOrder,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.designResolution=cc.size(750,1334),t}return __extends(t,e),t.prototype.onEnable=function(){app.ComTool().DesktopPlatform()?(this.node.parent.on(cc.Node.EventType.SIZE_CHANGED,this.fitHeight,this),this.fitHeight()):(this.node.parent.on(cc.Node.EventType.SIZE_CHANGED,this.fitWidth,this),this.fitWidth())},t.prototype.fitHeight=function(){this.node.scale=this.node.parent.height/this.designResolution.height;for(var e=this.node.parent;e;)this.node.scale/=e.scale,e=e.parent},t.prototype.fitWidth=function(){var e=this.node.parent.width/this.node.parent.height;this.designResolution.width/this.designResolution.height<e?this.fitHeight():this.node.scale=1},t.prototype.onDisable=function(){app.ComTool().DesktopPlatform()?this.node.parent.off(cc.Node.EventType.SIZE_CHANGED,this.fitHeight,this):this.node.parent.off(cc.Node.EventType.SIZE_CHANGED,this.fitWidth,this)},__decorate([a(cc.Size)],t.prototype,"designResolution",void 0),__decorate([i,r(1)],t)}(cc.Component);n.default=s,t.exports=n,cc._RF.pop()},{}],Singleton:[function(e,t){"use strict";cc._RF.push(t,"d5f4dlq7iZG4KKp1xNwpycv","Singleton");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.Singleton=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.GetInstance=function(){return this._instance||(this._instance=new this),this._instance},t}(e("./BaseClass").BaseClass);n.Singleton=o,t.exports=n,cc._RF.pop()},{"./BaseClass":"BaseClass"}],SoundManager:[function(e,t){"use strict";cc._RF.push(t,"8676f3+3jdN8Ir2bXFWXvHY","SoundManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/FormDefine"),a=function(e){function t(){var t=e.call(this)||this;return t.LocalDataManager=app.LocalDataManager(),t.backMusicName="",t.targetBackMusicName="",t.pauseTimes=0,t.JS_Name="SoundManager",t.Log("Init"),t.Sound=app.SysDataManager().GetTableDict(i.FormDefine.Sound),t.UpdateMusicVolume(),cc.game.on(cc.game.EVENT_HIDE,function(){t.PauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){t.GetBackMusicSetting&&t.ResumeAll()}),t}return __extends(t,e),t.prototype.PlayBackMusic=function(e,t,n){return void 0===e&&(e=this.targetBackMusicName),void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){var o,i,a,r,s,c=this;return __generator(this,function(p){switch(p.label){case 0:return e?(this.targetBackMusicName=e,this.GetBackMusicSetting?e==this.backMusicName?[2]:(o=this.Sound[e])?(i=o.SoundPath,this.backMusicName=e,o.BundleName?[4,app.ControlManager().CreateBundleLoadPromise(o.BundleName,i,cc.AudioClip)]:[3,2]):(this.WarnLog("PlayBackMusic(%s) not find",e),[2]):[2]):[2];case 1:return a=p.sent(),[3,4];case 2:return[4,app.ControlManager().CreateLoadPromise(i,cc.AudioClip)];case 3:a=p.sent(),p.label=4;case 4:return this.SysLog("\u64ad\u653e\u80cc\u666f\u97f3\u4e50 "+e),r=cc.audioEngine.playMusic(a,t),t||(s=function(){c.StopBackMusic(),n&&n()},cc.audioEngine.setFinishCallback(r,s)),[2]}})})},Object.defineProperty(t.prototype,"isMusicPlaying",{get:function(){return cc.audioEngine.isMusicPlaying()},enumerable:!1,configurable:!0}),t.prototype.StopBackMusic=function(){this.SysLog("\u505c\u6b62\u6240\u6709\u97f3\u4e50"),cc.audioEngine.stopMusic(),this.backMusicName=null,this.targetBackMusicName=null},t.prototype.PauseBackMusic=function(){0==this.pauseTimes&&cc.audioEngine.pauseMusic(),++this.pauseTimes,this.SysLog("\u6682\u505c\u80cc\u666f\u97f3\u4e50 \u5269\u4f59\u6b21\u6570:"+this.pauseTimes)},t.prototype.ResumeBackMusic=function(){this.pauseTimes=Math.max(0,this.pauseTimes-1),this.SysLog("\u6062\u590d\u80cc\u666f\u97f3\u4e50 \u5269\u4f59\u6b21\u6570:"+this.pauseTimes),0==this.pauseTimes&&cc.audioEngine.resumeMusic()},t.prototype.UpdateMusicVolume=function(){var e=this.GetBackMusicSetting,t=app.LocalDataManager().GetConfigProperty("SysSetting","BackVolume");t=e?t:0,cc.audioEngine.setMusicVolume(t)},t.prototype.PlaySound=function(e,t){return void 0===t&&(t=!1),__awaiter(this,void 0,void 0,function(){var n,o,i,a,r,s;return __generator(this,function(c){switch(c.label){case 0:return n=this.LocalDataManager.GetConfigProperty("SysSetting","SpVolume"),n=this.GetSoundSetting?n:0,e instanceof cc.AudioClip?(o=cc.audioEngine.play(e,t,n),[2,Promise.resolve(o)]):[3,1];case 1:if(!(i=this.Sound[e]))return this.WarnLog("PlaySound(%s) not find",e),[2,Promise.resolve(0)];a=i.SoundPath,c.label=2;case 2:return c.trys.push([2,7,,8]),r=void 0,i.BundleName?[4,app.ControlManager().CreateBundleLoadPromise(i.BundleName,a,cc.AudioClip)]:[3,4];case 3:return r=c.sent(),[3,6];case 4:return[4,app.ControlManager().CreateLoadPromise(a,cc.AudioClip)];case 5:r=c.sent(),c.label=6;case 6:return this.SysLog("\u64ad\u653e\u97f3\u6548 "+e),[2,cc.audioEngine.play(r,t,n)];case 7:return s=c.sent(),this.ErrLog("PlaySound:%s error",s.stack),[2,0];case 8:return[2]}})})},t.prototype.SetSounds=function(e){app.LocalDataManager().SetConfigProperty("SysSetting","SpSound",e)},t.prototype.SetBackMusic=function(e){app.LocalDataManager().SetConfigProperty("SysSetting","BackMusic",e),this.UpdateMusicVolume(),e&&this.PlayBackMusic()},Object.defineProperty(t.prototype,"GetBackMusicSetting",{get:function(){return app.LocalDataManager().GetConfigProperty("SysSetting","BackMusic")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetSoundSetting",{get:function(){return app.LocalDataManager().GetConfigProperty("SysSetting","SpSound")},enumerable:!1,configurable:!0}),t.prototype.StopSoundByAudioID=function(e){null!=e&&cc.audioEngine.stop(e)},t.prototype.PauseAll=function(){cc.audioEngine.pauseAll(),cc.audioEngine.pauseMusic()},t.prototype.ResumeAll=function(){cc.audioEngine.resumeAll(),cc.audioEngine.resumeMusic()},t.prototype.StopAll=function(){this.StopBackMusic(),cc.audioEngine.stopAll()},t}(o.Singleton);n.SoundManager=a,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/FormDefine":"FormDefine"}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"f3585uGOXpKT7ISoxITCOtB","SpriteFrameSet");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.SpriteFrameSet=void 0;var o=cc._decorator,i=o.ccclass,a=o.property,r=function(){function e(){this.language="",this.spriteFrame=null}return __decorate([a(cc.String)],e.prototype,"language",void 0),__decorate([a(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),__decorate([i("SpriteFrameSet")],e)}();n.SpriteFrameSet=r,t.exports=n,cc._RF.pop()},{}],Store2Manager:[function(e,t){"use strict";cc._RF.push(t,"25610MrrT1BYoCC3l1+lAGJ","Store2Manager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.Store2Manager=n.StorePayType=void 0;var o,i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine");(o=n.StorePayType||(n.StorePayType={}))[o.GooglePay=7]="GooglePay";var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PayChannelList=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="Store2Manager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.PAY_CHANNEL_TYPE_LIST,this.OnPayChannelTypes,this)},t.prototype.SendPayChannelTypes=function(){var e={token:app.UserManager().GetUserInfo.token,uid:app.UserManager().GetUserInfo.uid,mainVer:app.ClientConfigManager().GetGlobalConfig.mainVer,subVer:app.ClientConfigManager().GetGlobalConfig.subVer,pkgName:app.ComTool().getPackageName(),platform:cc.sys.os,Type:cc.sys.platform};app.HttpServerManager().SendHttpPack(r.HttpAPI.PAY_CHANNEL_TYPE_LIST,e)},t.prototype.OnPayChannelTypes=function(e){this.PayChannelList=e,app.Client.OnEvent(a.GameEventDefine.PAY_CHANNEL_TYPES)},t.prototype.GetChannel=function(e){if(this.PayChannelList)for(var t=0;t<this.PayChannelList.length;t++){var n=this.PayChannelList[t];if(n.id==e)return n}return null},t.prototype.GetChoseChannel=function(){return this.GetChannel(this.ChosePayChennelId)},t.prototype.GetSubChannel=function(e,t){t||(t=0);var n=this.GetChannel(e);return n?n.channel_list[t]:null},t.prototype.GetChoseSubChannel=function(e){e||(e=0);var t=this.GetChoseChannel();return t?t.channel_list[e]:null},t.prototype.GetChoseTypeItem=function(){var e=this.GetChoseChannel();if(e)for(var t=0;t<e.type_lists.length;t++){var n=e.type_lists[t];if(n.type_id==this.ChosePayTypeId)return n}return null},t.prototype.GetActSendInfo=function(e,t,n){var o=this.GetSubChannel(e,t);if(o)for(var i=0;i<o.act_send.length;i++){var a=o.act_send[i];if(a.amount==n)return a}return null},t.prototype.GetChoseNewChannelList=function(){var e=this.GetChoseTypeItem();return e&&e.new_channel_list?e.new_channel_list:null},t.prototype.GetActSendPercent=function(e,t){for(var n=e.act_send,o=0;o<n.length;o++){var i=n[o],a=n[o+1]||{amount:1/0};if(Number(t)>=Number(i.amount)&&Number(t)<Number(a.amount))return n[o];if(Number(t)==Number(i.amount))return n[o]}return null},t.prototype.GetPercentNum=function(e){var t=0,n=this.GetChoseNewChannelList(),o=this.GetActSendPercent(n,e);if(o){if(o.activity_info){var i=o.activity_info;t+=Number(i.send_percent)}var a=o.channel_recharge_activity_info;if(a)for(var r=0;r<a.length;r++)i=a[r],t+=Number(i.send_percent)}return t},t.prototype.GetPercentGold=function(e){var t=0,n=this.GetPercentNum(e);return n>0&&(t=Number(e)*n/100),t},t}(i.Singleton);n.Store2Manager=s,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine"}],Store3Manager:[function(e,t){"use strict";cc._RF.push(t,"55005QBfB9B+7aLhIJd6gmE","Store3Manager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.Store3Manager=void 0;var o=e("../../Base/Singleton"),i=e("../../Define/GameEventDefine"),a=e("../../Define/HttpServerDefine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PayChannelList=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="Store3Manager",app.HttpServerManager().RegNetPack(a.HttpAPI.PAY_CHANNEL_LISTS,this.OnPayChannelTypes,this)},t.prototype.SendPayChannelTypes=function(){var e={token:app.UserManager().GetUserInfo.token,uid:app.UserManager().GetUserInfo.uid,mainVer:app.ClientConfigManager().GetGlobalConfig.mainVer,subVer:app.ClientConfigManager().GetGlobalConfig.subVer,pkgName:app.ComTool().getPackageName(),platform:cc.sys.os,Type:cc.sys.platform};app.HttpServerManager().SendHttpPack(a.HttpAPI.PAY_CHANNEL_LISTS,e)},t.prototype.OnPayChannelTypes=function(e){this.PayChannelList=e,app.Client.OnEvent(i.GameEventDefine.PAY_CHANNEL_TYPES)},t.prototype.GetTypeItem=function(e){if(this.PayChannelList)for(var t=0;t<this.PayChannelList.length;t++){var n=this.PayChannelList[t];if(n.id==e)return n}return null},t.prototype.GetChoseType=function(){return this.GetTypeItem(this.ChosePayTypeId)},t.prototype.GetChoseChannelItem=function(){var e=this.GetChoseType();if(e)for(var t=0;t<e.channel_lists.length;t++){var n=e.channel_lists[t];if(n.id==this.ChosePayChannelId)return n}return null},t.prototype.GetChoseSubChannel=function(e){e||(e=0);var t=this.GetChoseChannelItem();return t?t.channel_list[e]:null},t.prototype.GetChoseNewChannelList=function(){var e=this.GetChoseChannelItem();return e&&e.new_channel_list?e.new_channel_list:null},t.prototype.GetActSendPercent=function(e,t){for(var n=e.act_send,o=0;o<n.length;o++){var i=n[o],a=n[o+1]||{amount:1/0,send_percent:0};if(Number(t)>=Number(i.amount)&&Number(t)<Number(a.amount)&&i.activity_info)return n[o];if(Number(t)==Number(i.amount)&&!i.activity_info)return n[o]}return null},t.prototype.GetPercentGold=function(e){var t=0,n=this.GetChoseNewChannelList(),o=this.GetActSendPercent(n,e);if(o&&o.activity_info){var i=Number(o.send_percent);i>0&&(t=Number(o.amount)*i/100)}return t},t}(o.Singleton);n.Store3Manager=r,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine"}],StoreManager:[function(e,t){"use strict";cc._RF.push(t,"b8046BVDKxKVpBpa0whlQYj","StoreManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.StoreManager=n.StorePayType=void 0;var o,i,a=e("../../Base/Singleton"),r=e("../../Define/GameEventDefine"),s=e("../../Define/HttpServerDefine"),c=e("../../Define/ShareDefine"),p=e("../../Define/UINameDefine");(i=o=n.StorePayType||(n.StorePayType={}))[i.GooglePay=7]="GooglePay";var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GoodsList=null,t.PayType={},t.PayGoodResult=null,t.DiffTime=0,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="StoreManager",this.Log("Init"),app.HttpServerManager().RegNetPack(s.HttpAPI.GOODS_LIST,this.onGoodsList,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GOODS_PAY,this.onGoodsPay,this),app.HttpServerManager().RegNetPack(s.HttpAPI.GET_PAY_NOTIFYURL,this.AddMonitor,this)},t.prototype.RequstGoodsList=function(){var e={token:app.UserManager().GetUserInfo.token,uid:app.UserManager().GetUserInfo.uid,mainVer:app.ClientConfigManager().GetGlobalConfig.mainVer,subVer:app.ClientConfigManager().GetGlobalConfig.subVer,pkgName:app.ComTool().getPackageName(),platform:cc.sys.os,Type:cc.sys.platform};app.HttpServerManager().SendHttpPack(s.HttpAPI.GOODS_LIST,e)},t.prototype.onGoodsList=function(e){if(isgoServer)for(var t in e)for(var n in e[t].channel_list)e[t].channel_list[n].sale={},e[t].channel_list[n].cur_time=Date.now()/1e3,e[t].channel_list[n].goods||(e[t].channel_list[n].goods=e[t].goods,e[t].channel_list[n].goods||(e[t].channel_list[n].goods=["20","50","100","300","500","1000","5000","10000","20000"]));var o=this;this.GoodsList=e,this.GoodsList.forEach(function(e){o.PayType[e.id]=e.return_type}),app.Client.OnEvent(r.GameEventDefine.GET_GOODS_LIST)},Object.defineProperty(t.prototype,"GetGoodsList",{get:function(){return this.GoodsList},set:function(e){this.onGoodsList(e)},enumerable:!1,configurable:!0}),t.prototype.GetChannel=function(e){var t=app.GameConfigManager().GetGameConfig().pay_channel_version;if(t==s.PayUIType.Pay_UI_Type_Vietnam_Channel)return app.Store2Manager().GetChannel(e);if(t==s.PayUIType.Pay_UI_Type_Vietnam_Type)return app.Store3Manager().GetChoseChannelItem();if(!this.GoodsList)return null;for(var n=0;n<this.GoodsList.length;n++){var o=this.GoodsList[n];if(o.id==e)return o}return null},t.prototype.GetDefaultChannel=function(){return this.GoodsList?this.GoodsList[0]:null},t.prototype.GetDefaultSubChannel=function(){var e=this.GetDefaultChannel();return e?e.channel_list[0]:null},t.prototype.GetSubChannel=function(e,t){t||(t=0);var n=this.GetChannel(e);return n?n.channel_list[t]:null},Object.defineProperty(t.prototype,"GetPayType",{get:function(){return this.PayType},enumerable:!1,configurable:!0}),t.prototype.GetActSendInfo=function(e,t,n){var o=this.GetSubChannel(e,t);if(o)for(var i=0;i<o.act_send.length;i++){var a=o.act_send[i];if(a.amount==n)return a}return null},t.prototype.RequstPayGood=function(e){app.HttpServerManager().SendHttpPack(s.HttpAPI.GOODS_PAY,e)},t.prototype.onGoodsPay=function(e,t){this.PayGoodResult=e,t.type!=o.GooglePay?app.Client.OnEvent(r.GameEventDefine.GOODS_PAY,t):app.NativeMgr().OpenGooglePay(app.UserManager().GetUserInfo.uid,e.orderid,t.amount)},t.prototype.AddMonitor=function(e,t){app.HttpServerManager().UnRegNetPack(e.notify_url,this.OnPayGoogleNotify,this),app.HttpServerManager().RegNetPack(e.notify_url,this.OnPayGoogleNotify,this),app.HttpServerManager().SendHttpPack(e.notify_url,t)},t.prototype.GetPayGoodResult=function(){return this.PayGoodResult},t.prototype.InActivity=function(e){var t=e.act_status,n=e.act_start,o=e.act_end,i=e.act_send,a=Math.round(Date.now()/1e3)+this.DiffTime;return!!(t&&n>=a&&a<=o&&i.length>0)||(e.act_send,!0)},t.prototype.GetActSendPercent=function(e,t){for(var n=e.act_send,o=0;o<n.length;o++){var i=n[o],a=n[o+1]||{amount:1/0};if(Number(t)>=Number(i.amount)&&Number(t)<Number(a.amount))return n[o];if(Number(t)==Number(i.amount))return n[o]}return null},t.prototype.ShowStoreUI=function(e){if(void 0===e&&(e=null),this.IsOpenStoreUI){var t=this.GetStoreName();app.FormManager().ShowForm(t,e)}},Object.defineProperty(t.prototype,"IsOpenStoreUI",{get:function(){var e=app.UserManager().GetUserInfoConfig.show_arr;return 1==e[c.VisibleBtnTag.Withdrawal]||1==e[c.VisibleBtnTag.Btn_Pay]},enumerable:!1,configurable:!0}),t.prototype.GetStoreName=function(){var e=app.GameConfigManager().GetGameConfig().pay_channel_version;return e==s.PayUIType.Pay_UI_Type_Vietnam_Channel?p.UINameDefine.UIStoreAndCashVi:e==s.PayUIType.Pay_UI_Type_Vietnam_Type?p.UINameDefine.UIStoreAndCashVi_2:p.UINameDefine.UIStoreAndCash},t.prototype.OnPayGoogleNotify=function(e){var t=JSON.parse(e);app.NativeMgr().GoogleConsumeProduct(t.purchaseToken)},t.prototype.IsJoinAtWillActivity=function(e){var t=app.StoreManager().GetSubChannel(e),n=(t.sale.cur_time,Math.round(Date.now()/1e3),t.act_send);if(n)for(var o=0;o<n.length;o++){var i=n[o].activity_info;if(i&&0===i.end_time_stamp&&0===i.start_time_stamp)return!0}return!1},t.prototype.IsJoinActivity=function(e){return app.StoreManager().GetSubChannel(e).sale.cur_time,Math.round(Date.now()/1e3),Math.round(Date.now()/1e3),!!this.IsJoinAtWillActivity(e)||!!this.IsJoinTimerActivity(e)},t.prototype.IsShowActivityInfoTime=function(e){var t=e.activity_info;return!(!t||!t.tip_time_switch)},t.prototype.IsShowActivityInfoCount=function(e){var t=e.activity_info;return!(!t||!t.tip_count_switch)},t.prototype.IsJoinTimerActivity=function(e){var t=app.StoreManager().GetSubChannel(e),n=0,o=t.sale.cur_time-Math.round(Date.now()/1e3);o&&(n=o);var i=Math.round(Date.now()/1e3)+n;if(t.act_send.length<=0)return!1;for(var a=0;a<t.act_send.length;a++){var r=t.act_send[a],s=r.activity_info;if(s&&s.start_time_stamp&&s.end_time_stamp&&i>=s.start_time_stamp&&i<=s.end_time_stamp)return!0;var c=r.channel_recharge_activity_info;if(c)for(var p=0;p<c.length;p++){var l=c[p];if(l.start_time_stamp&&l.end_time_stamp&&i>=l.start_time_stamp&&i<=l.end_time_stamp)return!0}}return!1},t.prototype.GetIsPop=function(){var e=app.GameConfigManager().GetGameConfig().pay_channel_version;return e==s.PayUIType.Pay_UI_Type_Brazil?this.GetSubChannel(this.ChosePayChennelId).is_pop:e==s.PayUIType.Pay_UI_Type_Vietnam_Channel?app.Store2Manager().GetChoseTypeItem().is_pop:e==s.PayUIType.Pay_UI_Type_Vietnam_Type?app.Store3Manager().GetChoseType().is_pop:1},t}(a.Singleton);n.StoreManager=l,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine","../../Define/UINameDefine":"UINameDefine"}],StringUtil:[function(e,t){"use strict";cc._RF.push(t,"26984jMEHpOho55Gsbd1nDT","StringUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.StringUtil=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="StringUtil",this.Log("Init")},t.prototype.isLegal=function(e){var t=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~\uff01@#\uffe5\u2026\u2026&*\uff08\uff09\u2014\u2014|{}\u3010\u3011\u2018\uff1b\uff1a\u201d\u201c'\u3002\uff0c\u3001\uff1f\u21b5\r\n]","g");return!e.match(t)},t.prototype.isSpecialChar=function(e){return!this.isLegal(e)||e.trim()!==e},t.prototype.transformString=function(e){if(!e)return"";for(var t=/[a-zA-Z0-9]+/,n="",o=0;o<e.length;o++){var i=e[o];t.test(i)&&(n+=i)}return n},t}(e("../Base/Singleton").Singleton);n.StringUtil=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],SubGameLoadManager:[function(e,t){"use strict";cc._RF.push(t,"e5147IiMb5BmKCIevaIoChN","SubGameLoadManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.SubGameLoadManager=void 0;var o=e("../Bundle/BundleManager"),i=e("../Define/FormDefine"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.JS_Name="SubGameLoadManager"},t.prototype.LoadSubGameForm=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,o,a,r,s;return __generator(this,function(c){switch(c.label){case 0:return t=app.SysDataManager().GetTableDict(i.FormDefine.Form),n="Form/",o=app.ComTool().H5Platform()?""+n+i.FormDefine.Form+"V":""+n+i.FormDefine.Form+"H",(a=[]).push(this.CreateTextPromise(o,t,e+"/"+i.FormDefine.Form,e)),r=app.SysDataManager().GetTableDict(i.FormDefine.Effect),a.push(this.CreateTextPromise(""+n+i.FormDefine.Effect,r,e+"/"+i.FormDefine.Effect,e)),s=app.SysDataManager().GetTableDict(i.FormDefine.Sound),a.push(this.CreateTextPromise(""+n+i.FormDefine.Sound,s,e+"/"+i.FormDefine.Sound,e)),[4,Promise.all(a)];case 1:return c.sent(),[2]}})})},t.prototype.CreateTextPromise=function(e,t,n,i){return __awaiter(this,void 0,void 0,function(){var a,r,s,c,p;return __generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,o.BundleManager.LoadAssets(e,i,cc.TextAsset)];case 1:for(c in(a=l.sent()).text||(this.Log("tableName:%s not textData",e),a.text=""),r=a.text,this.Log("\u914d\u7f6e\u8868\u8d44\u6e90\u8bfb\u53d6\u6210\u529f:"+e),s=app.SysDataManager().TransformTextData(n,r))p=s[c],t[c]=p;return o.BundleManager.ReleaseAssets(i,e),Promise.resolve(!0),[3,3];case 2:return l.sent(),this.WarnLog("\u5b50\u6e38\u620f"+n+"\u4e0d\u5b58\u5728"),Promise.resolve(!1),[3,3];case 3:return[2]}})})},t}(e("./Singleton").Singleton);n.SubGameLoadManager=a,t.exports=n,cc._RF.pop()},{"../Bundle/BundleManager":"BundleManager","../Define/FormDefine":"FormDefine","./Singleton":"Singleton"}],SupportManager:[function(e,t){"use strict";cc._RF.push(t,"e2d77y809pHyY9i/nuZMFn9","SupportManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.SupportManager=void 0;var o=e("../../Base/Singleton"),i=e("../../Define/GameEventDefine"),a=e("../../Define/HttpServerDefine"),r=e("../../Define/ShareDefine"),s=e("../../Define/UINameDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.officeList=null,t.PoRotQuestionsList=null,t.PoRotQuestionsAllType=null,t.WebviewSubIframeName="Supportwebview",t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="SupportManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_KEFU_LIST,this.onSupportList,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_OUT_LINKS,this.onGetOutLinks,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_KEFU_LISTBYTEXT,this.onSupportByText,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_ROBOTQUESTIONS,this.onRobotQuestions,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_ROBOTQUESTIONSAL_LTYPE,this.onRobotQuestionsAllType,this),app.Client.RegEvent(i.GameEventDefine.KF_REPLY_USER_QUESTION,this.onKfReplayQuestion.bind(this),this)},t.prototype.onKfReplayQuestion=function(e){var t=document.getElementById(app.SupportManager().WebviewSubIframeName);if(e.question_id){var n={iframeType:"chat_notice_renew",iframeData:{id:e.question_id}};t.contentWindow.postMessage(n,"*")}},t.prototype.RequestSupportListByText=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_KEFU_LISTBYTEXT,{token:app.UserManager().GetUserInfo.token})},t.prototype.onSupportByText=function(e){this.SupportList=e,app.Client.OnEvent(i.GameEventDefine.SUPPORT_LIST_BYTEXT)},Object.defineProperty(t.prototype,"GetSupportList",{get:function(){return this.SupportList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetTGUrl",{get:function(){if(this.SupportList)for(var e=0;e<this.SupportList.length;e++){var t=this.SupportList[e];if(t.lang_name==r.SupportListByText.group_chat_tel)return t.value}return""},enumerable:!1,configurable:!0}),t.prototype.RequestSupportList=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_KEFU_LIST,{token:app.UserManager().GetUserInfo.token,type:3})},t.prototype.onSupportList=function(e){isgoServer||e.sort(function(e,t){return t.vip_level-e.vip_level}),app.Client.OnEvent(i.GameEventDefine.GET_KEFU_LIST,e)},t.prototype.RequestOutLink=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_OUT_LINKS,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetOutLinks=function(e){this.officeList=e.sort(function(e,t){return t.sort-e.sort}),app.Client.OnEvent(i.GameEventDefine.GET_OUT_LINKS)},Object.defineProperty(t.prototype,"GetOfficeList",{get:function(){return this.officeList},enumerable:!1,configurable:!0}),t.prototype.OnReload=function(){this.officeList=null},t.prototype.RequestRobotQuestionsAllType=function(e){var t={token:app.UserManager().GetUserInfo.token,page:e,limit:30};app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_ROBOTQUESTIONSAL_LTYPE,t)},t.prototype.onRobotQuestionsAllType=function(e){this.PoRotQuestionsAllType=e,app.Client.OnEvent(i.GameEventDefine.GET_ROBOTQUESTIONSAL_LTYPE,e)},t.prototype.RequestRobotQuestions=function(e){var t={token:app.UserManager().GetUserInfo.token,search:e.search,page:e.page,limit:20,type:e.type,ver:2};app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_ROBOTQUESTIONS,t)},t.prototype.SelToServiceTypeName=function(){return 0===app.GameConfigManager().GetGameConfig().ai_chat_robot_switch?s.UINameDefine.UISupport:s.UINameDefine.UIAiSupport},t.prototype.onRobotQuestions=function(e,t){app.Client.OnEvent(i.GameEventDefine.GET_ROBOTQUESTIONS,{data:e,senddata:t})},t}(o.Singleton);n.SupportManager=c,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine","../../Define/UINameDefine":"UINameDefine"}],SysDataManager:[function(e,t){"use strict";cc._RF.push(t,"dba48hp8nRMvKJ+CIQChHqE","SysDataManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.SysDataManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/FormDefine"),a=e("../Define/GameEventDefine"),r=function(e){function t(){var t=e.call(this)||this;for(var n in t.FieldLine=1,t.tableDict={},t.originalTableDict={},t.JS_Name="SysDataManager",i.FormDefine)t.tableDict[n]={};return t.Log("Init"),t}return __extends(t,e),t.prototype.InitTable=function(){var e=this,t=Object.keys(this.tableDict),n=[];t.forEach(function(t){var o="Form/"+t;t==i.FormDefine.Form?o=app.ComTool().DesktopPlatform()?o+"H":o+"V":t==i.FormDefine.SceneInfo&&(o=app.ComTool().DesktopPlatform()?o+"H":o+"V");var a=new Promise(function(n){app.ControlManager().CreateLoadPromise(o,cc.TextAsset,!1).then(function(o){var i=o.text;i||(e.Log("tableName:%s not textData",t),i=""),e.Log("\u914d\u7f6e\u8868\u8d44\u6e90\u8bfb\u53d6\u6210\u529f:"+t),e.OnLoadTableEnd(t,null,i),n(!0)}).catch(function(t){e.ErrLog(t)})});n.push(a)}),Promise.all(n).then(function(){app.Client.OnEvent(a.GameEventDefine.INIT_FORM_TABLE)})},t.prototype.GetTableDict=function(e){var t=e.split(".")[0];return this.tableDict.hasOwnProperty(t)?this.tableDict[e]:(this.ErrLog("GetTableDict (%s) not load!",t),{})},t.prototype.OnLoadTableEnd=function(e,t,n,o){void 0===o&&(o={});var i=this.TransformTextData(e,n);if(!i)return this.ErrLog("OnLoadTableEnd(%s) TransformTextData fail",e),!1;if(t)for(var a in i){var r=i[a],s=this.GetKeyNameStr(t,r);s?o.hasOwnProperty(s)?this.ErrLog("OnLoadTableEnd(%s)\u5b58\u5728\u91cd\u590d\u7684\u8054\u5408key(%s)",e,s):o[s]=r:this.ErrLog("OnLoadTableEnd(%s)GetKeyNameStr(%s, %s) fail",e,JSON.stringify(t),JSON.stringify(r))}else o=i;if(this.Log("\u6570\u636e\u8868\u8bfb\u53d6\u5b8c\u6210:",e),this.tableDict.hasOwnProperty(e)){var c=this.tableDict[e];for(var p in c)delete c[p];for(var p in o)c[p]=o[p]}else this.tableDict[e]=o;var l={};for(var p in o)l[p]=o[p];return this.originalTableDict[e]=l,!0},t.prototype.TransformTextData=function(e,t){var n=t.split("\n"),o=n.length;if(!o)return this.ErrLog("\u914d\u7f6e\u6570\u636e\u4e3a\u7a7a(%s) \u6ca1\u6709\u914d\u7f6e\u6570\u636e",e),null;for(var i=-1,a=null,r=null,s={},c=0;c<o;c++){var p=n[c];if(p=p.replace(/(\s*$)/g,"")){i+=1;var l=p.split("\t");if(i===this.FieldLine)r=(a=l).length;else if(i>this.FieldLine){var h=l.length;if(h!=r)return this.ErrLog("\u8bfb\u53d6\u6570\u636e\u5931\u8d25(%s),\u7b2c(%s)\u884c, \u914d\u7f6e\u6570\u636e:%s \u914d\u7f6e\u5217\u6570(%s)!=\u9700\u6c42\u5217\u6570(%s)",e,i,JSON.stringify(l),h,r),null;for(var d=l[0],u={},_=0;_<r;_++){var m=l[_],g=a[_].trim();try{m=this.GetTransformValue(e,g,m,i)}catch(f){this.ErrLog("GetTransformValue(%s,%s)(%s), error:%s",e,g,m,f.stack),m=void 0}u[g]=m}s[d]=u}}}return s},t.prototype.GetTransformValue=function(e,t,n,o){var i=n[0],a=n[n.length-1],r=n.toLowerCase();if("false"===r)return!1;if("true"===r)return!0;if("null"===r)return null;if("["===i&&"]"===a)try{return JSON.parse(n)}catch(s){return this.ErrLog("\u8f6c\u6362\u6570\u7ec4\u914d\u7f6e\u9519\u8bef(%s,%s)(%s)  \u7b2c(%s)\u884c",e,t,n,o),n}else{if("{"!==i||"}"!==a)return t.endsWith("List")&&"string"==typeof n?this.GetListFromStr(n):-1!=n.indexOf("return")?new Function(n):""==n?n:isNaN(n)?n:Number(n);try{return JSON.parse(n)}catch(s){return this.WarnLog("\u8f6c\u6362\u6570\u7ec4\u914d\u7f6e\u9519\u8bef(%s,%s)(%s)  \u7b2c(%s)\u884c",e,t,n,o),n}}},t.prototype.GetKeyNameStr=function(e,t){for(var n=[],o=e.length,i=0;i<o;i++){var a=e[i];if(!t.hasOwnProperty(a))return this.ErrLog("GetKeyNameStr valueDict(%s) dont have keyName(%s)",JSON.stringify(t),a),null;n.push(t[a])}return n.join("_")},t.prototype.GetListFromStr=function(e){return e.split(";")},t.prototype.DeleteTable=function(e){delete this.tableDict[e]},t.prototype.DebugOutput=function(e){var t;void 0===e&&(e=""),t=e?this.tableDict[e]:this.tableDict,this.Log("DebugOutput:%s",JSON.stringify(t))},t}(o.Singleton);n.SysDataManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/FormDefine":"FormDefine","../Define/GameEventDefine":"GameEventDefine"}],SysNotifyManager:[function(e,t){"use strict";cc._RF.push(t,"0ce9crh7JlEMJDKsd0/wYA3","SysNotifyManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.SysNotifyManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/FormDefine"),a=e("../Define/GameEventDefine"),r=e("../Define/ShareDefine"),s=e("../Define/UINameDefine"),c=function(e){function t(){var t=e.call(this)||this;return t.NewSysMsg={},t.regExpDict={},t.JS_Name="SysNotifyManager",t.NewSysMsg=app.SysDataManager().GetTableDict(i.FormDefine.NewSysMsg),t.regExpDict={},t.Log("create SysNotifyManager"),t}return __extends(t,e),t.prototype.OnPack_ServerSysMsg=function(e){for(var t=e.key,n=e.p||[],o=n.length,i=[],a=0;a<o;a++){var r=n[a];i.push(r)}this.ShowSysMsgEx(t,i),app.Client.OnEvent("ServerSysMsg",{MsgID:t,MsgArgList:i})},t.prototype.GetSysMsgContentByMsgID=function(e,t){t||(t=[]);var n=app.i18n.t(e);return this.TranslateMsgContent(n,t)},t.prototype.TranslateMsgContent=function(e,t){for(var n=t.length,o=0;o<n;o++){var i=t[o],a=null,r="S"+(o+1);-1!=e.indexOf(r)&&(this.regExpDict.hasOwnProperty(r)?a=this.regExpDict[r]:(a=new RegExp("{"+r+"}","g"),this.regExpDict[r]=a),e=e.replace(a,i))}return e},t.prototype.ShowSysMsg=function(e,t,n,o,i){void 0===t&&(t=[]),this.Log("ShowSysMsg(%s):",e,t),this.ShowSysMsgEx(e,t,n,o,i)},t.prototype.ShowSysMsgEx=function(e,t,n,o,i){var a="",c=0;this.NewSysMsg.hasOwnProperty(e)?(c=this.NewSysMsg[e].Pos,a=app.i18n.t(e),a=this.TranslateMsgContent(a,t)):(c=4,a=e),1==c?this.ErrLog("ShowSysMsgEx(%s) error",e):2==c||(3==c?app.FormManager().ShowForm(s.UINameDefine.UIToast,e,t,a):4==c?app.ConfirmManager().ShowConfirm(r.ConfirmType.ConfirmOK,e,t,n||this.OnConFirm,o||this.OnCancel,i||this):5==c?app.ConfirmManager().ShowConfirm(r.ConfirmType.ConfirmYN,e,t,n||this.OnConFirm,o||this.OnCancel,i||this):this.ErrLog("ShowSysMsgEx(%s) msgPos(%s) error",e,c))},t.prototype.ShowToast=function(e,t){e&&"number"!=typeof e?app.FormManager().ShowForm(s.UINameDefine.UIToast,e,t):this.ErrLog("msgID",e)},t.prototype.OnConFirm=function(e,t){var n={MsgID:e,BackArgList:t};app.Client.OnEvent(a.GameEventDefine.SYS_CONFIRM_MSG,n)},t.prototype.OnCancel=function(e,t){var n={MsgID:e,BackArgList:t};app.Client.OnEvent(a.GameEventDefine.SYS_CANCEL_MSG,n)},t}(o.Singleton);n.SysNotifyManager=c,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/FormDefine":"FormDefine","../Define/GameEventDefine":"GameEventDefine","../Define/ShareDefine":"ShareDefine","../Define/UINameDefine":"UINameDefine"}],TaskManager:[function(e,t){"use strict";cc._RF.push(t,"274aaM4wqBEBoRD1pTLT2ao","TaskManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.TaskManager=void 0;var o=e("../../../Base/Singleton"),i=e("../../../Define/GameEventDefine"),a=e("../../../Define/HttpServerDefine"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="TaskManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_TASK_LIST,this.onGetTaskList,this),app.HttpServerManager().RegNetPack(a.HttpAPI.TASK_RECEIVE,this.onGetTaskRecvie,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USER_TASK_CONFIG,this.onGetUserTask,this),app.HttpServerManager().RegNetPack(a.HttpAPI.TASK_RECEIVE_AWARD,this.onGetTaskRecvieAward,this)},t.prototype.onGetTaskList=function(e){app.Client.OnEvent(i.GameEventDefine.GET_TASK_LIST,e)},t.prototype.RequstGetTaskList=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_TASK_LIST,{token:app.UserManager().GetUserInfo.token,type:e})},t.prototype.onGetTaskRecvie=function(e,t){app.Client.OnEvent(i.GameEventDefine.TASK_RECEIVE,{task_id:t.task_id,gold:e.gold})},t.prototype.RequstGetTaskRecvie=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.TASK_RECEIVE,{token:app.UserManager().GetUserInfo.token,task_id:e.id})},t.prototype.RequstGetUserTaskConfig=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USER_TASK_CONFIG,{token:app.UserManager().GetUserInfo.token})},t.prototype.RequstGetTaskRecvieAward=function(e,t,n){var o={token:app.UserManager().GetUserInfo.token,bonus_id:e,task_type:n,task_id:t};app.HttpServerManager().SendHttpPack(a.HttpAPI.TASK_RECEIVE_AWARD,o)},t.prototype.onGetUserTask=function(e){app.Client.OnEvent(a.HttpAPI.GET_USER_TASK_CONFIG,e)},t.prototype.onGetTaskRecvieAward=function(e,t){app.GoldRewardManager().FormGoldReward({gold:e.gold,source:app.i18n.t("UI_Reward")}),app.Client.OnEvent(a.HttpAPI.TASK_RECEIVE_AWARD,t)},t}(o.Singleton);n.TaskManager=r,t.exports=n,cc._RF.pop()},{"../../../Base/Singleton":"Singleton","../../../Define/GameEventDefine":"GameEventDefine","../../../Define/HttpServerDefine":"HttpServerDefine"}],TestForm:[function(e,t){"use strict";cc._RF.push(t,"a38e2wnaI5JNa/XJy38dEiv","TestForm");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../Base/BaseForm":"BaseForm"}],TestManager:[function(e,t){"use strict";cc._RF.push(t,"1f5ebjFPoZNFo1ybWQTNrjB","TestManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.TestManager=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="TestManager"},t.prototype.gm=function(){app.FormManager().ShowForm("UIToast","I am aa happy toast.")},t.prototype.roomgm=function(){},t.prototype.TestHallPack=function(){},t.prototype.TestRoomPack=function(){},t.prototype.TestLeaveRoomPack=function(){app.GameServerManager().send(app.GameServerManager().req_key_map.req_leave_hall.key,{hall_id:28e4}),app.GameServerManager().send(app.GameServerManager().req_key_map.req_join_hall.key,{hall_id:3e5})},t.prototype.GetAllList=function(e,t){var n=[],o=[];return function i(a,r){for(var s=r;s<=a;s++)if(o[r-1]=s-1,r>1)i(s-1,r-1);else{for(var c=[],p=0;p<=t-1;p++)c.push(e[o[p]]);n.push(c)}}(e.length,t),n},t.prototype.LeaveHall=function(e){app.GameServerManager().send(app.GameServerManager().req_key_map.req_leave_hall.key,{hall_id:e})},t.prototype.TestFloat=function(){console.log(.1+.2);var e=Big(.1).plus(.2);console.log(e.toNumber()),console.log(6.8-.9),e=new Big(6.8).minus(.9),console.log(e.toNumber()),console.log(2.3*100),e=new Big(2.3).times(100),console.log(e.toNumber()),console.log(2.14/100),e=new Big(2.14).div(100),console.log(e.toNumber())},t}(e("../Base/Singleton").Singleton);n.TestManager=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],TextDefine:[function(e,t){"use strict";cc._RF.push(t,"b246a6a6tVDRaj+aJK7cFNo","TextDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.TextDefine=void 0;var o=function(){function e(){}return e.limit="game_point_limit_text",e.withdraw="currency_rate_withdraw_desc",e.usdt_withdraw="usdt_withdraw_lang_desc",e.user_center_withdraw="user_center_withdraw_desc",e.draw_amount="draw_amount_withdraw_desc",e.player_welcome="player_welcome_text",e.agent_welcome="agent_welcome_text",e.customer_servic="customer_servic_text",e.withdraw_add_text="withdraw_add_text",e.withdraw_please_mask="withdraw_please_mask_text",e.footer_notice_text="footer_notice_text",e.web_cfg_title="web_cfg_title",e}();n.TextDefine=o,t.exports=n,cc._RF.pop()},{}],TextManager:[function(e,t){"use strict";cc._RF.push(t,"85aa6smTjJNXYga5joIMHGA","TextManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.TextManager=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=(e("../Define/TextDefine"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="TextManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_TEXTINFOMORE,this.OnTextInfoMore,this)},t.prototype.RequestTextInfoMore=function(){app.Client.OnEvent(i.GameEventDefine.INIT_TEXT)},t.prototype.OnTextInfoMore=function(e){this.textInfo=e,app.Client.OnEvent(i.GameEventDefine.INIT_TEXT)},t.prototype.GetTextInfo=function(e){for(var t=0;t<this.textInfo.length;t++){var n=this.textInfo[t];if(n.name===e)return n.value}return this.ErrLog("GetTextInfo error: "+e),null},t}(o.Singleton));n.TextManager=r,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/TextDefine":"TextDefine"}],TimeUtil:[function(e,t){"use strict";cc._RF.push(t,"0cad50qQBBIq4rICBEvS+ks","TimeUtil");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.TimeUtil=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="TimeUtil",this.Log("Init")},t.prototype.formatDate=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},t.prototype.FormatTimeWithNum=function(e){var t=e/3600>>0,n=(e-3600*t)/60>>0,o=e-3600*t-60*n;return t+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)},t}(e("../Base/Singleton").Singleton);n.TimeUtil=o,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],TopLayer:[function(e,t){"use strict";cc._RF.push(t,"f2dbapaE0RBRo0AgiLHBZNA","TopLayer");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.TopLayer=void 0;var o=cc._decorator.ccclass,i=cc._decorator.property,a=e("../Base/BaseComponent"),r=e("../Define/EventWaitType"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=null,t.waitEventNameList=[],t}return __extends(t,e),t.prototype.OnLoad=function(){this.JS_Name="TopLayer",this.button=this.getComponent(cc.Button),this.button.enabled=!1,this.ModalDelayTick=1e3,this.showModalTick=0,this.waitEventNameList=[],app.Client.RegEvent("ModalLayer",this.OnTopEvent,this),this.OnCloseModalLayer()},t.prototype.OnShowModalLayerEffect=function(){this.waitEventNameList.length&&this.loading&&!this.loading.active&&(this.SysLog("\u5f00\u542f\u906e\u7f69"),this.loading.active=!0)},t.prototype.LoadSceneEndTimeOut=function(){app.Client.OnEvent("ModalLayer",r.EventWaitType.LoadSceneEnd)},t.prototype.OnTopEvent=function(e){e==r.EventWaitType.LoadSceneBegin&&(this.unschedule(this.LoadSceneEndTimeOut),this.scheduleOnce(this.LoadSceneEndTimeOut,10)),e%2==0?(this.waitEventNameList.push(e),this.OnShowModalLayer(e)):this.waitEventNameList=[]},t.prototype.lateUpdate=function(){var e=Date.now();this.showModalTick&&this.showModalTick<=e&&this.OnShowModalLayerEffect(),this.waitEventNameList.length||this.OnCloseModalLayer()},t.prototype.OnShowModalLayer=function(e){if(255==this.node.opacity)return this.SetShowModalTick(e),void this.lateUpdate();this.SysLog("\u5f00\u542f\u906e\u7f69\u8282\u70b9"),this.button.enabled=!0,this.node.opacity=255,this.SetShowModalTick(e),this.loading&&(this.loading.active=!1)},t.prototype.SetShowModalTick=function(e){var t=this.ModalDelayTick;e!=r.EventWaitType.OpenNetNow&&e!=r.EventWaitType.LoadSceneBegin||(t=0),this.showModalTick=Date.now()+t},t.prototype.OnCloseModalLayer=function(){this.button.enabled=!1,this.node.opacity=0,this.showModalTick=0,this.loading&&(this.loading.active=!1)},t.prototype.onDestroy=function(){app.Client.UnRegTargetEvent("ModalLayer")},__decorate([i(cc.Node)],t.prototype,"loading",void 0),__decorate([o],t)}(a.default);n.TopLayer=s,t.exports=n,cc._RF.pop()},{"../Base/BaseComponent":"BaseComponent","../Define/EventWaitType":"EventWaitType"}],TrackEventName:[function(e,t){"use strict";cc._RF.push(t,"8072a01oNFC479S8/KBV6/X","TrackEventName");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.LAUNCH_START_BEGIN="launch_start_begin",e.LAUNCH_START_END="launch_start_end",e.LAUNCH_GAME_CONFIG_BEGIN="launch_game_config_begin",e.LAUNCH_GAME_CONFIG_END="launch_game_config_end",e.LAUNCH_LOAD_RES_BEGIN="launch_load_res_begin",e.LAUNCH_LOAD_RES_END="launch_load_res_end",e.VISITOR_LOGIN_BEGIN="visitor_login_begin",e.VISITOR_LOGIN_END="visitor_login_end",e.EXERCISE_LOGIN_BEGIN="exercise_login_begin",e.EXERCISE_LOGIN_END="exercise_login_end",e.TOKEN_LOGIN_BEGIN="token_login_begin",e.TOKEN_LOGIN_END="token_login_end",e.THIRD_LOGIN_BEGIN="third_login_begin",e.THIRD_LOGIN_END="third_login_end",e.LOGIN_GS_BEGIN="login_gs_begin",e.LOGIN_GS_CONNECTED="login_gs_connected",e.LOGIN_GS_END="login_gs_end",e.CLICK_BTN_FB="click_btn_fb",e.CLICK_BTN_LOGIN="click_btn_login",e.USER_LOGIN_BEGIN="user_login_begin",e.USER_LOGIN_END="user_login_end",e.CLICK_BTN_REGISTER="click_btn_register",e.USER_REGISTER_BEGIN="user_register_begin",e.USER_REGISTER="register",e.USER_REGISTER_END="user_register_end",e.ENTER_HALL_SCENE="enter_hall_scene",e.CLICK_ENTER_GAME="click_enter_game",e.ENTER_GAME="enter_game",e.GET_USER_INFO="get_user_info",e.GET_USER_SIGN="get_user_sign",e.GET_WAY_SELECT="get_way_select",e.SIGN_LOAD_SUCCESS="sign_load_success",e.OPEN_RECHARGE="openrecharge",e.RECHARGE="recharge",e.AJ_CONSUMEEVENT="AJ_CONSUMEEVENT",e.PAGETRACK_EVENT_RECHARGE_ENTER="PAGETRACK_EVENT_RECHARGE_ENTER",e.PAGETRACK_EVENT_RECHARGE_SWITCHTAB="PAGETRACK_EVENT_RECHARGE_SWITCHTAB",e.PAGETRACK_EVENT_RECHARGE_GAME="PAGETRACK_EVENT_RECHARGE_GAMEENTER",e.PAGETRACK_EVENT_RECHARGE_VIP="PAGETRACK_EVENT_RECHARGE_VIPENTER",e.PAGETRACK_EVENT_RECHARGE_ACTIVITY="PAGETRACK_EVENT_RECHARGE_ACTIVITY",e.PAGETRACK_EVENT_RECHARGE_RELEGATION="PAGETRACK_EVENT_RECHARGE_RELEGATION",e.PAGETRACK_EVENT_USERCENTER_TOPENTER="PAGETRACK_EVENT_USERCENTER_TOPENTER",e.PAGETRACK_EVENT_USERCENTER_WITHDRAW="PAGETRACK_EVENT_USERCENTER_WITHDRAW",e.PAGETRACK_EVENT_USERCENTER_BOTTOM="PAGETRACK_EVENT_USERCENTER_BOTTOM",e.PAGETRACK_EVENT_WITHDRAW_USERCENTER="PAGETRACK_EVENT_WITHDRAW_USERCENTER",e.PAGETRACK_EVENT_WITHDRAW_SWITCHTAB="PAGETRACK_EVENT_WITHDRAW_SWITCHTAB",e.PAGETRACK_EVENT_WITHDRAW_SHARE="PAGETRACK_EVENT_WITHDRAW_SHARE",e.PAGETRACK_EVENT_WITHDRAW_ACTIVITY="PAGETRACK_EVENT_WITHDRAW_ACTIVITY",e}();n.default=o,t.exports=n,cc._RF.pop()},{}],UIAccountWithdrawal:[function(e,t){"use strict";function n(){n=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new I(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=C(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=l(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=p;var h={};function d(){}function u(){}function _(){}var m={};c(m,a,function(){return this});var g=Object.getPrototypeOf,f=g&&g(g(G([])));f&&f!==t&&o.call(f,a)&&(m=f);var y=_.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function n(i,a,r,s){var c=l(e[i],e,a);if("throw"!==c.type){var p=c.arg,h=p.value;return h&&"object"==typeof h&&o.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,r,s)},function(e){n("throw",e,r,s)}):t.resolve(h).then(function(e){p.value=e,r(p)},function(e){return n("throw",e,r,s)})}s(c.arg)}var i;this._invoke=function(e,o){function a(){return new t(function(t,i){n(e,o,t,i)})}return i=i?i.then(a,a):a()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function G(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return u.prototype=_,c(y,"constructor",_),c(_,"constructor",u),u.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),c(E.prototype,r,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new E(p(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},v(y),c(y,s,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=G,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:G(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,o,i,a,r){try{var s=e[a](r),c=s.value}catch(p){return void n(p)}s.done?t(c):Promise.resolve(c).then(o,i)}cc._RF.push(t,"3e4d9ofRQVLo6VK1OV/BGOl","UIAccountWithdrawal");var i={};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../../../Common/Base/BaseForm"),r=(e("../../../Common/DB/PageTrackManager"),e("../../../Common/Define/GameEventDefine")),s=(e("../../../Common/Define/ShareDefine"),e("../../../Common/Define/TrackEventName"),e("../../../Common/Define/UINameDefine")),c=cc._decorator,p=c.ccclass,l=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nickname=null,t.labelTon=null,t.contentWithdrawal=null,t.cloneWithdrawal=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(r.GameEventDefine.GET_USER_WALLET,this.OnInitMyInfo),this.RegEvent(r.GameEventDefine.getWithdrawal,this.onGetWithdrawal),this.RegEvent(r.GameEventDefine.UnbindWallet,this.onUnbindWallet)},t.prototype.OnShow=function(){this.nickname.string=app.UserManager().GetUserInfo.nickname,this.labelTon.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.ton),app.UserManager().RequestUserGetWithdrawal(0,0)},t.prototype.OnInitMyInfo=function(){this.nickname.string=app.UserManager().GetUserInfo.nickname,this.labelTon.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.ton)},t.prototype.onGetWithdrawal=function(e){e.describe&&(app.GoldRewardManager().FormGoldReward({gold:0,describe:e.describe,type:2}),0==e.withdrawalList.length&&app.UserManager().RequestUserGetWithdrawal(0,0));var t=e.withdrawalList;this.contentWithdrawal.removeAllChildren();for(var n=0;n<t.length;n++){var o=t[n],i=cc.instantiate(this.cloneWithdrawal);i.active=!0,i.getChildByName("labelTon").getComponent(cc.Label).string=o.ton+" TON",i.maxNumberOfTimes=o.maxNumberOfTimes,-1==o.maxNumberOfTimes?i.getChildByName("numberOfTimes").active=!1:(i.getChildByName("numberOfTimes").active=!0,i.getChildByName("numberOfTimes").getComponent(cc.Label).string=o.numberOfTimes+"/"+o.maxNumberOfTimes),""==o.unlockTime||"0"==o.unlockTime?i.getChildByName("unlockTime").active=!1:(i.getChildByName("unlockTime").active=!0,i.getChildByName("numberOfTimes").active=!1,i.getChildByName("unlockTime").getComponent(cc.Label).string=""),i.EndTime=Number(o.unlockTime)+Number(app.GameConfigManager().GetAsTime()),i.unlockTime=i.getChildByName("unlockTime").getComponent(cc.Label),i.getChildByName("des").getComponent(cc.Label).string=o.des;var a=new cc.Component.EventHandler;a.target=this.node,a.component="UIAccountWithdrawal",a.handler="reqWithdrawal",a.customEventData=JSON.stringify(o),i.getComponent(cc.Button).clickEvents=[],i.getComponent(cc.Button).clickEvents.push(a),this.contentWithdrawal.addChild(i)}var r=this;this.UpdateSeconds(),this.unscheduleAllCallbacks(),this.schedule(function(){r.UpdateSeconds()},1)},t.prototype.UpdateSeconds=function(){for(var e=!1,t=0;t<this.contentWithdrawal.children.length;t++){var n=this.contentWithdrawal.children[t];if(n.EndTime>0){var o=app.GameConfigManager().GetAsTime(),i=Number(n.EndTime)-o;i<1?(n.EndTime=0,n.getChildByName("unlockTime").active=!1,n.maxNumberOfTimes>=0&&(n.getChildByName("numberOfTimes").active=!0)):n.unlockTime.string=app.TimeUtil().FormatTimeWithNum(i),e=!0}}0==e&&this.unscheduleAllCallbacks()},t.prototype.onUnbindWallet=function(){app.UserManager().GetUserInfo.is_bind_wallet=!1,app.FormManager().ShowForm(s.UINameDefine.UIAccount),tonConnectUI&&tonConnectUI.wallet&&function(){var e,t=(e=n().mark(function e(){var t;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tonConnectUI.disconnect();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(e){o(r,i,a,s,c,"next",e)}function c(e){o(r,i,a,s,c,"throw",e)}s(void 0)})});return function(){return t.apply(this,arguments)}}()().catch(function(){})},t.prototype.reqWithdrawal=function(e,t){t=JSON.parse(t),app.UserManager().RequestUserGetWithdrawal(1,t.id)},t.prototype.OnClick=function(e){"btn_UnlinkWallet"==e&&app.UserManager().RequestUserUnbindWallet()},__decorate([l(cc.Label)],t.prototype,"nickname",void 0),__decorate([l(cc.Label)],t.prototype,"labelTon",void 0),__decorate([l(cc.Node)],t.prototype,"contentWithdrawal",void 0),__decorate([l(cc.Node)],t.prototype,"cloneWithdrawal",void 0),__decorate([p],t)}(a.default);i.default=h,t.exports=i,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/DB/PageTrackManager":"PageTrackManager","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName","../../../Common/Define/UINameDefine":"UINameDefine"}],UIAccount:[function(e,t){"use strict";function n(){n=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new I(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=C(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=l(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=p;var h={};function d(){}function u(){}function _(){}var m={};c(m,a,function(){return this});var g=Object.getPrototypeOf,f=g&&g(g(G([])));f&&f!==t&&o.call(f,a)&&(m=f);var y=_.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function n(i,a,r,s){var c=l(e[i],e,a);if("throw"!==c.type){var p=c.arg,h=p.value;return h&&"object"==typeof h&&o.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,r,s)},function(e){n("throw",e,r,s)}):t.resolve(h).then(function(e){p.value=e,r(p)},function(e){return n("throw",e,r,s)})}s(c.arg)}var i;this._invoke=function(e,o){function a(){return new t(function(t,i){n(e,o,t,i)})}return i=i?i.then(a,a):a()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function G(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return u.prototype=_,c(y,"constructor",_),c(_,"constructor",u),u.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),c(E.prototype,r,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new E(p(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},v(y),c(y,s,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=G,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:G(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,o,i,a,r){try{var s=e[a](r),c=s.value}catch(p){return void n(p)}s.done?t(c):Promise.resolve(c).then(o,i)}cc._RF.push(t,"725b1e3BjtAaq5nwWEIwnoN","UIAccount");var i={};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../../../Common/Base/BaseForm"),r=(e("../../../Common/DB/PageTrackManager"),e("../../../Common/Define/GameEventDefine")),s=(e("../../../Common/Define/ShareDefine"),e("../../../Common/Define/TrackEventName"),e("../../../Common/Define/UINameDefine")),c=cc._decorator,p=c.ccclass,l=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nickname=null,t.labelTon=null,t.labelGold=null,t.img_ItemCheck=[],t.SpinNode=null,t.nodeRecord=null,t.contentRecord=null,t.cloneRecord=null,t.moreNode=null,t.createTimerbtn_SPINState=!1,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(r.GameEventDefine.GET_USER_WALLET,this.OnInitMyInfo),this.RegEvent(r.GameEventDefine.getGoldAndTonRecord,this.onGetRecord),this.RegEvent(r.GameEventDefine.clickSPIN,this.onClickSPIN),this.RegEvent(r.GameEventDefine.BindWallet,this.onBindWallet)},t.prototype.OnShow=function(){this.nodeRecord.active=!1,this.SpinNode.active=!0,this.nickname.string=app.UserManager().GetUserInfo.nickname,this.labelTon.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.ton),this.labelGold.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.gold);for(var e=0;e<this.img_ItemCheck.length;e++)this.img_ItemCheck[e].active=!1;this.page=1,this.type=0,app.UserManager().RequestUserGoldAndTonRecord(this.type,20,this.page),app.Client.OnEvent(r.GameEventDefine.SELECT_TOPTOOGLE,2)},t.prototype.OnInitMyInfo=function(){this.nickname.string=app.UserManager().GetUserInfo.nickname,this.labelTon.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.ton),this.labelGold.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.gold)},t.prototype.onGetRecord=function(e){this.data=e,this.node.active=!0;var t=e;1==this.page&&(t.length<8?(this.nodeRecord.getComponent(cc.Layout).enabled=!1,this.nodeRecord.height=1174):this.nodeRecord.getComponent(cc.Layout).enabled=!0,this.contentRecord.removeAllChildren());for(var n=0;n<t.length;n++){var o=t[n],i=cc.instantiate(this.cloneRecord);i.active=!0,i.getChildByName("title").getComponent(cc.Label).string=o.title,1==o.type?(i.getChildByName("icon1").active=!0,i.getChildByName("icon2").active=!1):(i.getChildByName("icon1").active=!1,i.getChildByName("icon2").active=!0),o.score>0?(i.getChildByName("score").getComponent(cc.Label).string="+"+o.score,i.getChildByName("score").color=cc.color().fromHEX("#51D17F")):(i.getChildByName("score").getComponent(cc.Label).string=o.score,i.getChildByName("score").color=cc.color().fromHEX("#FF0000")),i.getChildByName("recordtime").getComponent(cc.Label).string=new Date(1e3*Number(o.recordtime)).format("yyyy/MM/dd hh:mm:ss"),this.contentRecord.addChild(i)}this.OnsetPage(t.length)},t.prototype.OnsetPage=function(e){this.moreNode.active=e>=10,this.page>1&&(this.page=e>=10?this.page:this.page--)},t.prototype.onClickSPIN=function(e){app.UserManager().GetUserInfo.gold=app.UserManager().GetUserInfo.gold-1e4,this.labelGold.string=app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.gold);var t=this,n=0,o=0;clearInterval(t.createTimerbtn_SPIN),t.createTimerbtn_SPINState=!0,t.createTimerbtn_SPIN=setInterval(function(){for(var i=0;i<t.img_ItemCheck.length;i++)t.img_ItemCheck[i].active=!1;t.img_ItemCheck[n].active=!0,o>=24&&n==e.spinItemIndex?(clearInterval(t.createTimerbtn_SPIN),e.ton>0&&app.GoldRewardManager().FormGoldReward({gold:e.ton,type:1}),t.createTimerbtn_SPINState=!1):(o+=1,(n+=1)>=t.img_ItemCheck.length&&(n=0))},100),app.RedDotManager().OnLoadHallSuccess()},t.prototype.onBindWallet=function(){app.UserManager().GetUserInfo.is_bind_wallet=!0,app.FormManager().ShowForm(s.UINameDefine.UIAccountWithdrawal)},t.prototype.OnClick=function(e){if("btn_SPIN"==e)this.createTimerbtn_SPINState||app.UserManager().RequestUserClickSPIN();else if("btn_Record"==e)this.nodeRecord.active?(this.nodeRecord.active=!1,this.SpinNode.active=!0):(this.nodeRecord.active=!0,this.SpinNode.active=!1);else if("btn_Withdrawal"==e)if(app.UserManager().GetUserInfo.is_bind_wallet)app.FormManager().ShowForm(s.UINameDefine.UIAccountWithdrawal);else{tonConnectUI||(tonConnectUI=new TON_CONNECT_UI.TonConnectUI({manifestUrl:"https://zhaoyangkun66.github.io/test/tonconnect-manifest.json"}),tonConnectUI.uiOptions={twaReturnUrl:"https://t.me/qwewqeTetrisBot/minitestapp"});var t=tonConnectUI.wallet;tonConnectUI.walletInfo,tonConnectUI.account,tonConnectUI.connected,t?app.UserManager().RequestUserBindWallet(tonConnectUI.account):function(){var e,t=(e=n().mark(function e(){var t;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tonConnectUI.connectWallet();case 2:t=e.sent,console.log(t),app.UserManager().RequestUserBindWallet(tonConnectUI.account);case 5:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(e){o(r,i,a,s,c,"next",e)}function c(e){o(r,i,a,s,c,"throw",e)}s(void 0)})});return function(){return t.apply(this,arguments)}}()().catch(function(){})}else"toggle1"==e?(this.page=1,this.type=0,app.UserManager().RequestUserGoldAndTonRecord(this.type,20,this.page)):"toggle2"==e?(this.page=1,this.type=2,app.UserManager().RequestUserGoldAndTonRecord(this.type,20,this.page)):"toggle3"==e?(this.page=1,this.type=1,app.UserManager().RequestUserGoldAndTonRecord(this.type,20,this.page)):"more"==e&&(this.page++,app.UserManager().RequestUserGoldAndTonRecord(this.type,20,this.page))},__decorate([l(cc.Label)],t.prototype,"nickname",void 0),__decorate([l(cc.Label)],t.prototype,"labelTon",void 0),__decorate([l(cc.Label)],t.prototype,"labelGold",void 0),__decorate([l([cc.Node])],t.prototype,"img_ItemCheck",void 0),__decorate([l(cc.Node)],t.prototype,"SpinNode",void 0),__decorate([l(cc.Node)],t.prototype,"nodeRecord",void 0),__decorate([l(cc.Node)],t.prototype,"contentRecord",void 0),__decorate([l(cc.Node)],t.prototype,"cloneRecord",void 0),__decorate([l(cc.Node)],t.prototype,"moreNode",void 0),__decorate([p],t)}(a.default);i.default=h,t.exports=i,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/DB/PageTrackManager":"PageTrackManager","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName","../../../Common/Define/UINameDefine":"UINameDefine"}],UIActivityMission:[function(e,t){"use strict";cc._RF.push(t,"7cbd6X8gjxD8ZzLRaYhrEgY","UIActivityMission");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=(e("../../../Common/Define/ShareDefine"),cc._decorator),r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.img_ItemCheck=[],t.lblGold=[],t.btn_Receive=null,t.content=null,t.cloneItem=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(i.GameEventDefine.GET_DailyRegistrations,this.onGetDailyRegistrations),this.cloneItem.active=!1},t.prototype.OnShow=function(){this.node.active=!1,app.ActivityManager().RequestDailyRegistrations(0,0)},t.prototype.onGetDailyRegistrations=function(e){this.data=e,this.node.active=!0,this.lblGold[0].string="+500",this.lblGold[1].string="+1000",this.lblGold[2].string="+1500",this.lblGold[3].string="+2000",this.lblGold[4].string="+3000",this.lblGold[5].string="+4000",e.gold>0&&(app.RedDotManager().OnLoadHallSuccess(),app.GoldRewardManager().FormGoldReward({gold:e.gold,type:0})),0==this.data.isReceived?this.btn_Receive.interactable=!0:this.btn_Receive.interactable=!1;for(var t=0;t<this.img_ItemCheck.length;t++)this.img_ItemCheck[t].active=!1,this.lblGold[t].node.color=cc.color().fromHEX("#FFCA4C");for(var n=0;n<e.cumulativeDays;n++)this.img_ItemCheck[n].active=!0,this.lblGold[n].node.color=cc.color().fromHEX("#5F32FF");this.lblGold[6].node.color=cc.color().fromHEX("#FFFFFF"),this.btn_Receive.interactable=!0,this.content.removeAllChildren();for(var o=0;o<e.taskList.length;o++){var i=e.taskList[o],a=cc.instantiate(this.cloneItem);a.active=!0,a.getChildByName("label").getComponent(cc.Label).string=i.title,a.getChildByName("Rectangle10").getChildByName("Label").getComponent(cc.Label).string=i.rewardGold,a.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=i.progress/100,a.getChildByName("progressBar").getChildByName("bar").color=cc.color().fromHEX(i.barcolor),100==i.progress?(a.getChildByName("btn_Invite").active=!1,a.getChildByName("btn_Collect").getComponent(cc.Button).interactable=!0):(2==i.id?a.getChildByName("btn_Invite").active=!0:a.getChildByName("btn_Invite").active=!1,a.getChildByName("btn_Collect").getComponent(cc.Button).interactable=!1);var r=new cc.Component.EventHandler;r.target=this.node,r.component="UIActivityMission",r.handler="onbtn_Collect",r.customEventData=JSON.stringify(i),a.getChildByName("btn_Collect").getComponent(cc.Button).clickEvents=[],a.getChildByName("btn_Collect").getComponent(cc.Button).clickEvents.push(r),i.icon?app.ImageUtil().LoadImage(a.getChildByName("icon"),i.icon):a.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,this.content.addChild(a),a.EndTime=Number(i.startTime)+Number(app.GameConfigManager().GetAsTime()),a.btn_CollectLabel=a.getChildByName("btn_Collect").getChildByName("Label").getComponent(cc.Label)}var s=this;this.UpdateSeconds(),this.unscheduleAllCallbacks(),this.schedule(function(){s.UpdateSeconds()},1)},t.prototype.UpdateSeconds=function(){for(var e=!1,t=0;t<this.content.children.length;t++){var n=this.content.children[t];if(n.EndTime>0){var o=app.GameConfigManager().GetAsTime(),i=Number(n.EndTime)-o;i<1?(n.EndTime=0,n.btn_CollectLabel.string=app.i18n.t("UI_PlayMiniGamesTogether_Collect")):n.btn_CollectLabel.string=app.TimeUtil().FormatTimeWithNum(i),e=!0}}0==e&&this.unscheduleAllCallbacks()},t.prototype.OnInitView=function(){},t.prototype.onbtn_Collect=function(e,t){t=JSON.parse(t),app.ActivityManager().RequestDailyRegistrations(3,t.id)},t.prototype.OnClick=function(e){if("btn_Invite"==e){var t="https://t.me/playtogetherhub_bot/playtogether?start="+app.UserManager().UserInfo.uid,n=encodeURIComponent(t);cc.sys.openURL("https://t.me/share/url?url="+n)}else app.ActivityManager().RequestDailyRegistrations(2,0)},t.prototype.OnClose=function(){},__decorate([s([cc.Node])],t.prototype,"img_ItemCheck",void 0),__decorate([s([cc.Label])],t.prototype,"lblGold",void 0),__decorate([s(cc.Button)],t.prototype,"btn_Receive",void 0),__decorate([s(cc.Node)],t.prototype,"content",void 0),__decorate([s(cc.Node)],t.prototype,"cloneItem",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine"}],UIAnnouncementItem:[function(e,t){"use strict";cc._RF.push(t,"df50cmTOP5D+5NpG/ZW5uBl","UIAnnouncementItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/UINameDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeNode=null,t.timeNodeH=null,t.timeNodeD=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UIAnnouncementItem"},t.prototype.renderInfo=function(e){this.timeNode=this.GetWndNode("node_time"),this.timeNodeH=this.GetWndNode("node_time/timeNode"),this.timeNodeD=this.GetWndNode("node_time/timeDayNode"),this.data=e;var t=this.node.getChildByName("node_img"),n=new cc.Component.EventHandler;n.target=this.node,n.component=this.JS_Name,n.handler="NoticeWndEvent",n.customEventData=JSON.stringify(e),t.getComponent(cc.Button).clickEvents=[],t.getComponent(cc.Button).clickEvents.push(n),this.renderSelectContent(e,this.node),this.OnTimeShow()},t.prototype.renderSelectContent=function(e,t){var n=e.content;if(1==e.content_type)if(this.setWebWndVisible(!1,t),this.setImageWndVisible(!1,t),""==n||null==n)cc.error("url = null");else{var o=cc.find("node_img",t);this.noticerenderImageWnd(n,o),this.setImageWndVisible(!0,t)}else{this.setWebWndVisible(!0,t);var i=n+"&token="+app.UserManager().GetUserInfo.token;this.setWebUrl(i,t),this.setImageWndVisible(!1,t)}},t.prototype.setWebWndVisible=function(e,t){cc.find("web",t).active=e},t.prototype.setImageWndVisible=function(e,t){cc.find("node_img",t).active=e},t.prototype.setWebUrl=function(e,t){""!=e&&null!=e?t.getChildByName("web").children[0].getComponent(cc.WebView).url=e:cc.error("url = null")},t.prototype.noticerenderImageWnd=function(e,t){""!=e&&null!=e?t&&app.ImageUtil().LoadImage(t,e):cc.error("url = null")},t.prototype.NoticeWndEvent=function(e,t){var n=JSON.parse(t);if(null!=n){var o=n.link;if(o>0)return app.InteractionMgr().SendWndEvent(o),void app.FormManager().CloseForm(i.UINameDefine.UIAnnouncement);var a=n.external_link;a&&cc.sys.openURL(a)}else this.ErrLog("NoticeWndEvent ==> ")},t.prototype.OnDisable=function(){this.unscheduleAllCallbacks()},t.prototype.OnTimeShow=function(){var e=this;if(!this.timeNode||!this.data.start_time_stamp&&!this.data.end_time_stamp)return this.node.active=!0,void(this.timeNode&&(this.timeNode.active=!1));this.EndTime=this.data.end_time_stamp;var t=app.GameConfigManager().GetAsTime();this.setNodeDisable(),this.data.start_time_stamp&&this.EndTime>t&&(this.UpdateSeconds(),this.schedule(function(){e.setNodeDisable(),e.timeNode.active&&e.UpdateSeconds()},1))},t.prototype.setNodeDisable=function(){var e=app.GameConfigManager().GetAsTime(),t=this.data.start_time_stamp&&this.data.start_time_stamp<e&&this.EndTime>e;this.timeNode.active=t,this.node.active=t},t.prototype.UpdateSeconds=function(){if(this.EndTime>0){var e=app.GameConfigManager().GetAsTime(),t=Number(this.EndTime)-e,n=Math.floor(t/3600)+"";Number(n)<10&&(n="0"+n);var o=Math.floor(t%60)+"";Number(o)<10&&(o="0"+o);var i=Math.floor(t/60%60)+"";if(Number(i)<10&&(i="0"+i),Number(n)>24){this.setTimeTypeShow(!0);var a=Math.floor(Number(n)/24),r=""+Number(n)%24;Number(r)<10&&(r="0"+r),this.initDayTime(""+a,r)}else this.setTimeTypeShow(!1),this.initTime(n,i,o);t<=1&&(this.initTime("00","00","00"),this.timeNode.active=!1,this.node.removeFromParent(),this.unscheduleAllCallbacks())}},t.prototype.initTime=function(e,t,n){this.GetWndComponent("lb_hour",cc.Label,this.timeNodeH).string=e,this.GetWndComponent("lb_minute",cc.Label,this.timeNodeH).string=t,this.GetWndComponent("lb_second",cc.Label,this.timeNodeH).string=n},t.prototype.initDayTime=function(e,t){this.GetWndComponent("lb_hour",cc.Label,this.timeNodeD).string=e,this.GetWndComponent("lb_minute",cc.Label,this.timeNodeD).string=t},t.prototype.setTimeTypeShow=function(e){this.timeNodeD.active=e,this.timeNodeH.active=!e},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/UINameDefine":"UINameDefine"}],UIAnnouncement_V:[function(e,t){"use strict";cc._RF.push(t,"76146jvDrFPU50rALBrXWj0","UIAnnouncement_V");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("./UIAnnouncementItem"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIAnnouncement_V",this.RegEvent(i.GameEventDefine.GET_NOTICES,this.OnNotices),this.PageParent=this.GetWndNode("layer/con"),this.PageItem=this.GetWndNode("layer/node_copy"),this.webWnd=this.GetWndNode("layer/node_copy/web"),this.imageWnd=this.GetWndNode("layer/node_copy/node_img"),this.lbl_title=this.GetWndNode("layer/title/title").getComponent(cc.Label),this.PageParent.on("page-turning",this.onShowPageViewIndex,this),this.PageView=this.PageParent.getComponent(cc.PageView)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.HNoticeManager().RequestGetNoticeData()},t.prototype.OnNotices=function(){this.initActivityInfo()},t.prototype.initActivityInfo=function(){this.createNoticeList()},t.prototype.createNoticeList=function(){var e=app.HNoticeManager().AnnounceListResult;if(e){e.sort(function(e,t){return e.content_type-t.content_type});for(var t=!1,n=0;n<e.length;n++){var o=e[n];if(1==o.content_type){var i=cc.instantiate(this.PageItem);i.data=o,(i.addComponent(a.default)||i.getComponent(a.default)).renderInfo(o),i.active&&(this.PageParent.getComponent(cc.PageView).addPage(i),t||(t=!0,this.lbl_title.string=o.title))}}}},t.prototype.onShowPageViewIndex=function(){var e=this.PageParent.getComponent(cc.PageView).getCurrentPageIndex(),t=this.PageView.getPages()[e].data.title;t&&(this.lbl_title.string=t)},t.prototype.OnClick=function(e){"btn_Close"!=e?"btn_right"!=e?"btn_left"!=e||this.PageView.getCurrentPageIndex()>0&&this.PageView.scrollToPage(this.PageView.getCurrentPageIndex()-1,.5):this.PageView.getCurrentPageIndex()<this.PageView.getPages().length-1&&this.PageView.scrollToPage(this.PageView.getCurrentPageIndex()+1,.5):this.CloseForm()},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.FormManager().ShowNextQueueForm("hall")},__decorate([s],t)}(o.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","./UIAnnouncementItem":"UIAnnouncementItem"}],UIAnnouncement:[function(e,t){"use strict";cc._RF.push(t,"8a60eapmExN8bCMAmcl7J4c","UIAnnouncement");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIAnnouncement",this.RegEvent(i.GameEventDefine.GET_NOTICES,this.OnNotices),this.TableToggleParent=this.GetWndNode("layer/left/view/content/toggleContainer"),this.ToggleItem=this.GetWndNode("layer/left/toggleItem"),this.webWnd=this.GetWndNode("layer/web"),this.imageWnd=this.GetWndNode("layer/con")},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.HNoticeManager().RequestGetNoticeData()},t.prototype.OnNotices=function(){this.initActivityInfo()},t.prototype.initActivityInfo=function(){this.createNoticeList()},t.prototype.onToggleCallBack=function(e,t){var n=JSON.parse(t);this.renderSelectContent(n)},t.prototype.createNoticeList=function(){var e=app.HNoticeManager().AnnounceListResult;if(e){this.TableToggleParent.removeAllChildren();for(var t=0;t<e.length;t++){var n=e[t],o=cc.instantiate(this.ToggleItem);this.TableToggleParent.addChild(o),o.data=n;var i=new cc.Component.EventHandler;i.target=this.node,i.component=this.JS_Name,i.handler="onToggleCallBack",i.customEventData=JSON.stringify(n),o.getComponent(cc.Toggle).checkEvents=[],o.getComponent(cc.Toggle).checkEvents.push(i),cc.find("Background/label",o).getComponent(cc.Label).string=n.title,cc.find("checkmark/label",o).getComponent(cc.Label).string=n.title,0==t&&(this.TableToggleParent.children.length>0&&this.TableToggleParent.children[0].getComponent(cc.Toggle).check(),this.renderSelectContent(n)),o.active=!0}}},t.prototype.renderSelectContent=function(e){var t=e.content;if(1==e.content_type)if(this.setWebWndVisible(!1),this.setImageWndVisible(!1),""==t||null==t)cc.error("url = null");else{var n=this.GetWndNode("layer/con/scrollview/view/content/img");this.noticerenderImageWnd(t,n),this.setImageWndVisible(!0,e)}else{this.setWebWndVisible(!0);var o=t+"&token="+app.UserManager().GetUserInfo.token;this.setWebUrl(o),this.setImageWndVisible(!1)}},t.prototype.setWebWndVisible=function(e){this.webWnd.active=e},t.prototype.setImageWndVisible=function(e,t){if(this.imageWnd.active=e,t){var n=new cc.Component.EventHandler;n.target=this.node,n.component=this.JS_Name,n.handler="NoticeWndEvent",n.customEventData=JSON.stringify(t),cc.find("scrollview/view/content",this.imageWnd).getComponent(cc.Button).clickEvents=[],cc.find("scrollview/view/content",this.imageWnd).getComponent(cc.Button).clickEvents.push(n)}},t.prototype.setWebUrl=function(e){""!=e&&null!=e?this.webWnd.children[0].getComponent(cc.WebView).url=e:cc.error("url = null")},t.prototype.noticerenderImageWnd=function(e,t){""!=e&&null!=e?t&&app.ImageUtil().LoadImage(t,e):cc.error("url = null")},t.prototype.OnClick=function(e,t,n){"btn_Close"!=e?"toggleItem"!=e||this.onToggleCallBack(t,n):this.CloseForm()},t.prototype.NoticeWndEvent=function(e,t){var n=JSON.parse(t);if(null!=n){var o=n.link;if(o>0)return app.InteractionMgr().SendWndEvent(o),void app.FormManager().CloseForm(a.UINameDefine.UIAnnouncement);var i=n.external_link;i&&cc.sys.openURL(i)}else this.ErrLog("NoticeWndEvent ==> ")},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.FormManager().ShowNextQueueForm("hall")},__decorate([s],t)}(o.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIAutoSetting:[function(e,t){"use strict";cc._RF.push(t,"5b2d0QYjNFCW75Vd9oi5W53","UIAutoSetting");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/BaseForm"),i=e("../Define/GameEventDefine"),a=e("./UINumKeyPadLabel"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoNodeData=[],t.autoMaxRoundInput=null,t.autoWinNumInput=null,t.autoFailNumInput=null,t.autoWinAddNumToggle1=null,t.autoWinAddNumToggle2=null,t.autoWinAddNumInput=null,t.autoFailAddNumToggle1=null,t.autoFailAddNumToggle2=null,t.autoFailAddNumInput=null,t.key=null,t.autoBetData=null,t.isSave=!1,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(i.GameEventDefine.KEYBOARD_POS,this.OnNodeHight),app.ComTool().H5Platform()?(this.autoMaxRoundInput=this.GetWndComponent("general/Auto/Rounds/Apostas/editbox_xsje/TEXT_LABEL",cc.Label,this.node),this.autoWinNumInput=this.GetWndComponent("general/Auto/layout1/ganhar/TEXT_LABEL",cc.Label,this.node),this.autoFailNumInput=this.GetWndComponent("general/Auto/layout1/perder/TEXT_LABEL",cc.Label,this.node),this.autoWinAddNumInput=this.GetWndComponent("general/Auto/vencer/toggleContainer/editbox_xsje/TEXT_LABEL",cc.Label,this.node),this.autoFailAddNumInput=this.GetWndComponent("general/Auto/perder/toggleContainer/editbox_xsje/TEXT_LABEL",cc.Label,this.node)):(this.autoMaxRoundInput=this.GetWndComponent("general/Auto/Rounds/Apostas/editbox_xsje",cc.EditBox,this.node),this.autoWinNumInput=this.GetWndComponent("general/Auto/layout1/ganhar",cc.EditBox,this.node),this.autoFailNumInput=this.GetWndComponent("general/Auto/layout1/perder",cc.EditBox,this.node),this.autoWinAddNumInput=this.GetWndComponent("general/Auto/vencer/toggleContainer/editbox_xsje",cc.EditBox,this.node),this.autoFailAddNumInput=this.GetWndComponent("general/Auto/perder/toggleContainer/editbox_xsje",cc.EditBox,this.node)),this.autoWinAddNumToggle1=cc.find("general/Auto/vencer/toggleContainer/toggle1",this.node),this.autoWinAddNumToggle2=cc.find("general/Auto/vencer/toggleContainer/toggle2",this.node),this.autoFailAddNumToggle1=cc.find("general/Auto/perder/toggleContainer/toggle1",this.node),this.autoFailAddNumToggle2=cc.find("general/Auto/perder/toggleContainer/toggle2",this.node)},t.prototype.OnShow=function(e){if(this.key=Number(e.key),this.autoBetData=e.autoBetData,this.isSave=!1,this.autoBetData&&this.autoBetData[this.key]){var t=this.autoBetData[this.key];this.autoWinNumInput.string=0==t.winStopNum?"":t.winStopNum+"",this.autoFailNumInput.string=0==t.failStopNum?"":t.failStopNum+"",this.autoWinAddNumToggle2.getComponent(cc.Toggle).isChecked=t.addWinChk,this.autoWinAddNumToggle1.getComponent(cc.Toggle).isChecked=!t.addWinChk,this.autoFailAddNumToggle2.getComponent(cc.Toggle).isChecked=t.addFailChk,this.autoFailAddNumToggle1.getComponent(cc.Toggle).isChecked=!t.addFailChk,this.autoWinAddNumInput.string=t.addWinChk?t.addWinNum+"":"",this.autoFailAddNumInput.string=t.addFailChk?t.addFailNum+"":""}else this.autoWinNumInput.string="",this.autoFailNumInput.string="",this.autoWinAddNumToggle2.getComponent(cc.Toggle).isChecked=!1,this.autoWinAddNumToggle1.getComponent(cc.Toggle).isChecked=!0,this.autoFailAddNumToggle2.getComponent(cc.Toggle).isChecked=!1,this.autoFailAddNumToggle1.getComponent(cc.Toggle).isChecked=!0,this.autoWinAddNumInput.string="",this.autoFailAddNumInput.string="";this.OnLblNodeTs()},t.prototype.OnClick=function(e){"btn_save"==e&&(this.isSave=!0,this.CloseForm())},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isSave){var n=this.autoWinAddNumToggle2.getComponent(cc.Toggle).isChecked,o=this.autoFailAddNumToggle2.getComponent(cc.Toggle).isChecked,a=n?Number(this.autoWinAddNumInput.string):0,r=o?Number(this.autoFailAddNumInput.string):0;this.autoBetData||(this.autoBetData=[]),this.autoBetData[this.key]={winStopNum:Number(this.autoWinNumInput.string),failStopNum:Number(this.autoFailNumInput.string),addWinChk:n,addFailChk:o,addWinNum:a,addFailNum:r};var s={key:String(this.key),autoBetData:this.autoBetData};app.Client.OnEvent(i.GameEventDefine.BD_AutoInfo,s)}},t.prototype.OnLblNodeTs=function(){if(app.ComTool().H5Platform())for(var e=0;e<this.autoNodeData.length;e++){var t=this.autoNodeData[e].getComponent(a.default);t&&(t.setCustomEvent(this.key),t.OnNodeShow())}},t.prototype.OnKeyBoardEvent=function(){for(var e=0;e<this.autoNodeData.length;e++){var t=this.autoNodeData[e].getComponent(a.default);t&&t.OnNodeShow()}},t.prototype.OnNodeHight=function(e){var t=this.GetWndNode("general");this.Log(t.y);var n=e.isShow?t.y+e.height:t.y-e.height;!e.isShow&&(t.y<=.1||!this.keyIsUpAnim)||n<0||(this.keyIsUpAnim=e.isShow,cc.tween(t).to(.1,{y:n}).start())},__decorate([c([cc.Node])],t.prototype,"autoNodeData",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../Base/BaseForm":"BaseForm","../Define/GameEventDefine":"GameEventDefine","./UINumKeyPadLabel":"UINumKeyPadLabel"}],UIBG:[function(e,t){"use strict";cc._RF.push(t,"91ffbt4lFZIBarc0FXds/Ip","UIBG");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UIBG"},t.prototype.OnEnable=function(){},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent"}],UIBackground:[function(e,t){"use strict";cc._RF.push(t,"1cd7bmQdidKv6x28S+qtMR9","UIBackground");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=e("../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnEnable=function(){app.Client.OnEvent(i.GameEventDefine.UpdateMoveStatus,!1)},t.prototype.OnDisable=function(){app.Client.OnEvent(i.GameEventDefine.UpdateMoveStatus,!0)},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Define/GameEventDefine":"GameEventDefine"}],UIBaseComponent:[function(e,t){"use strict";cc._RF.push(t,"6f028Oz8CZNGaRU2jqlVMtw","UIBaseComponent");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseComponent"),i=e("./EventFunAdapter"),a=cc._decorator.ccclass,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._effectDict={},t.isInit=!1,t}return __extends(t,e),t.prototype.OnLoad=function(){this.EventFunAdapter||(this.EventFunAdapter=new i.EventFunAdapter(this)),this.isInit||(this.isInit=!0,this.OnLoadInit())},t.prototype.onEnable=function(){this.EventFunAdapter.RegisterEvent();try{this.OnEnable()}catch(e){this.ErrLog("err",e)}},t.prototype.onDisable=function(){this.EventFunAdapter.UnRegisterEvent(),this.OnDisable()},t.prototype.RegEvent=function(e,t){this.EventFunAdapter.RegEvent(e,t)},t.prototype.RegHttpEvent=function(e,t){this.EventFunAdapter.RegHttpEvent(e,t)},t.prototype.RegRoomEvent=function(e,t){this.EventFunAdapter.RegRoomEvent(e,t)},t.prototype.RegSystemEvent=function(e,t){this.EventFunAdapter.RegSystemEvent(e,t)},t.prototype.update=function(e){try{this.OnUpdate(e)}catch(t){this.ErrLog("update:%s",t.stack)}},t.prototype.OnLoadInit=function(){},t.prototype.OnUpdate=function(){},t.prototype.WaitForConfirm=function(e,t,n){app.ConfirmManager().ShowConfirm(e,t,n,this.OnConFirm,this.OnCancel,this)},t.prototype.OnConFirm=function(e,t){this.ErrLog("\u6ca1\u6709\u7ee7\u627f\u5b9e\u73b0 OnConFirm(%s,%s,%s)",e,t)},t.prototype.OnCancel=function(e,t){this.WarnLog("\u6ca1\u6709\u7ee7\u627f\u5b9e\u73b0 OnCancel(%s,%s,%s)",e,t)},t.prototype.OnEffectEnd=function(){},t.prototype.OnClick_Toggle=function(e,t){try{var n=e.node,o=n.name;n.getComponent("ButtonSound")||app.ComUtil().playBtnClick(),this.OnClick(o,e,t)}catch(i){this.ErrLog("OnClick_Toggle:%s",i.stack)}},t.prototype.OnClick_BtnWnd=function(e,t){try{var n=e.currentTarget,o=n.name;n.getComponent("ButtonSound")||app.ComUtil().playBtnClick();var i=n.getComponent("DependentClickEvent");if(i&&i.IsOutGamePop())return;this.OnClick(o,n,t)}catch(a){this.ErrLog("OnClick_BtnWnd:%s",a.stack)}},t.prototype.OnClick=function(){},t.prototype.OnEnable=function(){},t.prototype.OnDisable=function(){},__decorate([a],t)}(o.default);n.default=r,t.exports=n,cc._RF.pop()},{"./BaseComponent":"BaseComponent","./EventFunAdapter":"EventFunAdapter"}],UIBonusRichTextClick:[function(e,t){"use strict";cc._RF.push(t,"1ce2adi3U1LDofd7+gf8BKm","UIBonusRichTextClick");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Click=function(e,t){var n=t.indexOf("link_:");if(n>-1)return t=t.replace("link_:",""),void app.InteractionMgr().SendWndEvent(Number(t));(n=t.indexOf("url_:"))>-1&&(t=t.replace("url_:",""),cc.sys.openURL(t))},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent"}],UIBonuses:[function(e,t){"use strict";cc._RF.push(t,"aee63+99v9F3YRQ3qW5CMdx","UIBonuses");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=e("../../../Common/Base/BaseForm"),s=e("../../../Common/Define/GameEventDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.bonusesItem=null,t.btn_more=null,t.sprData=[],t.n_height=560,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(s.GameEventDefine.RECHARGE_BONUS,this.onRechargeBonus),this.RegEvent(s.GameEventDefine.RECHARGE_BONUS_LIST,this.onShowData),this.n_height=app.ComTool().H5Platform()?800:520},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.node.height=this.n_height,this.InitListUpdate()},t.prototype.InitListUpdate=function(){this.content.removeAllChildren(),this.Page=1,app.ActivityManager().RequestRechargeBonusList(1)},t.prototype.onShowData=function(e){var t=e;if(t.length<=0)return 1==this.Page&&(this.btn_more.active=!1,app.Client.OnEvent(s.GameEventDefine.BONUS_HIDE)),this.Page=this.Page--<1?1:this.Page--,void(this.btn_more.active=!1);this.SetDatas(t),this.btn_more.active=10==t.length},t.prototype.SetDatas=function(e){if(null!=e){for(var t=0,n=0;n<e.length;n++){var o=e[n],i=cc.instantiate(this.bonusesItem);i.getComponent(cc.Sprite).spriteFrame=this.sprData[t],t=t+1>2?0:t+1,cc.find("title/title/label",i).getComponent(cc.Label).string=o.title,cc.find("title/title/richtext",i).getComponent(cc.RichText).string="</color> <color=#ffffff>"+app.i18n.t("UI_Code_Bonus")+"</c><color=#D36E3F> "+parseFloat(o.bonus_gold)+"</color>",cc.find("title/title2/label",i).getComponent(cc.Label).string=o.recharge_time,cc.find("li/label1",i).getComponent(cc.Label).string=app.i18n.t("UI.MakeMoney_3_MyCommission_11")+"     "+parseFloat(o.current_bet),cc.find("li/label2",i).getComponent(cc.Label).string="/"+parseFloat(o.all_bet);for(var a=cc.find("li/progressBar",i),r=a.childrenCount,s=1;s<r;s++){var c=a.getChildByName("fenduan");c&&c.removeFromParent()}var p=0;a.getComponent(cc.ProgressBar).progress=Number(o.current_rate)/100;for(var l=0;l<o.bonus_settle_list.length;l++){var h=o.bonus_settle_list[l],d=this.toFixed(Number(o.bonus_gold)*(Number(h.percent)/100),2),u=cc.instantiate(cc.find("li/fenduan",i));u.setPosition(cc.v2(a.width*(Number(h.percent)/100),0)),cc.find("num",u).getComponent(cc.Label).string=h.bet+"",cc.find("tips/R_bg/dama/label",u).getComponent(cc.Label).string=parseFloat(this.toFixed(d-p,2)+"")+"";var _=cc.find("box_normal",u);0==h.status&&Number(o.current_rate)/100>=Number(h.percent)/100?((_=cc.find("box_receive",u)).active=!0,_.getComponent(cc.Animation).play()):0==h.status&&Number(o.current_rate)/100<Number(h.percent)/100?_.active=!0:(_=cc.find("box_used",u)).active=!0,_.percent=h.percent,_.recId=o.id,u.active=!0,a.addChild(u),p=d}i.active=!0,this.content.addChild(i)}this.content.getComponent(cc.Layout).updateLayout(),this.node.height=150+this.content.height>this.n_height?150+this.content.height:this.n_height}},t.prototype.toFixed=function(e,t){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("\u8d85\u8fc7js\u5b89\u5168\u8ba1\u7b97\u503c\u8303\u56f4\uff0c\u6b64\u51fd\u6570\u6682\u4e0d\u652f\u6301\uff01");var n=Math.pow(10,t),o=Math.floor(e*n),i=String(e).split(".");return i[1]&&i[1].length>=t&&Number(i[1][t])>=5&&(o+=1),o/n},t.prototype.OnClick=function(e,t){if("box_normal"!=e){if("box_receive"!=e)return"btn_view"==e?(this.Page+=1,void app.ActivityManager().RequestRechargeBonusList(this.Page)):void 0;app.ActivityManager().RequestRechargeBonusBet(t.recId,t.percent)}else{var n=cc.find("tips",t.parent);n&&!n.active&&(n.active=!0,t.getComponent(cc.Button).scheduleOnce(function(){t.getComponent(cc.Button).unscheduleAllCallbacks(),n.active=!1},3))}},t.prototype.onRechargeBonus=function(){this.InitListUpdate()},__decorate([a(cc.Node)],t.prototype,"content",void 0),__decorate([a(cc.Node)],t.prototype,"bonusesItem",void 0),__decorate([a(cc.Node)],t.prototype,"btn_more",void 0),__decorate([a([cc.SpriteFrame])],t.prototype,"sprData",void 0),__decorate([i],t)}(r.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UICalendarView:[function(e,t){"use strict";cc._RF.push(t,"c3a924VF0pO0J7ZxMnBnP8C","UICalendarView");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=cc._decorator.ccclass,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentArr=[],t.lblYear=null,t.content=null,t.layBlue=null,t.lblLastMonth=null,t.lblNextMonth=null,t.currentMonth=0,t.newYear=0,t.newMonth=0,t.defaultDayTag=null,t.lblCurrentTime=null,t.limitDayNum=30,t}return __extends(t,e),Object.defineProperty(t.prototype,"setectColor",{get:function(){return(new cc.Color).fromHEX("#FFF073")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultColor",{get:function(){return(new cc.Color).fromHEX("#FFF6E6")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disableColor",{get:function(){return(new cc.Color).fromHEX("#8F8F8F")},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.uiltTime=new r,this.content=this.sprBgNode.getChildByName("conten"),this.lblYear=this.sprBgNode.getChildByName("lblYear"),this.layBlue=this.sprBgNode.getChildByName("layblue");var e=this.sprBgNode.getChildByName("lblLasttMonth"),t=this.sprBgNode.getChildByName("lblNextMonth");this.lblLastMonth=e.getComponent(cc.Label),this.lblNextMonth=t.getComponent(cc.Label),this.contentArr=this.content.children;for(var n=null,o=0;o<this.contentArr.length;o++)(n=this.contentArr[o].getComponent(cc.Label))&&(n.overflow=cc.Label.Overflow.CLAMP,n.node.setContentSize(40,40))},t.prototype.OnLoadInit=function(){this.init(),this.addEventNodeFun()},t.prototype.setCurrent=function(e){this.lblCurrentTime=e,this.initViewFun()},Object.defineProperty(t.prototype,"sprBgNode",{get:function(){return this.node.getChildByName("sprBg")},enumerable:!1,configurable:!0}),t.prototype.addEventNodeFun=function(){this.contentArr=this.content.children;for(var e=0;e<this.contentArr.length;e++)this.contentArr[e].on(cc.Node.EventType.TOUCH_START,this.upEventReceiveFun,this),this.contentArr[e].on(cc.Node.EventType.TOUCH_END,this.upLayBlueFun,this);this.node.getChildByName("sprBg").on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()},this)},t.prototype.onUpdateDayTime=function(){this.initViewFun()},t.prototype.initViewCalendar=function(e,t,n){void 0===n&&(n=-1);for(var o=7==e?0:e,i=0,a=this.getUpMonthMaxDay().end-o,r=0,s=0;s<this.contentArr.length;s++)this.contentArr[s].getChildByName("lblYinli").getComponent(cc.Label).string="",o<=s&&t+o>s?(++i,this.contentArr[s].name=i+"",i==n&&(this.defaultDayTag=s),this.contentArr[s].getComponent(cc.Label).string=i.toString()):s<o?(++a,this.contentArr[s].name=100+a+"",this.contentArr[s].getComponent(cc.Label).string=a.toString()):s>=t+o&&(++r,this.contentArr[s].getComponent(cc.Label).string=r.toString(),this.contentArr[s].name=200+r+""),this.setlblNodeColor(this.contentArr[s])},t.prototype.setlblNodeColor=function(e){if(this.limitDayNum>0){var t=this.uiltTime.formatTimeStamp(this.getTimeFormat(e.name)),n=this.uiltTime.get1DayLastDate((new Date).getTime(),-this.limitDayNum);t>n&&t-n>864e5*(this.limitDayNum+1)-1?e.color=this.disableColor:e.color=this.defaultColor}else e.color=this.defaultColor},t.prototype.initViewFun=function(){var e=this.lblCurrentTime.string;this.lblYear.getComponent(cc.Label).string=e;var t=e.split("-");this.newYear=Number(t[0]),this.newMonth=Number(t[1]),this.currentMonth=this.newMonth,this.Log(this.currentMonth),this.updateMonth();var n=this.getTimeDataFun(this.newYear,this.newMonth);this.initViewCalendar(n.start,n.end,Number(t[2])),this.setLayBlueState(this.contentArr[this.defaultDayTag])},t.prototype.setLayBlueState=function(e){if(e){this._curSelectTarget&&(this._curSelectTarget.color=this.defaultColor),this._curSelectTarget=e,e.color=this.setectColor;var t=this.content.convertToWorldSpaceAR(e.getPosition()),n=this.sprBgNode.convertToNodeSpaceAR(t);this.layBlue.setPosition(n)}this.layBlue.active=!!e},t.prototype.updateFun=function(){this.lblYear.getComponent(cc.Label).string=this.newYear+"/"+this.newMonth;var e=this.getTimeDataFun(this.newYear,this.newMonth);this.initViewCalendar(e.start,e.end)},t.prototype.upLayBlueFun=function(e){var t=this;e.target.getComponent(cc.Label).string&&(e.target.color.equals(this.disableColor)||(this.setLayBlueState(e.target),this.scheduleOnce(function(){t.OnBtnClose()},.2)))},t.prototype.upEventReceiveFun=function(e){var t;e.target.getComponent(cc.Label).string&&!e.target.color.equals(this.disableColor)&&(t=this.getTimeFormat(e.target.name),this.lblYear.getComponent(cc.Label).string=t,this.Log("\u4e8b\u4ef6=================",t),this.lblCurrentTime&&(this.lblCurrentTime.string=t))},t.prototype.getTimeFormat=function(e){var t=Number(e),n={yaer:0,month:0},o=0;t>200?(o=Math.abs(t-200),n=this.downYearMonthWayFun()):t>100?(o=Math.abs(t-100),n=this.upYearMonthWayFun()):(o=t,n.yaer=this.newYear,n.month=this.newMonth);var i=(n.month<10?"0":"")+n.month,a=(o<10?"0":"")+o;return n.yaer+"-"+i+"-"+a},t.prototype.leftBtnFun=function(){this.reduceDateFun()?(this.setLayBlueState(null),this.updateFun()):alert("\u8d85\u51fa\u65e5\u671f\u8303\u56f4")},t.prototype.rigthBtnFun=function(){this.setLayBlueState(null),this.addDateFun(),this.updateFun()},t.prototype.reduceDateFun=function(){return this.newMonth-1>0?(this.newMonth-=1,this.currentMonth=this.newMonth,this.updateMonth(),!0):this.newYear-1>1980&&(this.newYear-=1,this.newMonth=12,this.currentMonth=this.newMonth,this.updateMonth(),!0)},t.prototype.addDateFun=function(){this.newMonth+1<13?(this.newMonth+=1,this.currentMonth=this.newMonth,this.updateMonth()):(this.newYear+=1,this.newMonth=1,this.currentMonth=this.newMonth,this.updateMonth())},t.prototype.updateMonth=function(){12==this.currentMonth?(this.lblNextMonth.string="1",this.lblLastMonth.string=this.currentMonth-1+""):1==this.currentMonth?(this.lblNextMonth.string=this.currentMonth+1+"",this.lblLastMonth.string="12"):(this.lblNextMonth.string=this.currentMonth+1+"",this.lblLastMonth.string=this.currentMonth-1+"")},t.prototype.getTimeDataFun=function(e,t){var n=new Date(e,t,0),o=n.getDate();return n.setDate(1),e%4==0&&e%100!=0||e%400==0?2==t&&(o=29):2==t&&(o=28),{start:n.getDay(),end:o}},t.prototype.getUpMonthMaxDay=function(){var e;return e=this.upYearMonthWayFun(),this.getTimeDataFun(e.yaer,e.month)},t.prototype.upYearMonthWayFun=function(){var e=0,t=0;return 1==this.newMonth?(e=this.newYear-1,t=12):(e=this.newYear,t=this.newMonth-1),{yaer:e,month:t}},t.prototype.downYearMonthWayFun=function(){var e=0,t=0;return 12==this.newMonth?(e=this.newYear+1,t=1):(e=this.newYear,t=this.newMonth+1),{yaer:e,month:t}},t.prototype.OnBtnClose=function(){this.node.active=!1,this.unscheduleAllCallbacks(),this.node.parent.getComponent(cc.Layout)&&(this.node.parent.getComponent(cc.Layout).enabled=!0)},__decorate([i],t)}(o.default);n.default=a;var r=function(){function e(){}return e.prototype.formatYMD1=function(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()},e.prototype.formatYMD2=function(e){return e.getFullYear().toString()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()},e.prototype.formatTimeStamp=function(e){return new Date(e).getTime()},e.prototype.get1DayLastDate=function(e,t){void 0===t&&(t=1);var n=new Date(e);return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n.getTime()+864e5*t-1},e}();t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent"}],UICashDetails:[function(e,t){"use strict";cc._RF.push(t,"9b30b3fGGJKNK+GtDLqw0tz","UICashDetails");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TextGroupNode=null,t.Node_currency=null,t.Node_Remarks=null,t.ParentConnct=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UICashDetails",this.RegEvent(i.GameEventDefine.GET_TXRECORDDETAILS,this.onReceiveData),this.ParentConnct=this.GetWndNode("bg/layer/connect/view/connect")},t.prototype.OnShow=function(e){this.InitAllLabelData(),this.Init(e)},t.prototype.InitAllLabelData=function(){this.TextGroupNode.children.forEach(function(e){e.active=!1,e.getChildByName("Label").getComponent(cc.Label).string=""})},t.prototype.getIdData=function(){this._ItemData&&app.CashOutManager().RequstTxRecordDetails(this._ItemData.DetailsId)},t.prototype.onReceiveData=function(e){this.ParentConnct.removeAllChildren();var t=e.prepay_fileds_show,n=e.prepay_fileds_map;try{for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=cc.instantiate(this.Node_currency);if(i){if("account_type"==o){var a="1"==t[o]?app.i18n.t("UI_CASHOUT_Corrente"):app.i18n.t("UI_CASHOUT_Poupan");i.getChildByName("Label").getComponent(cc.Label).string=a}else i.getChildByName("Label").getComponent(cc.Label).string=t[o];i.getChildByName("lbl_title").getComponent(cc.Label).string=n[o],i.active=!0,this.ParentConnct.addChild(i)}}var r=cc.instantiate(this.Node_Remarks);r.getChildByName("Label").getComponent(cc.Label).string=e.remark,r.active=!0,this.ParentConnct.addChild(r)}catch(s){this.ErrLog("Cash_outRecordDetailis  getIdData ERROR")}},t.prototype.Init=function(e){this._ItemData=e,this.InitAllLabelData(),this.getIdData(),this.node.active=!0},t.prototype.closeSelf=function(){this.node.active=!1,cc.systemEvent.emit("Close_FootBtnList")},__decorate([s(cc.Node)],t.prototype,"TextGroupNode",void 0),__decorate([s(cc.Node)],t.prototype,"Node_currency",void 0),__decorate([s(cc.Node)],t.prototype,"Node_Remarks",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIChat:[function(e,t){"use strict";cc._RF.push(t,"ae3abw0y+JJ3JmjUYO+zPI6","UIChat");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/ShareDefine"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(i.GameEventDefine.UIChatUpdateTopWidget,this.updateTopWidget)},t.prototype.updateTopWidget=function(){app.ComTool().H5Platform()&&(1==app.Client.GetDownload().active?this.GetWndComponent("right/connect",cc.Widget).top=220:this.GetWndComponent("right/connect",cc.Widget).top=140)},t.prototype.OnShow=function(){this.updateTopWidget();for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.Client.OnEvent(i.GameEventDefine.HallWidgetVariety),app.Client.OnEvent(i.GameEventDefine.SELECT_TOPTOOGLE,a.Hall_SelectTopToggle.Email),this.openEmail()},t.prototype.OnClose=function(){app.Client.OnEvent(i.GameEventDefine.HallWidgetVariety)},t.prototype.OnClick=function(e){"toggle1"!=e?"toggle2"!=e?"btn_exit"!=e||this.CloseForm():this.openEmail():this.openNotice()},t.prototype.openNotice=function(){},t.prototype.openEmail=function(){cc.find("right/connect/scrollview_mail",this.node).active=!0,cc.find("right/mail_btn",this.node).active=!0},__decorate([s],t)}(o.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine"}],UIDebug:[function(e,t){"use strict";cc._RF.push(t,"40c99z9kodLJLCNxgXNSYB+","UIDebug");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/UIBaseComponent"),i=cc._decorator.ccclass,a=cc._decorator.property;(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tgeContainer=null,t.pageview=null,t}__extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UIDebug";for(var e=0;e<this.tgeContainer.node.children.length;e++)this.tgeContainer.node.children[e].on("toggle",this.OnToggleChange,this);this.pageview.node.on("page-turning",this.OnPageTurning,this)},t.prototype.OnEnable=function(){this.pageview.scrollToPage(0,0)},t.prototype.OnClick=function(e){"BtnClose"==e&&(this.node.active=!1)},t.prototype.OnToggleChange=function(e){var t=this.tgeContainer.toggleItems.indexOf(e);t!=this.pageview.getCurrentPageIndex()&&this.pageview.scrollToPage(t,.25)},t.prototype.OnPageTurning=function(){var e=this.pageview.getCurrentPageIndex();this.tgeContainer.toggleItems[e].isChecked=!0},__decorate([a(cc.ToggleContainer)],t.prototype,"tgeContainer",void 0),__decorate([a(cc.PageView)],t.prototype,"pageview",void 0),t=__decorate([i],t)})(o.default),t.exports=n,cc._RF.pop()},{"../Base/UIBaseComponent":"UIBaseComponent"}],UIDiscount:[function(e,t){"use strict";cc._RF.push(t,"015cd1rkIxDa7fWmc2omJ5w","UIDiscount");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lblNum=null,t.lblTotal=null,t.lblReward=null,t.lblCount=null,t.lblPercent=null,t.rtDesc=null,t.biaoqian=null,t.send_percent=0,t}return __extends(t,e),t.prototype.OnLoad=function(){this.JS_Name="UIDiscount",this.lblNum.string="",this.lblTotal.string="",this.lblReward.string="",this.rtDesc.string="",this.lblCount.string="",this.lblPercent.string="",this.RegEvent(i.GameEventDefine.CLOSE_PAY,this.onClose),this.RegEvent(i.GameEventDefine.GET_GOODS_LIST,this.onGetGoodsList),this.RegEvent(i.GameEventDefine.GET_RECHARGE_REWARD,this.onGetRechargeReward)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.StoreManager().RequstGoodsList()},t.prototype.onGetGoodsList=function(){app.ActivityManager().RequstRechargeReward()},t.prototype.onGetRechargeReward=function(){var e=app.ActivityManager().GetRechargeRewardInfo();e?this.renderRewardInfo(e):this.CloseForm()},t.prototype.renderRewardInfo=function(e){var t,n=e.gold,o=e.reward,i=100*Number(Number(o)/Number(n));this.lblNum.string=""+n,this.lblReward.string=""+o,this.send_percent=app.ScoreUtil().fix_float_number(i),t=1==e.bonus_type?app.i18n.t("Shop_Bonus"):app.i18n.t("Shop_Cash"),cc.find("bonus/label",this.biaoqian).getComponent(cc.Label).string="",this.lblPercent.string=t;var a=app.GameConfigManager().GetCurrency;this.lblCount.string=a+n,cc.find("/scrollview/view/content/bg_li/button_withdraw/Background/Label",this.node).getComponent(cc.Label).string=a+n,this.rtDesc.string="<color=#ffffff>"+app.i18n.t("UI.Charge_discount_2")+"</c><color=#ffff>  "+a+" "+n+" </color><color=#ffffff>,"+app.i18n.t("UI.Charge_discount_2")+"</color>"},t.prototype.OnClick=function(e){if("button_withdraw"!=e);else{if(app.UserManager().GetIsOfficialPopup())return;this.goToEvent()}},t.prototype.goToEvent=function(){var e=app.ActivityManager().GetRechargeRewardInfo(),t={Reward:e.reward,is_discount:1,amount:e.gold,send_percent:0};app.FormManager().ShowForm(a.UINameDefine.UIRechargeInfo,t)},t.prototype.onClose=function(){this.CloseForm()},__decorate([c(cc.Label)],t.prototype,"lblNum",void 0),__decorate([c(cc.Label)],t.prototype,"lblTotal",void 0),__decorate([c(cc.Label)],t.prototype,"lblReward",void 0),__decorate([c(cc.Label)],t.prototype,"lblCount",void 0),__decorate([c(cc.Label)],t.prototype,"lblPercent",void 0),__decorate([c(cc.RichText)],t.prototype,"rtDesc",void 0),__decorate([c(cc.Node)],t.prototype,"biaoqian",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIDownApp:[function(e,t){"use strict";cc._RF.push(t,"4a2306zAEZC1ZCpglJHxRrp","UIDownApp");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/HttpServerDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){},t.prototype.OnLoadInit=function(){app.HttpServerManager().RegNetPack(i.HttpAPI.DOWNLOAD_RECORD,this.DownloadRecordCallBack,this)},t.prototype.OnEnable=function(){},t.prototype.DownloadRecordCallBack=function(e){this.Log(JSON.stringify(e))},t.prototype.OnClick=function(e){if("UIDownApp_IOS"==e||"UIDownApp_Android"==e||"btn_Download"==e){if(!cc.sys.isBrowser)return;var t,n=app.ClientConfigManager().getLocalUrlDataByName("agentid");app.HttpServerManager().SendHttpPack(i.HttpAPI.DOWNLOAD_RECORD,{agentid:n||""}),t=app.GameConfigManager().GetGameConfig().down_urls.android_download_url,app.ComTool().H5Platform()&&cc.sys.os==cc.sys.OS_IOS?app.FormManager().ShowForm(a.UINameDefine.UIJudge):t?cc.sys.openURL(t):app.FormManager().ShowForm(a.UINameDefine.UIJudge)}},__decorate([s],t)}(o.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/HttpServerDefine":"HttpServerDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIFail:[function(e,t){"use strict";cc._RF.push(t,"18d62toJgFLjJEwH8waCzFK","UIFail");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnShow=function(){},t.prototype.OnClick=function(e){if("btn_Support"!=e)return"btn_refresh"==e?(this.CloseForm(),void app.Client.OnEvent(i.GameEventDefine.REFRESH_LAUNCH)):void 0;cc.sys.openURL(app.ClientConfigManager().GetGlobalConfig.KEFU_URL)},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine"}],UIForgetEmailPassword:[function(e,t){"use strict";cc._RF.push(t,"57d7b1JINVKvbqPlmbkgfQk","UIForgetEmailPassword");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=null,t.redefining=null,t.password=null,t.show=null,t.show1=null,t.hide=null,t.hide1=null,t.lbl_mail_account=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIForgetEmailPassword"},t.prototype.OnShow=function(e){var t=app.LoginManager().getUserLoginCode();t&&(this.myCode=t),this.lbl_mail_account=e,this.initView()},t.prototype.initView=function(){this.onBtnEyeShow(!1),this.onBtnEye1Show(!1),this.validate.string="",this.password.string="",this.redefining.string=""},t.prototype.OnClick=function(e){this.Log(e),"btn_Reset"!=e?"btn_eye"!=e?"btn_eye_close"!=e?"btn_eye1"!=e?"btn_eye_close1"!=e||this.onBtnEye1Show(!1):this.onBtnEye1Show(!0):this.onBtnEyeShow(!1):this.onBtnEyeShow(!0):this.onResetPassword()},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.Client.OnEvent(i.GameEventDefine.SHOW_LOGIN_FORM)},t.prototype.onResetPassword=function(){var e=this.redefining.string,t=this.password.string,n=this.validate.string;if(t===e)if(app.StringUtil().isLegal(t)){var o={pwd:t,type:2,code:n,account:this.lbl_mail_account,login_type:2};app.LoginManager().RequestResetPassword(o)}else app.SysNotifyManager().ShowToast("UI_Login_prompt7");else app.SysNotifyManager().ShowToast("UI_Login_prompt6")},t.prototype.onBtnEyeShow=function(e){this.setShow(e,1)},t.prototype.onBtnEye1Show=function(e){this.setShow(e,0)},t.prototype.setShow=function(e,t){var n,o,i;t?(n=this.password,o=this.show,i=this.hide):(n=this.redefining,o=this.show1,i=this.hide1),n.inputFlag=e?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD,o.active=!e,i.active=e},__decorate([s(cc.EditBox)],t.prototype,"validate",void 0),__decorate([s(cc.EditBox)],t.prototype,"redefining",void 0),__decorate([s(cc.EditBox)],t.prototype,"password",void 0),__decorate([s(cc.Node)],t.prototype,"show",void 0),__decorate([s(cc.Node)],t.prototype,"show1",void 0),__decorate([s(cc.Node)],t.prototype,"hide",void 0),__decorate([s(cc.Node)],t.prototype,"hide1",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine"}],UIForgetPassword:[function(e,t){"use strict";cc._RF.push(t,"41ce9H2NdpNho9VicIyaIVQ","UIForgetPassword");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/UINameDefine"),r=e("../../Common/Define/ShareDefine"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mail_account=null,t.phone_account=null,t.validateCode=null,t.password=null,t.countdown=null,t.btnSendValidate=null,t.codeLabel=null,t.show=null,t.hide=null,t.myCode=null,t.countTime=0,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIForgetPassword",this.RegEvent(i.GameEventDefine.NATION_PHONE_CODE,this.OnSelectNation),this.RegEvent(i.GameEventDefine.GET_CODE_SUCCESS,this.OnGetCodeSuccess),this.RegEvent(i.GameEventDefine.GET_EMAIL_CODE_SUCCESS,this.OnGetEmailCodeSuccess)},t.prototype.OnShow=function(e){var t=app.LoginManager().getUserLoginCode();this.myCode=t,this.codeLabel.string="+"+t.code,t.code||this.OnGetAreaCode(),this.initView(1==e)},t.prototype.initView=function(e){this.setShow(!1),this.mail_account.string="",this.phone_account.string="",this.validateCode.string="",this.password.string="",this.btnSendValidate.active=!0,this.countdown.node.active=!1,this.countdown.string="",this.isPhone=e,cc.find("layer/UIPhone",this.node).active=this.isPhone,cc.find("layer/text_mail",this.node).active=!this.isPhone},t.prototype._callback=function(){this.countTime=this.countTime-1,this.countdown.string=this.countTime+"s",this.countTime<=0&&(this.unscheduleAllCallbacks(),this.countdown.node.active=!1,this.btnSendValidate.active=!0,this.countdown.string="")},t.prototype.OnSelectNation=function(e){this.myCode={mark:e.mark,code:e.code},this.codeLabel.string="+"+e.code},t.prototype.OnGetAreaCode=function(){var e=app.LoginManager().GetDefaultAreaCode();e?this.setAreaCode(e):this.ErrLog("OnGetAreaCode error")},t.prototype.setAreaCode=function(e){this.myCode={mark:e.mark,code:e.code},this.codeLabel.string="+"+e.code},t.prototype.OnClick=function(e){if(this.Log(e),"btn_Reset"!=e){if("btn_otp"!=e)return"btn_clean"==e?(this.phone_account.string="",void(this.mail_account.string="")):void("btn_eye"!=e?"btn_eye_close"!=e?"btn_code"!=e||app.FormManager().ShowForm(a.UINameDefine.UINationPhoneCode,{type:r.NationPhoneNumberType.ChangePwd}):this.setShow(!1):this.setShow(!0));this.onFetchValidateCode()}else this.onResetPassword()},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.Client.OnEvent(i.GameEventDefine.SHOW_LOGIN_FORM)},t.prototype.onResetPassword=function(){var e=this.myCode.code,t=this.isPhone?this.phone_account.string:this.mail_account.string,n=this.validateCode.string,o=this.password.string;if(app.StringUtil().isLegal(o)||!this.isPhone)if(this.isPhone){var i={area:e,tel:Number(e+""+t),pwd:o,type:1,code:n,login_type:3};app.LoginManager().RequestResetPassword(i)}else{if(!t)return void app.SysNotifyManager().ShowToast("UI.System_45");app.UserManager().RequestEmailCode({token:app.UserManager().UserInfo.token,email:t,type:2}),this.CloseForm(),app.FormManager().ShowForm(a.UINameDefine.UIForgetEmailPassword,this.mail_account.string)}else app.SysNotifyManager().ShowToast("UI_Login_prompt7")},t.prototype.onFetchValidateCode=function(){var e=this.myCode.code,t=this.phone_account.string,n=app.UserManager().GetUserInfo&&null!=app.UserManager().GetUserInfo.token?app.UserManager().GetUserInfo.token:"";app.UserManager().fetchValidateCode({token:n,tel:Number(e+""+t),type:2,area:e})},t.prototype.OnGetCodeSuccess=function(e){this.countdown.node.active=!0,this.btnSendValidate.active=!1,this.countTime=e,this.schedule(this._callback,1)},t.prototype.OnGetEmailCodeSuccess=function(){},t.prototype.setShow=function(e){this.password.inputFlag=e?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD,this.show.active=!e,this.hide.active=e},t.prototype.StartEnterCode=function(){this.StEnterCodeFontSize(75)},t.prototype.EndEnterCode=function(){this.StEnterCodeFontSize(37.84)},t.prototype.StEnterCodeFontSize=function(e){this.GetWndComponent("layer/UIPhone/text_otp/editbox_enter_otp/PLACEHOLDER_LABEL",cc.Label).fontSize=e,this.GetWndComponent("layer/UIPhone/text_otp/editbox_enter_otp/TEXT_LABEL",cc.Label).fontSize=e},__decorate([p(cc.EditBox)],t.prototype,"mail_account",void 0),__decorate([p(cc.EditBox)],t.prototype,"phone_account",void 0),__decorate([p(cc.EditBox)],t.prototype,"validateCode",void 0),__decorate([p(cc.EditBox)],t.prototype,"password",void 0),__decorate([p(cc.RichText)],t.prototype,"countdown",void 0),__decorate([p(cc.Node)],t.prototype,"btnSendValidate",void 0),__decorate([p(cc.Label)],t.prototype,"codeLabel",void 0),__decorate([p(cc.Node)],t.prototype,"show",void 0),__decorate([p(cc.Node)],t.prototype,"hide",void 0),__decorate([c],t)}(o.default);n.default=l,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine","../../Common/Define/UINameDefine":"UINameDefine"}],UIFreeWindow:[function(e,t){"use strict";cc._RF.push(t,"a83dflF1etG2a/Y/eeHaMGg","UIFreeWindow");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/ShareDefine"),a=e("../../../Common/Define/TrackEventName"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GoldNod=null,t.FreeOutGame=null,t.FreeNotice=null,t.FreeInFreeGameNotice=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIFreeWindow"},t.prototype.OnShow=function(e){this.OnNodeDisable(e.type)},t.prototype.OnNodeDisable=function(e){this.GoldNod.active=e==i.FreeWindowType.GoldNod;var t=app.GameConfigManager().IsExperienceServerShow?"UI_Guide_text1":"UI_Guide_text4";this.GetWndComponent("lbl",cc.Label,this.GoldNod).string=app.i18n.t(t)},t.prototype.OnClick=function(e){if("Recharge"==e)return app.StoreManager().ShowStoreUI({in_type:a.default.PAGETRACK_EVENT_RECHARGE_GAME}),void this.CloseForm();"btn_free"!=e&&"btnSure"!=e||app.DemoServerManager().EnterGame()},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.OnNodeDisable(0)},__decorate([c(cc.Node)],t.prototype,"GoldNod",void 0),__decorate([c(cc.Node)],t.prototype,"FreeOutGame",void 0),__decorate([c(cc.Node)],t.prototype,"FreeNotice",void 0),__decorate([c(cc.Node)],t.prototype,"FreeInFreeGameNotice",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName"}],UIGC:[function(e,t){"use strict";cc._RF.push(t,"e700csJEUBFf48V+UL3LUmk","UIGC");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=(e("../../../Common/Define/GameEventDefine"),cc._decorator),a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoad=function(){},t.prototype.OnShow=function(){},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIGameHelp:[function(e,t){"use strict";cc._RF.push(t,"62c49//lQ9NarN1KeYHpvRG","UIGameHelp");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Bundle/BundleManager"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ImageUrl={"en-us":"_help_en","pt-pt":"_help_pt","vi-vn":"_help_yn","hi-in":"_help_in"},t.help_node=null,t.content=null,t.help_1=null,t.help_2=null,t.btn_next=null,t.btn_close=null,t.helpView=null,t.pageView=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIGameHelp",this.GetWndNode("general").scale=app.ComTool().H5Platform()?1:.7,this.help_2&&(this.help_2.active=!1),this.help_1&&(this.help_1.active=!1)},t.prototype.OnShow=function(e){if(e)if(this.bundle=e.bundle,e.HelpPage){if(this.content.removeAllChildren(),0==this.content.childrenCount)for(var t=0;t<e.HelpPage;t++){var n=cc.instantiate(this.help_node);this.getHelpNodeSpr(e.bundle,n,t),n.active=!0,this.help_2&&(this.help_2.active=!0)}}else this.helpView.removeAllChildren(),this.getHelpNode(e.bundle,e.helpName),this.setBtnDisable(!0),this.help_1&&(this.help_1.active=!0);else this.CloseForm()},t.prototype.setBtnDisable=function(e){this.btn_next.active=e,this.btn_close.active=!e},t.prototype.getHelpNode=function(e,t){var n=this,o=t||e+"_help";i.BundleManager.LoadAssets("prefab/"+o,this.bundle,cc.Prefab).then(function(e){var t=cc.instantiate(e);n.helpView.addChild(t),n.pageView=t.getComponent(cc.PageView),n.pageView&&n.pageView.node.on("scroll-ended",n.pageTurnEnded.bind(n))})},t.prototype.pageTurnEnded=function(){this.pageView.getCurrentPageIndex()>=this.pageView.getPages().length-1?this.setBtnDisable(!1):this.setBtnDisable(!0)},t.prototype.getHelpNodeSpr=function(e,t,n){var o=this,a=app.LanguageManager().GetLocalLanguage(!0),r=this.ImageUrl[a];r&&(r=0==n?e+r:e+r+n,i.BundleManager.LoadAssets("atlas/"+r,this.bundle,cc.SpriteFrame).then(function(e){t.getComponent(cc.Sprite).spriteFrame=e,o.content.addChild(t)}).catch(function(){o.getEnHelpNodeSpr(e,t,n)}))},t.prototype.getEnHelpNodeSpr=function(e,t,n){var o=this;if("en-us"!=app.LanguageManager().GetLocalLanguage(!0)){var a=0==n?e+this.ImageUrl["en-us"]:e+this.ImageUrl["en-us"]+n;i.BundleManager.LoadAssets("atlas/"+a,this.bundle,cc.SpriteFrame).then(function(e){t.getComponent(cc.Sprite).spriteFrame=e,o.content.addChild(t)})}},t.prototype.OnClick=function(e){if("btn_next"!=e);else{var t=this.pageView.getCurrentPageIndex();this.pageView.scrollToPage(t+1,this.pageView.pageTurningSpeed)}},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.help_2&&(this.help_2.active=!1),this.help_1&&(this.help_1.active=!1)},__decorate([s(cc.Node)],t.prototype,"help_node",void 0),__decorate([s(cc.Node)],t.prototype,"content",void 0),__decorate([s(cc.Node)],t.prototype,"help_1",void 0),__decorate([s(cc.Node)],t.prototype,"help_2",void 0),__decorate([s(cc.Node)],t.prototype,"btn_next",void 0),__decorate([s(cc.Node)],t.prototype,"btn_close",void 0),__decorate([s(cc.Node)],t.prototype,"helpView",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Bundle/BundleManager":"BundleManager"}],UIGameHintWindow:[function(e,t){"use strict";cc._RF.push(t,"f6bf4fCCppNyLqYQntqhDjZ","UIGameHintWindow");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIGameHintWindow"},t.prototype.OnShow=function(e){var t=app.ExternGameManager().GetExternGameInfoOrSubGameInfo(e.gid,e.sub_gid),n=this.GetWndComponent("Gold/lbl",cc.RichText),o=app.i18n.t("UI_gameHintTip").replace(/({st_time}|{end_time})/gi,function(e,n){return{"{st_time}":app.ComUtil().timeStr(t.mtc_st_date),"{end_time}":app.ComUtil().timeStr(t.mtc_end_date)}[n]});n.string=o},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm"}],UIGameIconBlurMask:[function(e,t){"use strict";cc._RF.push(t,"0bb86hZgxVFb54cIopQCYOY","UIGameIconBlurMask");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.material=null,t.bightness=.5,t.blurAmount=.5,t.sprite=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.material.setProperty("bightness",this.bightness),this.material.setProperty("blurAmount",this.blurAmount),this.spriteFrame=new cc.SpriteFrame,this.sprite=this.node.addComponent(cc.Sprite),this.sprite.spriteFrame=this.spriteFrame,this.sprite.type=cc.Sprite.Type.SIMPLE,this.sprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.sprite.trim=!0,this.sprite.setMaterial(0,this.material)},t.prototype.SetTexture=function(e){this.spriteFrame.setTexture(e)},__decorate([a({type:cc.Material,displayName:"\u6a21\u7cca\u6750\u8d28",tooltip:"\u7528\u4e8e\u5e94\u7528\u6a21\u7cca\u6240\u7528\u7684\u6750\u8d28\uff0c\u5982\u65e0\u7279\u6b8a\u9700\u6c42\u8bf7\u4fdd\u6301\u9ed8\u8ba4"})],t.prototype,"material",void 0),__decorate([a({type:cc.Float,displayName:"\u4eae\u5ea6",tooltip:"\u964d\u4f4e\u80cc\u666f\u7684\u4eae\u5ea6",min:0,max:1})],t.prototype,"bightness",void 0),__decorate([a({type:cc.Float,displayName:"\u6a21\u7cca\u5ea6",tooltip:"\u80cc\u666f\u7684\u6a21\u7cca\u7a0b\u5ea6",min:0,max:1})],t.prototype,"blurAmount",void 0),__decorate([i],t)}(cc.Component);n.default=r,t.exports=n,cc._RF.pop()},{}],UIGameIconItem:[function(e,t){"use strict";cc._RF.push(t,"85bb8iFpcpFZKT0KmD0HNIb","UIGameIconItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=e("./UIGameIconBlurMask"),s=cc._decorator,c=s.ccclass,p=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spGameIcon=null,t.setOnce=!1,t.startTouchTimer=0,t.iconType=0,t.iconUrl=null,t.typeicon=0,t}return __extends(t,e),t.prototype.OnLoadInit=function(){var e=this;this.JS_Name="UIGameIconItem",this.RegEvent(i.GameEventDefine.UPDATE_GAME_MAINTAIN,this.UpDateMaintainInfo),this.nodeState=this.GetWndNode("state"),app.ComTool().H5Platform()?(this.node.on(cc.Node.EventType.TOUCH_START,function(){e.startTouchTimer=Date.now()},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){Date.now()-e.startTouchTimer<500&&(app.ComUtil().playBtnClick(),e.OnStateClickFunc()),e.startTouchTimer=0},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.startTouchTimer=0},this),this.nodeFavorite=this.GetWndNode("Node/favorite")):this.nodeFavorite=this.GetWndNode("state/favorite"),this.spGameIcon=this.GetWndComponent("game",cc.Sprite);var t=this.GetWndNode("Node")||this.node;this.nodeMaintain=this.GetWndNode("weihu",t),this.labelMaintain=this.GetWndComponent("weihu/label",cc.Label,t),this.MaintainLayout=this.GetWndNode("weihu/Layout",t),this.lb_name=this.GetWndComponent("game/label_name",cc.Label),this.label_des=this.GetWndComponent("game/label_des",cc.Label),this.onlineUsers=this.GetWndComponent("game/onlineUsers/onlineUsers",cc.Label),this.onlineUsers2=this.GetWndComponent("game/onlineUsers/onlineUsers2",cc.Label),this.tagNode=this.GetWndNode("tag",t),this.nodeState.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.nodeFavorite&&this.nodeFavorite.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.RegEvent(i.GameEventDefine.SHOW_GAME_ICON,this.OnShowGameIcon);var n=this.GetWndNode("Node");n&&app.PlaceholderManager().FirstLogin&&(t.active=!1,app.PlaceholderManager().AddBeginHideIcon(n))},t.prototype.OnEnable=function(){this.upDateMaintainTime=Date.now(),this.nodeMaintain.active=!1,this.nodeState.active=!1,this.defaultSpriteFrame=this.spGameIcon.spriteFrame},t.prototype.onMouseEnter=function(){if(!this.nodeState.active){if(this.nodeState.active=!0,!this.setOnce){if(this.iconUrl){var e=app.ControlManager().GetResCache(this.iconUrl);e&&this.GetWndComponent("state/bg",r.default).SetTexture(e)}this.setOnce=!0}app.Client.OnEvent(i.GameEventDefine.SHOW_GAME_ICON,{gid:this._data.gid,sub_gid:this._data.sub_gid})}},t.prototype.OnShowGameIcon=function(e){e.gid===this._data.gid&&e.sub_gid===this._data.sub_gid||(this.nodeState.active=!1)},t.prototype.onMouseLeave=function(){this.nodeState.active&&(this.nodeState.active=!1)},t.prototype.resetSpriteFrame=function(){this.spGameIcon.spriteFrame=this.defaultSpriteFrame,this.setOnce=!1},t.prototype.renderData=function(e){this._data=e,this.GetWndComponent("state/name",cc.Label,this.node).string=e.name,this.renderFavorite(),this.renderMaintainInfo();var t=e.url||app.HGameManager().GetCountryGameLogo(e.gid,this.iconType);if(t){4==this.typeicon&&(t=t.replace("/big/","/small/").replace("/middle/","/small/")),this.renderTagView(),this.resetSpriteFrame(),this.iconUrl=t;var n=!1;app.PlaceholderManager().GameIconNum>0&&(app.PlaceholderManager().GameIconNum--,n=!0),app.HallManager().LoadImageIncrease(this.spGameIcon.node,t,n),this.lb_name&&(this.lb_name.string=e.name),this.label_des&&(this.label_des.string=e.game_des),this.onlineUsers?this.onlineUsers.string=e.game_onlineUsers:this.onlineUsers2&&(this.onlineUsers2.string=e.game_onlineUsers+" played")}else this.ErrLog("renderData failed: "+JSON.stringify(e))},t.prototype.renderTagView=function(){var e=app.GameConfigManager().GetGameInfoByGid(this._data.gid);e&&this.tagNode&&(this.tagNode.active=!0,this.GetWndNode("new",this.tagNode).active=3==e.tab,this.GetWndNode("hot",this.tagNode).active=2==e.tab)},t.prototype.renderMaintainInfo=function(){this._data.gid?this.initMaintainInfo(this._data.gid,this._data.sub_gid):this.nodeMaintain.active=!1},t.prototype.UpDateMaintainInfo=function(e){this._data.gid==e.gid&&(e.sub_gid&&this._data.sub_gid!=e.sub_gid||this.initMaintainInfo(e.gid,e.sub_gid))},t.prototype.initMaintainInfo=function(e,t){var n=app.ExternGameManager().GetExternGameInfoOrSubGameInfo(e,t);app.ExternGameManager().IsMaintain(e,t)?(this.nodeMaintain.active=!0,this.labelMaintain.node.active=-1!=this.node.name.indexOf("Recente"),this.MaintainLayout.active=!(-1!=this.node.name.indexOf("Recente")),-1!=this.node.name.indexOf("Recente")?this.labelMaintain.string=app.i18n.t("UI_GameIcon"):(this.GetWndComponent("label1",cc.Label,this.MaintainLayout).string=app.ComUtil().timeStr(n.mtc_st_date),this.GetWndComponent("label2",cc.Label,this.MaintainLayout).string=app.ComUtil().timeStr(n.mtc_end_date))):this.nodeMaintain.active=!1},t.prototype.renderFavorite=function(){if(this.nodeFavorite){if(!this._data.gid)return void(this.nodeFavorite.active=!1);this.nodeFavorite.active=!0;var e=app.GameTypeManager().IsFavoriteGame(this._data.gid,this._data.sub_gid);this.nodeFavorite.getComponent(cc.Toggle).isChecked=e}},t.prototype.OnClick=function(e,t){if("favorite"==e)return app.UserManager().GetIsOfficialPopup()?void(t.getComponent(cc.Toggle).isChecked=!1):void(this._data.gid?(app.GameTypeManager().SetFavoriteGame(this._data.gid,this._data.sub_gid),app.Client.OnEvent(i.GameEventDefine.RefreshGameSelectAll)):this.ErrLog("OnClick: "+this._data.pIdx+", "+this._data.cIdx));"state"==e&&this.OnStateClickFunc(),"weihu"==e&&app.FormManager().ShowForm(a.UINameDefine.UIGameHintWindow,this._data)},t.prototype.OnStateClickFunc=function(){this.nodeMaintain.active?app.FormManager().ShowForm(a.UINameDefine.UIGameHintWindow,this._data):this.EnterGame()},t.prototype.EnterGame=function(){if(this._data.gid)app.FormManager().ShowForm(a.UINameDefine.UIIntoGame,this._data);else{var e=app.GameTypeManager().GetChildList(this._data.pIdx,this._data.cIdx);e?app.FormManager().ShowForm(a.UINameDefine.UIGameHierarchy,{subInfo:e,topName:this._data.name}):this.ErrLog("EnterGame failed: "+this._data.pIdx+", "+this._data.cIdx)}},t.prototype.OnUpdate=function(){if(this.startTouchTimer&&Date.now()-this.startTouchTimer>=500&&(this.startTouchTimer=0,this.onMouseEnter(null)),this.nodeMaintain.active&&Date.now()-this.upDateMaintainTime>=1e3&&(this.upDateMaintainTime=Date.now(),!app.ExternGameManager().IsMaintain(this._data.gid,this._data.sub_gid))){var e=app.ExternGameManager().GetExternGameInfoOrSubGameInfo(this._data.gid,this._data.sub_gid);e&&(e.mtc_status=0),this.nodeMaintain.active=!1}},__decorate([s.property({})],t.prototype,"typeicon",void 0),__decorate([c],t)}(o.default));n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine","./UIGameIconBlurMask":"UIGameIconBlurMask"}],UIGameKeyBoard:[function(e,t){"use strict";cc._RF.push(t,"8fb07UXy/BBTbtifa3Zdj0O","UIGameKeyBoard");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyBoardType=void 0;var o=e("../Base/UIBaseComponent"),i=e("../Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showLabel=null,t.obNode=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){var e=this;this.JS_Name="UIGameKeyBoard",this.node.children.forEach(function(t){e.BindButtonEvent(t.getComponent(cc.Button),"OnClick_BtnWnd")})},t.prototype.OnEnable=function(){},t.prototype.SetObNode=function(e){this.obNode=e.node,this.showLabel=e.label},t.prototype.OnClick=function(e){if(this.Log(e),"button_close"===e)return this.node.active=!1,void this.obNode.emit(i.GameEventDefine.KEYBOARD_DOWN,c.CLOSE);if("button_del"!==e){var t=e.charAt(e.length-1);if(this.showLabel){var n=this.showLabel.string+t;"0"==n[0]&&(n=n.substring(1,n.length)),n.length<=8&&(this.showLabel.string=n)}this.obNode.emit(i.GameEventDefine.KEYBOARD_DOWN,Number(t))}else{if(this.showLabel){var o=this.showLabel.string;this.showLabel.string=o.substring(0,o.length-1),0==this.showLabel.string.length&&(this.showLabel.string="0")}this.obNode.emit(i.GameEventDefine.KEYBOARD_DOWN,c.DEL)}},__decorate([r],t)}(o.default));n.default=s;var c=function(){function e(){}return e.DEL=-1,e.CLOSE=-2,e}();n.KeyBoardType=c,t.exports=n,cc._RF.pop()},{"../Base/UIBaseComponent":"UIBaseComponent","../Define/GameEventDefine":"GameEventDefine"}],UIGameLoading:[function(e,t){"use strict";cc._RF.push(t,"6d1a5hPsfVLr6iSQt/QYGaY","UIGameLoading");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.logo=null,t.bar=null,t.progressBar=null,t.cb=null,t.progressEnd=1,t.gid=0,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIGameLoading",this.RegEvent(i.GameEventDefine.GAME_LOADING_SUCCESS,this.OnLoadingSuccess),this.RegEvent(i.GameEventDefine.GAME_LOADING_FAILED,this.OnLoadingFailed)},t.prototype.OnShow=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[0]){var o=app.RoomManager().GetRoomModeInfoByRoomMode(t[0]);if(!o)return this.CloseForm();this.gid=o.GID,this.setAllSprite(),this.progressEnd=.9,this.progressBar.progress=0,this.schedule(this.updateProgress,.1),this.cb=t[1],this.scheduleOnce(function(){e.cb&&e.cb()},.5)}},t.prototype.clearAllSprite=function(){this.bg.getComponent(cc.Sprite).spriteFrame=null,this.logo.getComponent(cc.Sprite).spriteFrame=null,this.bar.getComponent(cc.Sprite).spriteFrame=null,this.progressBar.node.getComponent(cc.Sprite).spriteFrame=null},t.prototype.setAllSprite=function(){this.clearAllSprite();var e="GameLoading/",t=app.ComTool().H5Platform()?"_V":"_H",n=e+this.gid+"_Bg"+t;app.ImageUtil().LoadImage(this.bg,n);var o=e+this.gid+"_Logo";app.ImageUtil().LoadImage(this.logo,o);var i=e+this.gid+"_Bar"+t;app.ImageUtil().LoadImage(this.bar,i);var a=e+this.gid+"_Progress"+t;app.ImageUtil().LoadImage(this.progressBar.node,a)},t.prototype.updateProgress=function(){this.progressBar.progress+=.05,this.OnClosePro()},t.prototype.OnClosePro=function(){this.progressBar.progress>=this.progressEnd&&this.unschedule(this.updateProgress),this.progressBar.progress>=1&&this.CloseForm()},t.prototype.OnLoadingSuccess=function(){this.progressBar.progress=1,this.OnClosePro()},t.prototype.OnLoadingFailed=function(){this.ErrLog("OnLoadingFailed"),this.unscheduleAllCallbacks(),app.FormManager().ShowForm(a.UINameDefine.UILoadingFail)},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.GameManager().SpliceFightDefaultForm()},__decorate([c(cc.Node)],t.prototype,"bg",void 0),__decorate([c(cc.Node)],t.prototype,"logo",void 0),__decorate([c(cc.Node)],t.prototype,"bar",void 0),__decorate([c(cc.ProgressBar)],t.prototype,"progressBar",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/UINameDefine":"UINameDefine"}],UIGameSelectAll:[function(e,t){"use strict";cc._RF.push(t,"02f1fziGLhL5oBHFvQSacfW","UIGameSelectAll");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Component/NodePool"),a=e("../../../Common/Define/GameEventDefine"),r=e("../../../Common/Define/ShareDefine"),s=e("./UIGameIconItem"),c=1,p=cc._decorator,l=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.RowCount=4,t.nodetypeList=[],t.curRenderIndex=0,t.btnMore=null,t.content=null,t.curPage=0,t.showPageCount=c,t.pageCount=0,t.pageMax=0,t.CellHeight=0,t.curPrefabItem=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UIGameSelectAll",this.btnMore=this.GetWndNode("content/more"),this.content=this.GetWndNode("content/content"),this.RegEvent(a.GameEventDefine.SearchGameList,this.OnSearchGameList),this.nodePool=this.node.addComponent(i.default)},t.prototype.OnEnable=function(){this.content.getComponent(cc.Layout).enabled=!0},t.prototype.SetRowCount=function(e){var t=Math.floor(e/app.GameTypeManager().GetColumCount);t>0&&(this.RowCount=t)},t.prototype.renderGame=function(e,t,n,o){var i=this;n||(n=r.HallPrefabType.Normal),this.prefabType=n,this.ColumCount=n==r.HallPrefabType.Recent?app.GameTypeManager().GetRecentColumCount:app.GameTypeManager().GetColumCount,this.savePage=o,this.showPageCount=c,"number"==typeof e?(this.showPageCount=app.GameTypeManager().GetTypeSelectCount()||c,this._data=app.GameTypeManager().GetGameTypeList(e,t)):this._data=e,this._OldData=this._data,this.scheduleOnce(function(){app.GameTypeManager().LoadTime+=i.RefreshData()},app.GameTypeManager().LoadTime)},t.prototype.RecycleNode=function(){for(var e=this.content.children,t=e.length-1;t>=0;--t)e[t].destroy()},t.prototype.RefreshData=function(){var e=this;this.unscheduleAllCallbacks(),this.RecycleNode(),this.Log("renderGame count: "+this._data.length);var t=this.RowCount*this.ColumCount;this.btnMore.active=this._data.length>t,this.curPage=0,this.pageCount=t,this.pageMax=Math.ceil(this._data.length/t),this.curRenderIndex=0;var n=0;if(0==this._data.length){var o=app.ComTool().DesktopPlatform()?2*this.CellHeight:this.CellHeight;this.content.height=o-this.content.getComponent(cc.Layout).spacingY}else for(var i=0,a=function(t){n+=r.GetOnePageRenderTime(t),r.scheduleOnce(function(){e.curPage=t,i+=e.renderOnePageGame(t)},i)},r=this,s=0;s<this.showPageCount;s++)a(s);return n},t.prototype.GetOnePageRenderTime=function(e){var t=this._data.length,n=this.pageCount*e,o=n+this.pageCount-1,i=this.pageCount;return o>=t-1&&(i=t-n),i<=0?0:.005*Math.floor(i/this.ColumCount)},t.prototype.renderOnePageGame=function(e){var t=this,n=this._data.length,o=this.pageCount*e,i=o+this.pageCount-1,a=this.pageCount;if(i>=n-1&&(a=n-o,i=n-1,this.btnMore.active=!1),a<=0)return 0;for(var c=-1,p=0,l=function(e){var n=o+e,i=h._data[n],a=(h.ColumCount,Math.floor(n/h.ColumCount));a!=c&&(c=a,p++),h.scheduleOnce(function(){var n=0;if(t.prefabType==r.HallPrefabType.Recent)n=0;else if(i.gid){var o=app.HGameManager().GetGameLogoInfoByGid(i.gid);o&&(n=o.style)}n=0;var a=cc.instantiate(t.nodetypeList[Number(n)]);a.getComponent(s.default).iconType=n,a.active=!0,t.content.addChild(a),i?a.getComponent(s.default).renderData(i):t.ErrLog("renderOnePageGame error: "+e)}.bind(h,a),.005*p)},h=this,d=0;d<a;d++)l(d);return.005*p},t.prototype.OnClick=function(){this.curPage++,this.curPage>=this.pageMax||(this.showPageCount=this.curPage+1,this.savePage&&app.GameTypeManager().SetTypeSelectCount(this.showPageCount),this.renderOnePageGame(this.curPage))},t.prototype.OnUpdate=function(){},t.prototype.OnSearchGameList=function(e){if(e.length>0){var t=[];this._OldData.forEach(function(n){n.name.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(n)}),this._data=t,this.RefreshData()}else this._data=this._OldData,this.RefreshData()},__decorate([h],t.prototype,"RowCount",void 0),__decorate([h([cc.Prefab])],t.prototype,"nodetypeList",void 0),__decorate([l],t)}(o.default);n.default=d,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Component/NodePool":"NodePool","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","./UIGameIconItem":"UIGameIconItem"}],UIGameTypeItem:[function(e,t){"use strict";cc._RF.push(t,"7d2bf9I9eVKPqSzePTxyXa+","UIGameTypeItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/ShareDefine"),r=e("./UIGameSelectAll"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.IconGame=null,t.sHistory=null,t.LabelGame=null,t.gameAll=null,t.GameTypeIdx=0,t.type_Id=0,t.MovingDistance=100,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UIGameTypeItem",this.gameAll=this.GetWndNode("games_all"),this.RegEvent(i.GameEventDefine.HALL_Language,this.renderLabelGame)},t.prototype.OnEnable=function(){},Object.defineProperty(t.prototype,"GetTypeID",{get:function(){return this.type_Id},enumerable:!1,configurable:!0}),t.prototype.renderGameType=function(e){this.GameTypeIdx=e;var t=app.GameConfigManager().GetGameConfig().game_type[e];if(t?(this.type_Id=t.type_id,this.renderLabelGame(),t.icon_on&&app.ImageUtil().LoadImage(this.IconGame.node,t.icon_on),t.num_of_phone&&this.gameAll.getComponent(r.default).SetRowCount(t.num_of_phone),this.gameAll.getComponent(r.default).renderGame(e)):this.ErrLog("renderGameType failed: "+e),this.MovingDistance>0){var n=this.gameAll.getComponent(cc.ScrollView);n._unregisterEvent(),n.node.on(cc.Node.EventType.TOUCH_START,n._onTouchBegan,n,!1),n.node.on(cc.Node.EventType.TOUCH_MOVE,n._onTouchMoved,n,!1),n.node.on(cc.Node.EventType.TOUCH_END,n._onTouchEnded,n,!1),n.node.on(cc.Node.EventType.TOUCH_CANCEL,n._onTouchCancelled,n,!1),n.node.on(cc.Node.EventType.MOUSE_WHEEL,n._onMouseWheel,n,!1),this.ScrollViewEvent()}},t.prototype.renderLabelGame=function(){var e=app.GameConfigManager().GetGameConfig().game_type[this.GameTypeIdx];this.LabelGame.string=e.type_name;var t=app.LocalDataManager().GetConfigProperty("SysSetting","Language2"),n=e.type_name_arr.other;e.type_name_arr[t]&&(n=e.type_name_arr[t]),this.LabelGame.string=n},t.prototype.renderHistory=function(){this.IconGame.spriteFrame=this.sHistory,this.LabelGame.node.active=!1,this.GetWndNode("top/label_i18n").active=!0;var e=app.GameTypeManager().GetHistoryGame();app.GameTypeManager().LoadTime=0,this.gameAll.getComponent(r.default).renderGame(e,null,a.HallPrefabType.Recent),this.ScrollViewEvent()},t.prototype.OnClick=function(e){if("VectorRight"==e){var t=this.gameAll.getComponent(cc.ScrollView);t.getScrollOffset(),t.scrollToOffset(cc.v2(-t.getScrollOffset().x+this.MovingDistance,0),.2)}else if("VectorLeft"==e){var n=this.gameAll.getComponent(cc.ScrollView);n.scrollToOffset(cc.v2(-n.getScrollOffset().x-this.MovingDistance,0),.2)}},t.prototype.ScrollViewEvent=function(){var e=this.gameAll.getComponent(cc.ScrollView);0==e.getMaxScrollOffset().x?(this.GetWndNode("top/VectorRight").active=!1,this.GetWndNode("top/VectorLeft").active=!1):e.getScrollOffset().x>=-.5?(this.GetWndNode("top/VectorRight").active=!0,this.GetWndNode("top/VectorLeft").active=!1):e.getScrollOffset().x<=.5-e.getMaxScrollOffset().x?(this.GetWndNode("top/VectorRight").active=!1,this.GetWndNode("top/VectorLeft").active=!0):(this.GetWndNode("top/VectorRight").active=!0,this.GetWndNode("top/VectorLeft").active=!0)},__decorate([p(cc.Sprite)],t.prototype,"IconGame",void 0),__decorate([p(cc.SpriteFrame)],t.prototype,"sHistory",void 0),__decorate([p(cc.Label)],t.prototype,"LabelGame",void 0),__decorate([p({})],t.prototype,"MovingDistance",void 0),__decorate([c],t)}(o.default);n.default=l,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","./UIGameSelectAll":"UIGameSelectAll"}],UIGoldReward:[function(e,t){"use strict";cc._RF.push(t,"b21daur+nNOTaMo8atQjH29","UIGoldReward");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIGoldReward";var e=this.node.getChildByName("mask");this.rewardLabel=cc.find("richtext",e).getComponent(cc.RichText)},t.prototype.OnShow=function(e){this.node.scale=app.ComTool().H5Platform()?1:.7,this.renderRewardLabel(e)},t.prototype.renderRewardLabel=function(e){0==e.type?this.rewardLabel.string=app.i18n.t("UI_PlayMiniGamesTogether_UIGoldReward1").replace("{st_gold}",app.ScoreUtil().toFixed(e.gold)):1==e.type?this.rewardLabel.string=app.i18n.t("UI_PlayMiniGamesTogether_UIGoldReward2").replace("{st_gold}",app.ScoreUtil().toFixed(e.gold)):2==e.type?this.rewardLabel.string=e.describe:this.rewardLabel.string=app.i18n.t("UI_PlayMiniGamesTogether_UIGoldReward1").replace("{st_gold}",app.ScoreUtil().toFixed(e.gold))},t.prototype.OnClick=function(e){if("btn_bg"==e||"success"==e)return this.CloseForm(),0==app.UserManager().GetUserInfo.roomMode?(app.GoldRewardManager().onEndCbSendType(),app.GoldRewardManager().onEndCbType(),void app.Client.OnEvent(i.GameEventDefine.UPDATE_MONTHCARD)):(app.UserManager().RequestUserInfo({token:app.UserManager().GetUserInfo.token}),app.Client.OnEvent(i.GameEventDefine.UPDATE_USER_INFO),void app.Client.OnEvent(i.GameEventDefine.UPDATE_GAME_GOLD))},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.UserManager().RequstUserWallet()},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIGuide:[function(e,t){"use strict";cc._RF.push(t,"56a67dzzcJNSJUY7LRntrW0","UIGuide");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/ShareDefine"),r=e("../../../Common/Define/TrackEventName"),s=e("./GuideDefine"),c=cc._decorator,p=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._SelNodeParent=null,t.SelIndex=0,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIGuide",app.Client.RegEvent(i.GameEventDefine.GUIDE_WITHDRAW,this.setGuideWithdrawPos,this)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.data=e[0],this.InitData(),this.SetShowNode(this.data.type),this.HideAllNode(),this.PlayGuideList()},t.prototype.InitData=function(){this.SelIndex=0,this._GuideType=null,this._SelNodeParent=null},t.prototype.SetShowNode=function(e){var t=this.node.getChildByName(e);this._SelNodeParent=t||null,this._GuideType=e},t.prototype.PlayGuideList=function(){if(this._SelNodeParent){for(var e=app.GuideManager().RecvGuideList[s.GuideTypeByNum[this._GuideType]],t=0;t<this._SelNodeParent.children.length;t++)this._SelNodeParent.children[t].active=!1;this._SelNodeParent.active=!0;var n=this._SelNodeParent.children[this.SelIndex];if(n){if(e){var o=e.step_info;if(o){var i=this.GetWndComponent("node_con/spr_guide_box/label_tip",cc.Label,n);i&&o[this.SelIndex]&&(i.string=o[this.SelIndex].value)}}n.active=!0}else app.GuideManager().RequestGuide(this._GuideType,1),app.GuideManager().setLocalDataGuideData(this._GuideType),this.CloseForm();this.SelIndex++}},t.prototype.HideAllNode=function(){for(var e=0;e<this.node.children.length;e++)this.node.children[e].active=!1},t.prototype.OnClick=function(e){return"btn_step1"==e?(app.StoreManager().ShowStoreUI(),void this.PlayGuideList()):"btn_step2"==e?(app.StoreManager().ShowStoreUI({ShowType:a.WIN_TYPE.CASHOUT,in_type:r.default.PAGETRACK_EVENT_WITHDRAW_SWITCHTAB}),void this.PlayGuideList()):void("btn_step3"!=e&&"btn_step_next"!=e||this.PlayGuideList())},t.prototype.setGuideWithdrawPos=function(e){app.GuideManager().b_UpdateNodePos=e},t.prototype.update=function(){if(this._GuideType==s.Guide_Type.Guide_withdraw&&!app.GuideManager().b_UpdateNodePos)for(var e=app.ComTool().H5Platform()?100:64,t=2;t<4;t++){var n=this._SelNodeParent.children[t];n&&(n.y=e*n.scale)}},__decorate([p],t)}(o.default));n.default=l,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName","./GuideDefine":"GuideDefine"}],UIHallBottom:[function(e,t){"use strict";cc._RF.push(t,"73dd1fH61hDP4x6Q387GZl9","UIHallBottom");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("../../../Common/Base/BaseForm"),r=(e("../../../Common/Define/GameEventDefine"),e("../../../Common/Define/ShareDefine"),e("../../../Common/Define/TextDefine"),e("../../../Common/Define/UINameDefine"),cc._decorator),s=r.ccclass,c=(r.property,o=cc.Node,__extends(function(){return null!==o&&o.apply(this,arguments)||this},o),i=cc.Node,__extends(function(){return null!==i&&i.apply(this,arguments)||this},i),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameFastJoinList=null,t.gameNode=null,t.BottomTextList=null,t.gameIcon=null,t.txtIcon=null,t.isGameList=!1,t.textNode=null,t.gameFastCloneItem=null,t.textItem=null,t.iconItem=null,t.logoItem=null,t.sprItem=null,t.BottomLabel=null,t.list_icon=null,t.list_logo=null,t.official=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIHallBottom"},t.prototype.OnShow=function(){},t.prototype.OnClick=function(){},t.prototype.OnFastGameJoinList=function(){},t.prototype.OnBottomTextList=function(){},t.prototype.OnBottomIconList=function(){},t.prototype.OnBottomTextIconList=function(){},t.prototype.setBottomLabel=function(){},t.prototype.setNodeShow=function(){},t.prototype.OnOfficialList=function(){},t.prototype.OnHideChildNode=function(){},__decorate([s],t)}(a.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TextDefine":"TextDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIHallNotice:[function(e,t){"use strict";cc._RF.push(t,"250f6a9ciFDup4yjpS8pno3","UIHallNotice");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.conRichtext=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIHallNotice"},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.renderListData()},t.prototype.renderListData=function(){var e=app.HNoticeManager().NoticeListDataResult.shift();this.setContent(e.title,e.content),this.setBtnCallBack(e)},t.prototype.OnClick=function(e){"btn_Close"!=e||this.CloseForm()},t.prototype.setBtnCallBack=function(e){var t=Boolean(e.in_url||e.out_url),n=cc.find("/bg/scrollview/view/content/btn_label",this.node);if(n.active=t,t){var o=new cc.Component.EventHandler;o.target=this.node,o.component="UIHallNotice",o.handler="BtnLabelCallBack",o.customEventData=JSON.stringify(e),e.in_url&&(n.getComponent(cc.Button).clickEvents=[],n.getComponent(cc.Button).clickEvents.push(o)),e.out_url&&(n.getComponent(cc.Label).string=e.out_url,n.getComponent(cc.Button).clickEvents=[],n.getComponent(cc.Button).clickEvents.push(o)),e.url_text&&(n.getComponent(cc.Label).string=e.url_text)}},t.prototype.BtnLabelCallBack=function(e,t){var n=(t=JSON.parse(t)).out_url;this.CloseForm(),n?cc.sys.openURL(n):t.in_url>0&&app.InteractionMgr().SendWndEvent(t.in_url)},t.prototype.setContent=function(e,t){this.conRichtext.string=t},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.HNoticeManager().ShowFreeGameTip(),app.FormManager().ShowNextQueueForm("hall")},__decorate([r(cc.RichText)],t.prototype,"conRichtext",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm"}],UIHallTop_V:[function(e,t){"use strict";cc._RF.push(t,"05cab7jrRVKoLmjezfNie2S","UIHallTop_V");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Define/GameEventDefine"),i=e("../../../Common/Define/UINameDefine"),a=(e("../../../Common/Net/MsgEventDefine"),e("../../../Common/Define/ShareDefine")),r=e("./UIHallTop"),s=(e("../../../Common/Define/TrackEventName"),cc._decorator),c=s.ccclass,p=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player_Node=null,t.lbCash=null,t.login_Node=null,t.gold_icon=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){e.prototype.OnCreateInit.call(this),this.RegEvent(o.GameEventDefine.SELECT_TOPTOOGLE,this.onSelectToggleContainer),this.tab_cd01=cc.find("tab/cd01",this.node),this.tab_cd02=cc.find("tab/cd02",this.node),this.tab_cd03=cc.find("tab/cd03",this.node)},t.prototype.OnShow=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.OnShow.apply(this,t),this.onSelectToggleContainer(1)},t.prototype.OnClick=function(e){"toggle_Mission"==e?(app.ExternGameManager().RequestWatchAdsInSubGames(),app.HallManager().ShowHallForm(i.UINameDefine.UIActivityMission),this.onSelectToggleContainer(0)):"toggle_Game"==e?(app.HallManager().ShowHallForm(),this.onSelectToggleContainer(1)):"toggle_Mine"==e&&app.HallManager().ShowHallForm(i.UINameDefine.UIAccount)},t.prototype.onSelectToggleContainer=function(e){0==e?(this.tab_cd01.active=!0,this.tab_cd02.active=!1,this.tab_cd03.active=!1):1==e?(this.tab_cd01.active=!1,this.tab_cd02.active=!0,this.tab_cd03.active=!1):2==e&&(this.tab_cd01.active=!1,this.tab_cd02.active=!1,this.tab_cd03.active=!0);var t=cc.find("tab/toggleContainer",this.node);if(t){for(var n=0;n<t.children.length;n++)t.children[n].getChildByName("Background").active=!0;var o=t.children[e];o&&(o.getComponent(cc.Toggle).check(),o.getChildByName("Background").active=!1)}},t.prototype.GetPlayerValid=function(){},t.prototype.LoadHallSuccess=function(){this.login_Node.active&&app.LoginManager().GetIsFormLogin&&(app.LoginManager().VisitorLogin(),app.LoginManager().SetIsFormLogin(!1)),this.GetPlayerValid(),this.onSelectToggleContainer(a.Hall_SelectTopToggle.Home)},__decorate([c],t)}(r.default));n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName","../../../Common/Define/UINameDefine":"UINameDefine","../../../Common/Net/MsgEventDefine":"MsgEventDefine","./UIHallTop":"UIHallTop"}],UIHallTop:[function(e,t){"use strict";cc._RF.push(t,"ece80WCqopDjJKCEt9ibTVd","UIHallTop");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=(e("../../../Common/Component/Marquee"),e("../../../Common/Define/GameEventDefine"),cc._decorator),a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbGold=null,t.btnMenu=null,t.nodeMarquee=null,t.btnRefresh=null,t.nodeVip=null,t.placeholder=null,t.vipSpr=[],t}return __extends(t,e),t.prototype.OnCreateInit=function(){},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Component/Marquee":"Marquee","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIHall_V:[function(e,t){"use strict";cc._RF.push(t,"da180SwPRtCGqeTv8NDQocQ","UIHall_V");var n={};Object.defineProperty(n,"__esModule",{value:!0}),e("../../../Common/Component/UIScrollViewItem");var o=e("../../../Common/Define/GameEventDefine"),i=e("../../../Common/Define/MsgIDDefine"),a=e("../../../Common/Define/ShareDefine"),r=(e("../../../Common/Define/UINameDefine"),e("./UIHall")),s=cc._decorator,c=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){e.prototype.OnCreateInit.call(this),app.GameTypeManager().SetRecentColumCount(5),app.GameTypeManager().SetMaxHistoryGame(5),this.toggleGroup=this.GetWndNode("node_home/type/view/content/type"),this.nodeSearch=this.GetWndNode("node_home/Search"),this.typeNode=this.GetWndNode("node_home/type"),this.RegEvent(o.GameEventDefine.LOAD_HALL_SUCCESS,this.LoadHallSuccess),this.nickname=this.GetWndNode("node_home/Head/nickname").getComponent(cc.RichText),this.nickname.string="Hello\uff0c<b>"+app.UserManager().GetUserInfo.nickname+"</b>\uff01"},t.prototype.OnShow=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.OnShow.apply(this,t)},t.prototype.OnClose=function(){e.prototype.OnClose.call(this)},t.prototype.LoadHallSuccess=function(){if(2==app.GameConfigManager().GetGameConfig().is_up&&app.ComTool().AndroidHybirdPlatform()){var e=app.GameConfigManager().GetGameConfig().is_force?a.ConfirmType.ConfirmModal:a.ConfirmType.ConfirmYN;app.ConfirmManager().ShowConfirm(e,i.MsgIDDefine.System_42,null,this.OnConFirm,null,this)}},t.prototype.OnConFirm=function(){cc.sys.openURL(app.GameConfigManager().GetGameConfig().android_download_url)},t.prototype.RenderGameTypeTitleAuto=function(){var e=app.GameConfigManager().GetGameConfig().game_type,t=this.toggleGroup.children,n=e.length+r.default.Start_Index>5;this.toggleGroup.getComponent(cc.Layout).resizeMode=n?cc.Layout.ResizeMode.CONTAINER:cc.Layout.ResizeMode.CHILDREN,n?t.forEach(function(e){e.width=116}):this.toggleGroup.width=690,this.toggleGroup.getComponent(cc.Layout).updateLayout()},__decorate([c],t)}(r.default));n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Component/UIScrollViewItem":"UIScrollViewItem","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/MsgIDDefine":"MsgIDDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/UINameDefine":"UINameDefine","./UIHall":"UIHall"}],UIHall:[function(e,t){"use strict";cc._RF.push(t,"2ab9caq0xxCt42K6WX+uWLo","UIHall");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=(e("../../../Common/Define/ShareDefine"),e("../../../Common/Define/TrackEventName")),r=e("./UIGameSelectAll"),s=e("./UIGameTypeItem"),c=e("../../../Common/Define/UINameDefine"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabGameListItem=[],t.toggleGroup=null,t.gameTypeList=null,t.isRenderGameTypeList=!1,t.gameAll=null,t.nodeSearch=null,t.initSuccess=!1,t.typeNode=null,t.typeIconArr=[],t.typeElementArr=[],t}var n;return __extends(t,e),n=t,t.prototype.Onload=function(){this.hideAllToggleGroup()},t.prototype.OnCreateInit=function(){this.gameTypeList=this.GetWndNode("node_home/game_type_list"),this.gameAll=this.GetWndNode("node_home/games_all"),this.RegEvent(i.GameEventDefine.SELECT_GAME_TYPE,this.OnSelectGameType),this.RegEvent(i.GameEventDefine.RefreshGameSelectAll,this.OnRefreshGameSelectAll),this.RegEvent(i.GameEventDefine.SEND_END,this.OnGameList),this.RegEvent(i.GameEventDefine.GET_USER_INFO,this.OnGetUserInfo),this.RegEvent(i.GameEventDefine.BETBONUS_RECEIVE,this.OnSelectPushPanel),this.RegEvent(i.GameEventDefine.LOAD_HALL_SUCCESS,this.OnLoadHallSuccess),this.RegEvent(i.GameEventDefine.INTERACTION_JUMP,this.OnInteraction),this.RegEvent(i.GameEventDefine.HALL_Language,this.OnSetLanguage)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.renderLobbyRootNode(),app.RedDotManager().OnLoadHallSuccess(),this.pushModelPanel(),this.isRenderGameTypeList?this.refreshGameType():(this.RenderAll(),app.NativeMgr().InitHallEnd(),app.EventTrackManager().LogEvent(a.default.ENTER_HALL_SCENE))},t.prototype.pushModelPanel=function(){app.VIPManager().CheckVipReduced(),app.VIPManager().checkVipUpgrade(),this.OnSelectPushPanel()},t.prototype.OnSelectPushPanel=function(){app.BetBonusManager().GetBackHallBetBonus()||app.VIPManager().GetBackHallVip()},t.prototype.OnCountryGameLogo=function(){this.RenderAll()},t.prototype.OnGameList=function(){this.RenderAll()},t.prototype.RenderAll=function(){if(app.GameConfigManager().GetGameConfig().game_type&&app.HGameManager().GetCountryGameLogoInfo){if(this.isRenderGameTypeList)return this.refreshToggleGroup(),void this.refreshGameType();this.isRenderGameTypeList=!0,this.refreshToggleGroup(),this.renderAllGameType()}},t.prototype.OnGetUserInfo=function(){this.renderLobby()},t.prototype.OnLoadHallSuccess=function(){app.VIPManager().CheckVipReduced()},t.prototype.OnClick=function(e,t){if("btn_share"==e){var n="https://t.me/playtogetherhub_bot/playtogether?start="+app.UserManager().UserInfo.uid,o=encodeURIComponent(n);cc.sys.openURL("https://t.me/share/url?url="+o)}else"tx_icon"==e&&app.HallManager().ShowHallForm(c.UINameDefine.UIAccount);if(this.Log("btnName: "+e),e.startsWith("toggle")){var i=Number(e.substring(e.length-1,e.length))-1;return 0==i?(this.renderLobby(),void this.RenderScorllViewValue(i)):1==i?(this.RenderGameList(i),void this.RenderScorllViewValue(i)):i-2>=app.GameConfigManager().GetGameConfig().game_type.length?void this.ErrLog("OnClick Error, btnName: "+e):void this.RenderSelectGameType(i,t.TypeIndex)}},t.prototype.RenderGameTypeTitle=function(){for(var e=this,t=this.toggleGroup.children,n=0;n<2;n++){var o=t[n];o.active=!0;var i=o.children[2];i&&(i.active=!1,app.PlaceholderManager().FirstLogin&&(i.active=!0,app.PlaceholderManager().AddBeginShowIcon(i)))}var a=[],r=2,s=app.GameConfigManager().GetGameConfig().game_lobby_type;s&&(a=this.AddGameType(s,a),r=0);var c=app.GameConfigManager().GetGameConfig().game_type;a=this.AddGameType(c,a);var p=0,l=0,h=[];this.typeIconArr=[],this.typeElementArr=[],a.forEach(function(n){p=l+r,l++;var o=t[p];if(o){if(!s||p>1){var i=app.LocalDataManager().GetConfigProperty("SysSetting","Language2"),a=n.type_name_arr.other;n.type_name_arr[i]&&(a=n.type_name_arr[i]),e.GetWndComponent("Background/label",cc.Label,o).string=a,e.GetWndComponent("checkmark/label",cc.Label,o).string=a,e.typeIconArr.push(o),e.typeElementArr.push(n)}var c=e.GetWndNode("Background/label",o),d=e.GetWndNode("checkmark/label",o);if(app.PlaceholderManager().FirstLogin&&(c.active=!1,d.active=!1,app.PlaceholderManager().AddBeginHideIcon(c),app.PlaceholderManager().AddBeginHideIcon(d)),n.icon_on){var u=e.GetWndNode("checkmark/icon",o),_=e.GetWndNode("Background/icon",o);h.push({nodes:[u,_],url:n.icon_on})}o.TypeIndex=null==n.type_id?null:app.GameConfigManager().GetGameTypeIndex(n.type_id),o.active=!0}}),app.PlaceholderManager().LoadMaxCount+=h.length,h.forEach(function(e){app.HallManager().LoadImageIncrease(e.nodes,e.url,!0)}),this.RenderGameTypeTitleAuto()},t.prototype.AddGameType=function(e,t){return e&&e.forEach(function(e){2!=e.client_status&&t.push(e)}),t},t.prototype.RenderGameTypeTitleAuto=function(){},t.prototype.refreshToggleGroup=function(){this.hideAllToggleGroup(),this.RenderGameTypeTitle()},t.prototype.hideAllToggleGroup=function(){for(var e=this.toggleGroup.children,t=0;t<e.length;t++){var n=e[t];t>=2&&(this.GetWndComponent("Background/label",cc.Label,n).string="",this.GetWndComponent("checkmark/label",cc.Label,n).string="",this.GetWndComponent("checkmark/icon",cc.Sprite,n).spriteFrame=null,this.GetWndComponent("Background/icon",cc.Sprite,n).spriteFrame=null),n.active=!1}},t.prototype.renderLobby=function(){this.renderLobbyRootNode(),this.refreshGameType()},t.prototype.renderLobbyRootNode=function(){app.GameTypeManager().SetSelectToggleIdx(0),this.RenderToggle(0),this.gameTypeList.active=!0,this.ResetGameListNode(),this.nodeSearch&&(this.nodeSearch.active=!1)},t.prototype.renderAllGameType=function(){var e=this,t=this,o=app.GameConfigManager().GetGameConfig().game_type;this.CreateGameTypeList(0,3).active=!1;for(var i=function(){var i=o[a-1].viewType;e.scheduleOnce(function(){t.CreateGameTypeList(a,i)},a*n.RenderDelay)},a=1;a<=o.length;a++)i();this.scheduleOnce(function(){t.initSuccess=!0,t.refreshGameType()},a*n.RenderDelay)},t.prototype.CreateGameTypeList=function(e,t){null==t&&(t=1);var n=cc.instantiate(this.prefabGameListItem[t]);return n.name=e.toString(),this.gameTypeList.addChild(n),n},t.prototype.refreshGameType=function(){if(this.initSuccess){var e=app.GameTypeManager().GetHistoryGame(),t=this.gameTypeList.children[0];0==e.length?t.active=!1:(t.active=!0,t.getComponent(s.default).renderHistory());var n=app.GameConfigManager().GetGameConfig().game_type;if(n){for(var o=0,i=this.gameTypeList.children;o<n.length;o++){var a=i[o+1];if(a){a.active=!0;var r=null!=this.GetToggleByIndex(o);a.getComponent(s.default).renderGameType(o,r)}else this.ErrLog("refreshGameType error: "+o)}for(;o<i.length;o++){var c=i[o+1];c&&(c.active=!1)}}}},t.prototype.OnSelectGameType=function(e){this.Log("gameType: "+e);var t=app.GameConfigManager().GetGameConfig().game_type;if(t[e]){for(var n=0,o=0;o<t.length;o++){var a=t[o];if(o==e)break;2!=a.client_status&&n++}var r=n+2;this.GetToggleByIndex(r),app.Client.OnEvent(i.GameEventDefine.TOP_MAINSCROLLVIEW),this.RenderSelectGameType(r,e)}else this.ErrLog("OnSelectGameType error: "+e)},t.prototype.RenderScorllViewValue=function(e){for(var t=0,n=0;n<this.toggleGroup.children.length;n++)this.toggleGroup.children[n].active&&t++;t>1&&t--,e=e>t?0:e;var o=this.toggleGroup.children[e],i=app.ComTool().NodeAConvertToNodeBSpaceAR(o,this.toggleGroup.parent.parent.parent),a=this.toggleGroup.parent.parent.width;(i.x<o.width/2||i.x>a-o.width/2)&&this.typeNode.getComponent(cc.ScrollView).scrollToPercentHorizontal(e/t)},t.prototype.RenderSelectGameType=function(e,t){app.GameTypeManager().GetSelectToggleIdx!=e&&(2!=app.GameConfigManager().GetGameConfig().game_type[t].client_status?(this.RenderToggle(e),this.RenderScorllViewValue(e)):this.RenderScorllViewValue(0),this.RenderGameList(e,null,t))},t.prototype.RenderGameList=function(e,t,n){if(app.GameTypeManager().SetSelectToggleIdx(e),this.gameTypeList.active=!1,this.nodeSearch&&(this.nodeSearch.active=!0),0==e)this.SetGameListNodeVisible(!0),this.gameAll.getComponent(r.default).renderGame(-1,t);else if(1==e){this.SetGameListNodeVisible(!0);var o=app.GameTypeManager().GetFavoriteGameBuffer();app.GameTypeManager().LoadTime=0,this.gameAll.getComponent(r.default).renderGame(o)}else{if(null==n)return void this.ErrLog("RenderGameList idx error: "+n);if(!app.GameConfigManager().GetGameConfig().game_type[n])return void this.ErrLog("RenderGameList error: "+n);this.SetGameListNodeVisible(!0),app.GameTypeManager().LoadTime=0,this.gameAll.getComponent(r.default).renderGame(n,null,null,!0)}},t.prototype.SetGameListNodeVisible=function(e){this.gameAll.active=e},t.prototype.ResetGameListNode=function(){this.gameAll.active=!1},t.prototype.GetToggleByIndex=function(e){return this.toggleGroup.children[e]},t.prototype.RenderToggle=function(e){var t=this.toggleGroup.children[e];t?t.getComponent(cc.Toggle).isChecked=!0:this.ErrLog("RenderToggle Error: "+e)},t.prototype.OnRefreshGameSelectAll=function(){if(1==app.GameTypeManager().GetSelectToggleIdx){app.GameTypeManager().LoadTime=0;var e=app.GameTypeManager().GetFavoriteGameBuffer();this.gameAll.getComponent(r.default).renderGame(e)}},t.prototype.onEditBoxText=function(e){var t=e.string;0==app.GameTypeManager().GetSelectToggleIdx?0==t.length?(this.gameTypeList.active=!0,this.ResetGameListNode(),this.refreshGameType()):this.RenderGameList(0,t):app.Client.OnEvent(i.GameEventDefine.SearchGameList,t)},t.prototype.OnInteraction=function(e){for(var t=this.gameTypeList.children,n=0;n<t.length;n++){var o=t[n];if(o.getComponent(s.default).GetTypeID==e){var a=this.gameTypeList.convertToWorldSpaceAR(o.getPosition());app.Client.OnEvent(i.GameEventDefine.MAIN_JUMP_INTERACTION,a);break}}},t.prototype.OnSetLanguage=function(){for(var e=0;e<this.typeIconArr.length;e++){var t=this.typeIconArr[e],n=this.typeElementArr[e],o=app.LocalDataManager().GetConfigProperty("SysSetting","Language2"),i=n.type_name_arr.other;n.type_name_arr[o]&&(i=n.type_name_arr[o]),this.GetWndComponent("Background/label",cc.Label,t).string=i,this.GetWndComponent("checkmark/label",cc.Label,t).string=i}},t.Start_Index=2,t.RenderDelay=.01,__decorate([h([cc.Prefab])],t.prototype,"prefabGameListItem",void 0),n=__decorate([l],t)}(o.default);n.default=d,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName","../../../Common/Define/UINameDefine":"UINameDefine","./UIGameSelectAll":"UIGameSelectAll","./UIGameTypeItem":"UIGameTypeItem"}],UIInsideWebView:[function(e,t){"use strict";cc._RF.push(t,"be8af2sXk1HrZqK+1rLsG8r","UIInsideWebView");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layerWin=[],t.webview=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIInsideWebView",this.webview=cc.find("layer/webview",this.node).getComponent(cc.WebView)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.data=e[0],this.webview.url=this.data.url,cc.sys.isNative||this.schedule(this.ChangeWebViewDiv,.1)},t.prototype.OnClick=function(){},t.prototype.ChangeWebViewDiv=function(){try{this.webview._impl._div&&(this.webview._impl._div.style.width="100%",this.webview._impl._div.style.height="95%",this.webview._impl._div.style.transform="",this.webview._impl._div.style["-webkit-transform"]="")}catch(e){cc.error("ChangeWebViewDiv  Error")}},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},__decorate([r(cc.Node)],t.prototype,"layerWin",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm"}],UIIntoGame:[function(e,t){"use strict";cc._RF.push(t,"f34581jQ79OFIEGiiZtb+GX","UIIntoGame");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=(e("../../../Common/DB/PageTrackManager"),e("../../../Common/Define/GameEventDefine"),e("../../../Common/Define/ShareDefine"),e("../../../Common/Define/TrackEventName"),cc._decorator),a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameIcon=null,t.gameName=null,t.onlineUsers=null,t.material=null,t.bightness=.5,t.blurAmount=.5,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.gameIcon=this.GetWndComponent("content/topNode/gameIcon",cc.Sprite),this.gameName=this.GetWndComponent("content/topNode/gameName",cc.Label),this.onlineUsers=this.GetWndComponent("content/topNode/onlineUsers",cc.RichText),this.topNode=this.GetWndComponent("content/topNode",cc.Sprite),this.material.setProperty("bightness",this.bightness),this.material.setProperty("blurAmount",this.blurAmount),this.topNode.setMaterial(0,this.material)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._data=e[0];var n=this._data,o=n.url;o=o.replace("/big/","/small/").replace("/middle/","/small/"),this.gameIcon.spriteFrame=null,this.topNode.spriteFrame=null,app.ImageUtil().LoadImage(this.gameIcon.node,o),app.ImageUtil().LoadImage(this.topNode.node,o),this.gameName.string=n.name,this.onlineUsers.string="<color=#FF0000>"+n.game_onlineUsers+"+</c><color=#Ffffff>people\xa0have\xa0played</color>"},t.prototype.OnClick=function(e){"EnterGame"==e&&app.HallManager().OnEnterGame(this._data.gid,this._data.sub_gid)},__decorate([r({type:cc.Material,displayName:"\u6a21\u7cca\u6750\u8d28",tooltip:"\u7528\u4e8e\u5e94\u7528\u6a21\u7cca\u6240\u7528\u7684\u6750\u8d28\uff0c\u5982\u65e0\u7279\u6b8a\u9700\u6c42\u8bf7\u4fdd\u6301\u9ed8\u8ba4"})],t.prototype,"material",void 0),__decorate([r({type:cc.Float,displayName:"\u4eae\u5ea6",tooltip:"\u964d\u4f4e\u80cc\u666f\u7684\u4eae\u5ea6",min:0,max:1})],t.prototype,"bightness",void 0),__decorate([r({type:cc.Float,displayName:"\u6a21\u7cca\u5ea6",tooltip:"\u80cc\u666f\u7684\u6a21\u7cca\u7a0b\u5ea6",min:0,max:1})],t.prototype,"blurAmount",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/DB/PageTrackManager":"PageTrackManager","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName"}],UIJudge:[function(e,t){"use strict";cc._RF.push(t,"eb3c6AB1xBC9a2/Sr8PDEkD","UIJudge");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.safariTips=cc.find("line0",this.node)},t.prototype.start=function(){this.safariTips.active=!app.ComTool().isSafari()},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm"}],UIKeyBoard_V:[function(e,t){"use strict";cc._RF.push(t,"70986CXnVBDHJsaGtQaNDwI","UIKeyBoard_V");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/ShareDefine"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numLabel=null,t.lab_str=null,t.limit=0,t.oldStr=null,t.moveNode=null,t.keyIsUpAnim=!1,t.movingNum=0,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIKeyBoard_V",this.nodeHeight=this.GetWndNode("bg").height},t.prototype.OnShow=function(e){this.keyIsUpAnim=!1,this.moveNode=e.moveNode,this.movingNum=0,this.numLabel=e.label,this.lab_str=Number(e.label.string)>0?e.label.string:"",this.numLabel.string=this.lab_str,this.enterType=e.type,this.limit=this.enterType==a.EnterType.odds?1:e.limit,this.oldStr=this.lab_str,this.OnKeyBoardPos(!0)},t.prototype.OnKeyBoardPos=function(e){var t=this.node.convertToNodeSpaceAR(this.numLabel.node.convertToWorldSpaceAR(cc.v2(0,0))),n=this.node.convertToNodeSpaceAR(this.GetWndNode("bg/Node").convertToWorldSpaceAR(cc.v2(0,0))).y+this.numLabel.node.parent.height;if(e&&(this.movingNum=t.y>=n&&e?50:Math.abs(t.y-n)+this.numLabel.lineHeight),this.keyIsUpAnim||e)if(this.keyIsUpAnim=e,this.moveNode){var o=e?this.moveNode.y+this.movingNum:this.moveNode.y-this.movingNum;cc.tween(this.moveNode).to(.1,{y:o}).start()}else app.Client.OnEvent(i.GameEventDefine.KEYBOARD_POS,{height:this.movingNum,isShow:e})},t.prototype.OnClickGetLabelStr=function(){this.oldStr.length>0&&this.oldStr==this.lab_str&&(this.lab_str="",this.oldStr="",this.numLabel.string="")},t.prototype.OnClick=function(e,t,n){if("btn_1"==e||"btn_2"==e||"btn_3"==e||"btn_0"==e||"btn_4"==e||"btn_5"==e||"btn_6"==e||"btn_7"==e||"btn_8"==e||"btn_9"==e){if(!this.checkSuccess(n))return;return this.OnClickGetLabelStr(),this.OnSetLabelNum(n),void app.Client.OnEvent(i.GameEventDefine.KEYBOARD_CHANGE)}if("btn_del"==e)return this.oldStr="",this.OnSetLabelDel(),void app.Client.OnEvent(i.GameEventDefine.KEYBOARD_CHANGE);"btn_point"!=e||this.OnSetLabelPoint()},t.prototype.OnSetLabelNum=function(e){this.checkLabelToFixed()||(this.lab_str+=e,this.enterType==a.EnterType.betGold&&Number(this.lab_str)>app.UserManager().UserInfo.gold&&(this.lab_str=app.UserManager().UserInfo.gold.toString()),this.numLabel.string=this.lab_str)},t.prototype.OnSetLabelDel=function(){0!=this.lab_str.length&&(this.lab_str=this.lab_str.replace(/.$/,""),this.numLabel.string=this.lab_str)},t.prototype.OnSetLabelPoint=function(){if(this.enterType!=a.EnterType.round)return 0==this.lab_str.length?(this.lab_str=this.limit>=1?"1.":"0.",void(this.numLabel.string=this.lab_str)):void(this.lab_str.indexOf(".")>=0||(this.lab_str+=".",this.numLabel.string=this.lab_str))},t.prototype.checkLabelToFixed=function(){return this.lab_str.indexOf(".")>=0&&2==this.lab_str.split(".")[1].length},t.prototype.checkSuccess=function(e){return this.checkRoundsLabel(e)&&this.checkCodeLabel()},t.prototype.checkRoundsLabel=function(e){return!(this.enterType==a.EnterType.round&&(0===Number(this.numLabel.string)&&this.numLabel.string.length>=1||0===Number(e)&&this.numLabel.string.length<1?(this.lab_str="",this.numLabel.string="",1):this.numLabel.string.length>6))},t.prototype.checkCodeLabel=function(){return this.enterType!=a.EnterType.fourCode||!(this.numLabel.string.length>=this.enterType)},t.prototype.OnClick_Close=function(t){e.prototype.OnClick_Close.call(this,t),this.OnKeyBoardPos(!1)},t.prototype.OnClose=function(){app.Client.OnEvent(i.GameEventDefine.KEYBOARD_EVENTE,{type:this.enterType})},__decorate([s],t)}(o.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine"}],UILanguage:[function(e,t){"use strict";cc._RF.push(t,"568d1sgz2lHooyxqup8lWGl","UILanguage");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=e("../../Common/Define/LanguageDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadInit=function(){for(var e in this.LanguageNodeList={},this.LanguageNodeList[i.default.enus]=cc.find("toggle_en",this.node),this.LanguageNodeList[i.default.hiin]=cc.find("toggle_en_IN",this.node),this.LanguageNodeList[i.default.thth]=cc.find("toggle_th_TH",this.node),this.LanguageNodeList[i.default.zhcn]=cc.find("toggle_zh_CN",this.node),this.LanguageNodeList[i.default.zhhk]=cc.find("toggle_zh_HK",this.node),this.LanguageNodeList[i.default.vivn]=cc.find("toggle_vi_VN",this.node),this.LanguageNodeList[i.default.idid]=cc.find("toggle_id_ID",this.node),this.LanguageNodeList[i.default.intelugu]=cc.find("toggle_IN_Telugu",this.node),this.LanguageNodeList[i.default.inmarathi]=cc.find("toggle_IN_Marathi",this.node),this.LanguageNodeList[i.default.intelugu]=cc.find("toggle_IN_Telugu",this.node),this.LanguageNodeList[i.default.inmarathi]=cc.find("toggle_IN_Marathi",this.node),this.LanguageNodeList[i.default.ptpt]=cc.find("toggle_Portuguese",this.node),this.LanguageNodeList[i.default.eses]=cc.find("toggle_Spanish",this.node),this.LanguageNodeList)if(Object.hasOwnProperty.call(this.LanguageNodeList,e)){var t=this.LanguageNodeList[e];t&&(t.active=!1)}},t.prototype.OnEnable=function(){this.InitLanguageConfig(),this.InitLanSelect()},t.prototype.InitLanguageConfig=function(){var e=app.LanguageManager().GetLanguageList();if(e)for(var t=0;t<e.length;t++){var n=e[t],o=this.LanguageNodeList[n.lang];if(o){o.active=!0,o.zIndex=Number(n.sort),cc.find("Background/label",o).getComponent(cc.Label).string=n.name,cc.find("checkmark/label",o).getComponent(cc.Label).string=n.name;var i=cc.find("checkmark/icon",o);app.ImageUtil().LoadImage(i,n.icon)}}this.node.getComponent(cc.Layout).updateLayout()},t.prototype.InitLanSelect=function(){var e=app.LanguageManager().GetLocalLanguage(!0);null!=e&&this.OnVisible(e)},t.prototype.OnVisible=function(e){for(var t in this.LanguageNodeList)if(Object.hasOwnProperty.call(this.LanguageNodeList,t)){var n=this.LanguageNodeList[t];n&&(cc.find("checkmark",n).active=e==t)}},t.prototype.OnClick=function(e){var t=this.getLanguage(e);if(""!=t)return this.OnVisible(t),app.LanguageManager().SetLanguage(t),void app.TextManager().RequestTextInfoMore()},t.prototype.getLanguage=function(e){var t="";switch(e){case"toggle_en":t=i.default.enus;break;case"toggle_en_IN":t=i.default.hiin;break;case"toggle_th_TH":t=i.default.thth;break;case"toggle_zh_CN":t=i.default.zhcn;break;case"toggle_zh_HK":t=i.default.zhhk;break;case"toggle_vi_VN":t=i.default.vivn;break;case"toggle_id_ID":t=i.default.idid;break;case"toggle_IN_Telugu":t=i.default.intelugu;break;case"toggle_IN_Marathi":t=i.default.inmarathi;break;case"toggle_Portuguese":t=i.default.ptpt;break;case"toggle_Spanish":t=i.default.eses}return t},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Define/LanguageDefine":"LanguageDefine"}],UILaunchNotice:[function(e,t){"use strict";cc._RF.push(t,"f6758Vgsy9CvoFNaCfAF4ey","UILaunchNotice");var n=e("../../Common/Base/BaseForm"),o=cc._decorator.ccclass,i=cc._decorator.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelContent=null,t.LabelTitle=null,t}return __extends(t,e),t.prototype.OnShow=function(e){this.LabelContent.string=e.content,this.LabelTitle.string=e.title},__decorate([i(cc.RichText)],t.prototype,"LabelContent",void 0),__decorate([i(cc.Label)],t.prototype,"LabelTitle",void 0),__decorate([o],t)}(n.default);t.exports=a,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm"}],UILimit:[function(e,t){"use strict";cc._RF.push(t,"60634IJRdlJfbTgSsC0Yx3/","UILimit");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ban=null,t.region=null,t.node_ip=null,t.support_url="",t}return __extends(t,e),t.prototype.OnShow=function(e){this.ban.active=!0,this.region.active=!0,this.support_url=e.kf_url?e.kf_url:app.ClientConfigManager().GetGlobalConfig.KEFU_URL,this.node_ip&&(e.ip?(this.node_ip.active=!0,this.GetWndComponent("con1/label_num",cc.Label,this.node_ip).string=e.ip,this.GetWndComponent("con2/label_num",cc.Label,this.node_ip).string=e.ip_area):this.node_ip.active=!1),this.GetWndComponent("title",cc.Label,this.ban).string=app.i18n.t("UI_LimitTitle"),app.LanguageManager().SetSelectRegion(0),app.LoginManager().RemoveCurrentUser(),app.KeyManager().RegRouterEvent({JS_Name:app.ClientConfigManager().getLocalUrlDataByName("f")},[])},t.prototype.OnClick=function(e){if("btn_Support"==e)return this.Log(this.support_url),void cc.sys.openURL(this.support_url)},__decorate([r(cc.Node)],t.prototype,"ban",void 0),__decorate([r(cc.Node)],t.prototype,"region",void 0),__decorate([r(cc.Node)],t.prototype,"node_ip",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm"}],UILoadingFail:[function(e,t){"use strict";cc._RF.push(t,"96259XLVqlG+5fvNlAaQkA6","UILoadingFail");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/UINameDefine"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Label_time=null,t.time=5,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UILoadingFail"},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.time=5,this.Label_time.string=this.time+" S",this.schedule(this.updateTimeLabel,1)},t.prototype.updateTimeLabel=function(){this.time--,this.Label_time.string=this.time+" S",this.time<=0&&this.backHall()},t.prototype.OnClick=function(e){"btn_lobby"!=e||this.backHall()},t.prototype.backHall=function(){this.unscheduleAllCallbacks(),app.FormManager().CloseForm(i.UINameDefine.UIGameLoading),app.HallManager().ShowHallForm()},__decorate([s(cc.Label)],t.prototype,"Label_time",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/UINameDefine":"UINameDefine"}],UILoginScene:[function(e,t){"use strict";cc._RF.push(t,"fb424AIbG1HvL9iXt9Tq+8x","UILoginScene");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UILoginScene",this.RegEvent(i.GameEventDefine.UILoginClose,this.OnLoginClose)},t.prototype.OnLoginClose=function(){app.LoginManager().StartLogin()},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine"}],UILoginSign:[function(e,t){"use strict";cc._RF.push(t,"04033XObdZIJqoynOfLiyF0","UILoginSign");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LoginType=void 0;var o,i,a=e("../../Common/Base/BaseForm"),r=e("../../Common/Component/EditBox"),s=e("../../Common/Define/GameEventDefine"),c=e("../../Common/Define/ShareDefine"),p=e("../../Common/Define/TrackEventName"),l=e("../common_component/RichTextCallBack");(i=o=n.LoginType||(n.LoginType={})).Email="email",i.Mobile="mobile";var h=cc._decorator,d=h.ccclass,u=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UILogin=null,t.UISign=null,t.terms_login=null,t.btn_login=null,t.btn_sign=null,t.Toggle_login=null,t.Toggle_sign=null,t.mailNode=null,t.phoneNode=null,t.toggleContainer=null,t.lbl_bottom=null,t.login_ani=null,t.InterfaceType=0,t.OnlineNumNode=null,t.lbl_tlt=null,t.btn_closeNode=null,t.btn_closeButton=null,t.OnlineNum=0,t}return __extends(t,e),t.prototype.OnCreateInit=function(){if(this.JS_Name="UILoginSign",this.RegEvent(s.GameEventDefine.GET_AREA_CODES,this.OnGetAreaCode),this.lbl_tlt=app.ComTool().H5Platform()?this.GetWndNode("layer/top/lb_text"):this.GetWndNode("layer/right/top/lb_text"),this.InitLoginMethod(),this.UILogin.getComponent("UILogin").setLoginAnimPra(this.login_ani),this.UISign.getComponent("UISignUp").setLoginAnimPra(this.login_ani),this.RegEvent(s.GameEventDefine.GET_ONLINE_NUM,this.OnGetOnline_Num),this.OnlineNumNode=this.GetWndNode("/online"),this.OnlineNumNode){var e=app.UserManager().GetUserInfoConfig;e&&1==e.show_arr[c.VisibleBtnTag.LoginOnline]?this.OnlineNumNode.active=!0:this.OnlineNumNode.active=!1}},t.prototype.InitLoginMethod=function(){var e=app.GameConfigManager().GetGameConfig().reg_login_weight_conf;if(e){var t=e.length>1;this.toggleContainer.active=t;var n=this.toggleContainer.parent.getComponent(cc.Sprite);if(n&&(n.enabled=t),this.lbl_tlt.active=!t,t)for(var i=0;i<e.length;i++){var a;if(1==(a=e[i]).status){var r=a.key==o.Email?cc.instantiate(this.mailNode):cc.instantiate(this.phoneNode);0==i&&(r.getComponent(cc.Toggle).isChecked=!0,this.InterfaceType=a.key==o.Email?0:1),r.active=!0,r.parent=this.toggleContainer}}else(a=e[0])&&(this.lbl_tlt.getComponent(cc.Label).string=a.key==o.Email?app.i18n.t("UI_LOGIN_Mail"):app.i18n.t("UI_LOGIN_Phone"),this.InterfaceType=a.key==o.Email?0:1)}else for(this.InterfaceType=0,i=0;i<2;i++)r=0==i?cc.instantiate(this.mailNode):cc.instantiate(this.phoneNode),0==i&&(r.getComponent(cc.Toggle).isChecked=!0),r.active=!0,r.parent=this.toggleContainer},t.prototype.OnShow=function(e){void 0===e?(this.btn_closeButton&&(this.btn_closeButton.enabled=!1),this.btn_closeNode.active=!1):(this.btn_closeButton&&(this.btn_closeButton.enabled=!0),this.btn_closeNode.active=!0),void 0===e&&(e=1);var t=app.LoginManager().getUserLoginCode();this.myCode=t,t&&this.onLoginCode(),this.onLoginBtnSwitch(),this.onLoginShow(1==e),app.GoogleLoginManager().WebGoogleLoginInit(),this.schedule(this.onSetGoogleWebState,1),this.onRichtextClick()},t.prototype.onLoginBtnSwitch=function(){},t.prototype.onLoginShow=function(e){this.Toggle_login.isChecked=e,this.Toggle_sign.isChecked=!e,this.UILogin.active=e,this.terms_login.active=e,this.btn_sign.active=e,this.UISign.active=!e,this.btn_login.active=!e;var t=e?"UI_Dont_account":"UI_have_account";this.lbl_bottom.string=app.i18n.t(t),this.updateShowHied()},t.prototype.onLoginCode=function(){var e=this.UISign.getChildByName("text_phone").getChildByName("btn_code").getChildByName("label").getComponent(cc.Label),t=this.UILogin.getChildByName("text_phone").getChildByName("btn_code").getChildByName("label").getComponent(cc.Label);this.myCode.code||Number(e.string)&&Number(t.string)?(t.string=Number(t.string)?t.string:"+"+this.myCode.code,e.string=Number(e.string)?e.string:"+"+this.myCode.code):app.LoginManager().RequestAreaCodes()},t.prototype.OnClick=function(e){if(this.Log(e),"btn_mail"==e)return this.InterfaceType=0,void this.updateShowHied();if("btn_phone"==e)return this.InterfaceType=1,void this.updateShowHied();if("btn_login"!=e)if("btn_sign_up"!=e)if("terms"!=e)"login_Telegram"==e?app.LoginManager().VisitorLogin():"btn_fb_login"!=e?"login_google"!=e?"btn_free"!=e||app.DemoServerManager().EnterGame():app.LoginManager().GetIsLoginAnimPlay||this.GoogleLoginClick():app.LoginManager().GetIsLoginAnimPlay||this.facebookLoginClick();else{var t=app.GameConfigManager().GetGameConfig().user_agreement;cc.sys.openURL(t)}else this.onLoginShow(!1);else this.onLoginShow(!0)},t.prototype.GoogleLoginClick=function(){!app.ComTool().CheckPlatform()&&app.NativeMgr().getApkVersion()<1100?app.ConfirmManager().ShowConfirm(c.ConfirmType.ConfirmYN,app.i18n.t("UI_GoogleLoginHintUpVersion"),null,function(){var e=app.GameConfigManager().GetGameConfig().down_urls;app.NativeMgr().downloadApp(e.android_download_url)}):app.GoogleLoginManager().showTips()},t.prototype.facebookLoginClick=function(){app.EventTrackManager().LogEvent(p.default.CLICK_BTN_FB),app.ComTool().CheckPlatform()?app.FacebookManager().WebFacebookLogin():this.indiaLogin(function(){app.NativeMgr().loginFaceBook()})},t.prototype.indiaLogin=function(e){app.ComTool().CheckPlatform()?app.LoginManager().VisitorLogin():(null==cc.sys.localStorage.getItem("is_first_launch")&&cc.sys.localStorage.setItem("is_first_launch",!0),e())},t.prototype.updateShowHied=function(){this.onLoginChildNodeShow(),this.onSignChildNodeShow()},t.prototype.onLoginChildNodeShow=function(){if(this.UILogin.active){var e=this.UILogin.getChildByName("text_phone");e.active=0!=this.InterfaceType,e.getChildByName("editbox_phone").getComponent(cc.EditBox).string=this.myCode.phone_account?this.myCode.phone_account:"";var t=this.UILogin.getChildByName("text_mail");t.active=0==this.InterfaceType,t.getChildByName("editbox_mail").getComponent(r.default).string=this.myCode.mail_account?this.myCode.mail_account:"";var n=this.UILogin.getChildByName("text_password"),o=n.getChildByName("editbox_password").getComponent(cc.EditBox);o.inputFlag=cc.EditBox.InputFlag.PASSWORD,app.LoginManager().IsRememberPass||(this.myCode.phone_password="",this.myCode.mail_password="",app.LoginManager().setUserLoginCode(this.myCode)),0!=this.InterfaceType?o.string=this.myCode.phone_password?this.myCode.phone_password:"":o.string=this.myCode.mail_password?this.myCode.mail_password:"",n.getChildByName("btn_eye").active=!0,n.getChildByName("btn_eye_close").active=!1,this.UILogin.getComponent(cc.Layout).updateLayout()}},t.prototype.onSignChildNodeShow=function(){if(this.UISign.active){this.UISign.getChildByName("text_phone").active=0!=this.InterfaceType;var e=this.UISign.getChildByName("text_otp");e.active=0!=this.InterfaceType&&1==app.GameConfigManager().GetGameConfig().user_mobile_reg_switch,e.getChildByName("btn_otp").active=!0,e.getChildByName("label_time").getChildByName("richtext").active=!1,this.UISign.getChildByName("text_mail").active=0==this.InterfaceType;var t=this.UISign.getChildByName("text_password");t.getChildByName("editbox_password").getComponent(cc.EditBox).inputFlag=cc.EditBox.InputFlag.PASSWORD,t.getChildByName("btn_eye").active=!0,t.getChildByName("btn_eye_close").active=!1;var n=this.GetWndNode("mainReceive/agree",this.UISign);n.parent.active=0==this.InterfaceType,n.getComponent(cc.Toggle).isChecked=!0,this.GetWndNode("terms_sign/agree",this.UISign).getComponent(cc.Toggle).isChecked=!0,this.UISign.getComponent(cc.Layout).updateLayout()}},t.prototype.OnGetAreaCode=function(){var e=app.LoginManager().GetDefaultAreaCode();e?(this.myCode.code=e.code,this.onLoginCode()):this.ErrLog("OnGetAreaCode error")},t.prototype.onSetGoogleWebState=function(){app.NativeMgr().openInternalWindow(!0)},t.prototype.onRichtextClick=function(){var e=this,t=cc.find("layer/right/terms_login/rich_Text18",this.node)||cc.find("layer/terms_login/rich_Text18",this.node),n=cc.find("layer/right/UISignUp/terms_sign/rich_Text18",this.node)||cc.find("/layer/UISignUp/terms_sign/rich_Text18",this.node),o={str:"<b><color=#59677C >"+app.i18n.t("UI_BONTTOM_BYTIT")+' </color></b><u><color=#6751EB><on click="handler">'+app.i18n.t("UI_Terms_of_Service")+"</on></color></u>",callBack:function(){e.OnClick("terms")}};t&&t.getComponent(l.default).setRichtextStrCallBack(o),n&&n.getComponent(l.default).setRichtextStrCallBack(o)},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.LoginManager().SetIsLoginAnimPlay(!1),app.GoogleLoginManager().hideTips(),app.GoogleReCaptChaManager().hideDiv(),this.unschedule(this.onSetGoogleWebState),app.NativeMgr().openInternalWindow(!1),app.Client.OnEvent(s.GameEventDefine.UILoginClose)},t.prototype.OnGetOnline_Num=function(e){this.OnlineNum=Number(e),this.OnlineNumNode&&this.OnlineNumNode.active&&(this.UpdateOnlineNum(),this.unschedule(this.UpdateOnlineNum),this.schedule(this.UpdateOnlineNum,5))},t.prototype.UpdateOnlineNum=function(){var e=2*Number(this.OnlineNum)+app.ComTool().getRandomNumber(50,100);this.OnlineNumNode.getChildByName("lb_num").getComponent(cc.Label).string=e.toFixed(0),this.OnlineNumNode.active=!0},t.prototype.StartEnterCode=function(){this.StEnterCodeFontSize(75)},t.prototype.EndEnterCode=function(){this.StEnterCodeFontSize(37.84)},t.prototype.StEnterCodeFontSize=function(e){var t=app.ComTool().H5Platform()?"layer":"layer/right";this.GetWndComponent(t+"/UISignUp/text_otp/editbox_enter_otp/PLACEHOLDER_LABEL",cc.Label).fontSize=e,this.GetWndComponent(t+"/UISignUp/text_otp/editbox_enter_otp/TEXT_LABEL",cc.Label).fontSize=e},__decorate([u(cc.Node)],t.prototype,"UILogin",void 0),__decorate([u(cc.Node)],t.prototype,"UISign",void 0),__decorate([u(cc.Node)],t.prototype,"terms_login",void 0),__decorate([u(cc.Node)],t.prototype,"btn_login",void 0),__decorate([u(cc.Node)],t.prototype,"btn_sign",void 0),__decorate([u(cc.Toggle)],t.prototype,"Toggle_login",void 0),__decorate([u(cc.Toggle)],t.prototype,"Toggle_sign",void 0),__decorate([u(cc.Node)],t.prototype,"mailNode",void 0),__decorate([u(cc.Node)],t.prototype,"phoneNode",void 0),__decorate([u(cc.Node)],t.prototype,"toggleContainer",void 0),__decorate([u(cc.Label)],t.prototype,"lbl_bottom",void 0),__decorate([u(cc.Prefab)],t.prototype,"login_ani",void 0),__decorate([u(cc.Node)],t.prototype,"btn_closeNode",void 0),__decorate([u(cc.Button)],t.prototype,"btn_closeButton",void 0),__decorate([d],t)}(a.default);n.default=_,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Component/EditBox":"EditBox","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine","../../Common/Define/TrackEventName":"TrackEventName","../common_component/RichTextCallBack":"RichTextCallBack"}],UILogin:[function(e,t){"use strict";cc._RF.push(t,"a8654YyurNAmqfrTo7tJT/O","UILogin");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=e("../../Common/Component/EditBox"),a=e("../../Common/DB/LoginManager"),r=e("../../Common/Define/GameEventDefine"),s=e("../../Common/Define/ShareDefine"),c=e("../../Common/Define/TrackEventName"),p=e("../../Common/Define/UINameDefine"),l=cc._decorator,h=l.ccclass,d=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.phone_account=null,t.mail_account=null,t.password=null,t.codeLabel=null,t.btnEye=null,t.btnEyeHide=null,t.ToggleRemember=null,t.login_ani=null,t.account=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UILogin",this.RegEvent(r.GameEventDefine.NATION_PHONE_CODE,this.OnSelectNation),this.RegEvent(r.GameEventDefine.STOP_LOGIN_ANIM,this.OnStopLoginAnim),this.RegEvent(r.GameEventDefine.GOOGLRECAPTCHAFINISH,this.GoogleRecaptChaFinsh),this.account=this.GetWndNode("account"),this.codeLabel.string="+"+app.LoginManager().getUserLoginCode().code},t.prototype.OnEnable=function(){this.renderEye(!1),this.ToggleRemember.isChecked=app.LoginManager().IsRememberPass;var e=app.LoginManager().getUserLoginCode();this.myCode=e,app.LoginManager().GetIsLoginAnimPlay&&this.onCreateLoginAnim(this.GetWndNode("btn_Login/bg/layout"))},t.prototype.OnClick=function(e,t){if(this.Log(e),"btn_forget"!=e)if("btn_code"!=e)if("btn_clean_phone"!=e)if("btn_clean_mail"!=e)if("btn_eye"!=e)if("btn_eye_close"!=e)if("btn_Login"!=e)if("btn_Remember"!=e);else{var n=t;app.LoginManager().setLocalRememberPass(n.isChecked)}else app.LoginManager().GetIsLoginAnimPlay||this.onBtnClickLogin(t);else this.renderEye(!1);else this.renderEye(!0);else this.mail_account.string="";else this.phone_account.string="";else app.FormManager().ShowForm(p.UINameDefine.UINationPhoneCode,{type:s.NationPhoneNumberType.Login,scale:this.node.getParent().getParent().scale});else{var o=this.phone_account.node.parent.active?1:0;app.FormManager().ShowForm(p.UINameDefine.UIForgetPassword,o)}},t.prototype.OnSelectNation=function(e){this.setAreaCode(e)},t.prototype.setAreaCode=function(e){this.myCode={mark:e.mark,code:e.code},this.codeLabel.string="+"+e.code},t.prototype.onBtnClickLogin=function(e){app.EventTrackManager().LogEvent(c.default.CLICK_BTN_LOGIN);var t=this.phone_account.node.parent.active?this.phone_account.string:this.mail_account.string,n=this.password.string,o=3;if(t||!this.phone_account.node.parent.active)if(n){if(!this.phone_account.node.parent.active){if(o=2,!t)return void app.SysNotifyManager().ShowToast("UI.System_45");if(!/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/.test(t))return void app.SysNotifyManager().ShowToast("UI_Login_prompt5")}var i=this.codeLabel.string.replace("+",""),a=this.phone_account.node.parent.active?Number(i+""+t):t;app.LoginManager().RequestLogin({account:a,password:n,area:i,login_type:o}),this.onCreateLoginAnim(this.GetWndNode("bg/layout",e))}else app.SysNotifyManager().ShowToast("UI.System_4");else app.SysNotifyManager().ShowToast("UI.System_2")},t.prototype.renderEye=function(e){this.password.inputFlag=e?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD,this.btnEye.active=!e,this.btnEyeHide.active=e},t.prototype.setLoginAnimPra=function(e){this.login_ani=e},t.prototype.onCreateLoginAnim=function(e){var t=this,n=this.GetWndNode("login_ani",e);n||((n=cc.instantiate(this.login_ani)).y=-5,n.parent=e),n.active=!0,n.getComponent(cc.Animation).play(),app.LoginManager().SetIsLoginAnimPlay(!0),this.scheduleOnce(function(){t.OnStopLoginAnim()},5)},t.prototype.GoogleRecaptChaFinsh=function(){if(!app.LoginManager().GetIsLoginAnimPlay){var e=(app.ComTool().H5Platform(),this.GetWndNode("UILogin/btn_Login"));this.onBtnClickLogin(e)}},t.prototype.OnStopLoginAnim=function(){var e=this.GetWndNode("btn_Login/bg/layout/login_ani");e&&(e.getComponent(cc.Animation).stop(),e.active=!1),app.LoginManager().SetIsLoginAnimPlay(!1),this.unscheduleAllCallbacks()},t.prototype.OnDisable=function(){this.OnStopLoginAnim()},t.prototype.ChangedText=function(){this.mail_account.string&&(this.mail_account.string=this.mail_account.string.replace(new RegExp(/\s/g),"")),this.mail_account.string&&(this.mail_account.string=this.mail_account.string.replace(new RegExp("[\u4e00-\u9fff]+","g"),""));var e=this.mail_account.string;if(""!=e)if(this.account.active=!0,e.indexOf("@")>-1)this.account.active=!1;else{var t=this.GetWndNode("account/account_mail/item"),n=this.GetWndNode("account/account_mail/content");n.removeAllChildren(),e.length>14&&(e=e.substring(0,14)+"....");for(var o=0;o<a.websiteTypeArr.length;o++){var i=cc.instantiate(t);i.active=!0,n.addChild(i),this.GetWndNode("mail/lb_text",i).getComponent(cc.Label).string=e;var r=this.GetWndNode("mail/lb_mailcom",i).getComponent(cc.Label);r.string="@"+a.websiteTypeArr[o]+".com",i.on("click",this.AccountItemClick.bind(this,o,this.mail_account.string+r.string),this)}}else this.account.active=!1},t.prototype.AccountItemClick=function(e,t){this.account.active=!1,this.mail_account.string=t},t.prototype.DidEnded=function(){var e=this;setTimeout(function(){e.account.active=!1},200)},__decorate([d(cc.EditBox)],t.prototype,"phone_account",void 0),__decorate([d(i.default)],t.prototype,"mail_account",void 0),__decorate([d(cc.EditBox)],t.prototype,"password",void 0),__decorate([d(cc.Label)],t.prototype,"codeLabel",void 0),__decorate([d(cc.Node)],t.prototype,"btnEye",void 0),__decorate([d(cc.Node)],t.prototype,"btnEyeHide",void 0),__decorate([d(cc.Toggle)],t.prototype,"ToggleRemember",void 0),__decorate([h],t)}(o.default);n.default=u,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Component/EditBox":"EditBox","../../Common/DB/LoginManager":"LoginManager","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine","../../Common/Define/TrackEventName":"TrackEventName","../../Common/Define/UINameDefine":"UINameDefine"}],UILoseWaiverItem:[function(e,t){"use strict";cc._RF.push(t,"004a7iHGktNRLbVqY4/knH8","UILoseWaiverItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=cc._decorator,a=i.ccclass,r=i.property,s=[new cc.Color(111,37,63,255),new cc.Color(33,96,104,255),new cc.Color(76,96,177,255)],c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t.bg_Sprs=[],t}return __extends(t,e),t.prototype.RefreshData=function(e,t){var n=this;this.data=e,this.node.active=!0,cc.find("label/label",this.node).getComponent(cc.Label).string=this.data.name,cc.find("label/time",this.node).getComponent(cc.Label).string=this.data.day,t=t>=2?2:t,cc.find("mask/item_light",this.node).color=s[t],cc.find("icon_1",this.node).getComponent(cc.Sprite).spriteFrame=this.bg_Sprs[t],cc.find("layout_lose/lost",this.node).getComponent(cc.Label).string=(this.data.lost>this.data.max_gold?this.data.max_gold:this.data.lost)+"",cc.find("layout_lose/max",this.node).getComponent(cc.Label).string=this.data.max_gold+"";var o=cc.find("layout/time",this.node),i=cc.find("layout/btn/disabled",this.node);cc.find("layout/btn/btn_receive/label",this.node).getComponent(cc.Label).string=(this.data.lost>this.data.max_gold?this.data.max_gold:this.data.lost)+"",i.active=!0,o.active=!1,cc.find("complete",this.node).active=1==this.data.is_get||0==this.data.is_get&&this.data.lost<=0&&this.data.start_get_time-app.LoseWaiverManager().GetSeverTime<=0,0==this.data.is_get&&this.data.start_get_time<=app.LoseWaiverManager().GetSeverTime&&(i.active=this.data.lost<=0),1==this.data.is_get&&(i.active=!0),0==this.data.is_get&&this.data.start_get_time>app.LoseWaiverManager().GetSeverTime&&(o.active=!0,o.getComponent(cc.Label).string=this.formatTimeWithNum(this.data.start_get_time-app.LoseWaiverManager().GetSeverTime),this.schedule(function(){var e=n.data.start_get_time-app.LoseWaiverManager().GetSeverTime;if(e<1)return n.unscheduleAllCallbacks(),void app.LoseWaiverManager().RequestLoseWaiver();o.getComponent(cc.Label).string=n.formatTimeWithNum(e)},1))},t.prototype.formatTimeWithNum=function(e){var t=e/86400>>0,n=(e-86400*t)/3600>>0,o=(e-86400*t-3600*n)/60>>0,i=e-86400*t-3600*n-60*o;return(t>0?t+" "+app.i18n.t("UI_Loss_Waiver_Days"):app.i18n.t("UI_Loss_Waiver_Ex"))+" "+n+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},t.prototype.OnClick=function(e){"btn_receive"!=e||this.onReceiveAward()},t.prototype.onReceiveAward=function(){this.data.start_get_time-app.LoseWaiverManager().GetSeverTime>0||this.data.lost<=0||1==this.data.is_get||app.LoseWaiverManager().RequstFreeLose(this.data.tid)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},__decorate([r([cc.SpriteFrame])],t.prototype,"bg_Sprs",void 0),__decorate([a],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent"}],UILossWaiver:[function(e,t){"use strict";cc._RF.push(t,"4530cGOqtFKM6zJ+cyqJJ86","UILossWaiver");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("./UILoseWaiverItem"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t.content=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UILossWaiver",this.RegEvent(i.GameEventDefine.LOSEWLIST,this.onLoseWaiverData)},t.prototype.OnShow=function(){app.LoseWaiverManager().RequestLoseWaiver()},t.prototype.onLoseWaiverData=function(e){for(var t=[],n=[],o=[],i=0;i<e.length;i++){var r=e[i];1!=r.is_get?0==r.is_get&&r.start_get_time-app.LoseWaiverManager().GetSeverTime<=0&&r.lost<=0?o.push(e[i]):t.push(e[i]):n.push(e[i])}e=t.concat(n,o),this.content.removeAllChildren();for(var s=0;s<e.length;s++){var c=e[s],p=cc.instantiate(this.item);p.getComponent(a.default).RefreshData(c,s),p.active=!0,this.content.addChild(p)}this.content.getComponent(cc.Layout).updateLayout()},__decorate([c(cc.Prefab)],t.prototype,"item",void 0),__decorate([c(cc.Node)],t.prototype,"content",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","./UILoseWaiverItem":"UILoseWaiverItem"}],UIMain:[function(e,t){"use strict";cc._RF.push(t,"24bdaVCpkhCgaoAT2DwSx2W","UIMain");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Component/UIScrollview"),a=e("../../../Common/Define/GameEventDefine"),r=e("../../../Common/Define/TrackEventName"),s=e("../../../Common/Define/UINameDefine"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeContent=null,t.nodeView=null,t.scrollView=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UIMain",this.RegEvent(a.GameEventDefine.HallWidgetVariety,this.OnWidgetVariety),this.RegEvent(a.GameEventDefine.SHOW_BG,this.OnShowBg),this.RegEvent(a.GameEventDefine.SET_VISIBLE_BOTTOM,this.OnShowBottom),this.RegEvent(a.GameEventDefine.LOAD_HALL_SUCCESS,this.OnLoadHallSuccess),this.RegEvent(a.GameEventDefine.SET_NODE_ZERO,this.OnSetNodeZero),this.RegEvent(a.GameEventDefine.MOVE_CONTENT,this.OnMoveContent),this.RegEvent(a.GameEventDefine.TOUCH_SCROLLVIEW,this.OnScrollView),this.RegEvent(a.GameEventDefine.OPEN_STORE,this.OnOpenStore),this.RegEvent(a.GameEventDefine.OPEN_SPECIAL_OFFER,this.OnOpenSpecialOffer),this.RegEvent(a.GameEventDefine.TOP_MAINSCROLLVIEW,this.onToTopMainScollView),this.RegEvent(a.GameEventDefine.KEYBOARD_POS,this.OnKeyBoardPos),this.RegEvent(a.GameEventDefine.JUMP_SCROLL_PERCENT,this.OnJumpScollViewPercent),this.RegEvent(a.GameEventDefine.MAIN_JUMP_INTERACTION,this.OnJumpMainScollView),this.node.on(cc.Node.EventType.MOUSE_WHEEL,this.OnMouseWheel,this,!0)},t.prototype.OnEnable=function(){app.ComTool().H5Platform()?(this.scrollView.enabled=!0,this.node.getComponent(cc.Widget).top=0,this.node.getComponent(cc.Widget).bottom=110,this.scrollView.node.on("scroll-ended",this.OnScrolling,this,!0)):(this.scrollView.enabled=!1,this.node.getComponent(cc.Widget).top=66,this.node.getComponent(cc.Widget).bottom=0,this.nodeContent.setPosition(120,0),this.nodeContent.getComponent(cc.Widget).left=240,this.nodeContent.getComponent(cc.Widget).right=0,this.nodeContent.getComponent(cc.Widget).updateAlignment()),this.node.getComponent(cc.Widget).updateAlignment()},t.prototype.OnKeyBoardPos=function(e){var t=e.isShow?this.nodeContent.y+e.height:this.nodeContent.y-e.height;cc.tween(this.nodeContent).to(.1,{y:t}).start()},t.prototype.OnShowBg=function(){var e=this,t=this.GetWndNode("bg");0==t.childrenCount&&cc.resources.load("common/prefab/UIBG",function(n,o){if(n)e.ErrLog(n);else{var i=cc.instantiate(o);t.addChild(i)}})},t.prototype.OnLoadHallSuccess=function(){this.OnShowBottom(!0)},t.prototype.OnShowBottom=function(e){this.OnSetNodeZero(),app.FormManager().FormVisible(s.UINameDefine.UIHallBottom,e),e||(this.GetWndNode("bottom",this.nodeContent).height=0)},t.prototype.OnSetNodeZero=function(){this.nodeContent.y=0},t.prototype.OnScrollView=function(e){app.ComTool().H5Platform()&&(this.scrollView.enabled=e)},t.prototype.OnOpenStore=function(){app.StoreManager().ShowStoreUI({in_type:r.default.PAGETRACK_EVENT_RECHARGE_ACTIVITY})},t.prototype.OnOpenSpecialOffer=function(){0==app.ActivityManager().GetRechargeRewardInfo().is_discount?app.FormManager().ShowForm(s.UINameDefine.UIDiscount):app.SysNotifyManager().ShowToast("UI.System_25")},t.prototype.OnWidgetVariety=function(){var e=this;if(!app.ComTool().H5Platform()){var t=0;app.FormManager().IsFormShow(s.UINameDefine.UIMenu)||app.FormManager().IsFormShow(s.UINameDefine.UIChat)?app.FormManager().IsFormShow(s.UINameDefine.UIMenu)&&app.FormManager().IsFormShow(s.UINameDefine.UIChat)?t=-100:app.FormManager().IsFormShow(s.UINameDefine.UIMenu)&&!app.FormManager().IsFormShow(s.UINameDefine.UIChat)?t=240:!app.FormManager().IsFormShow(s.UINameDefine.UIMenu)&&app.FormManager().IsFormShow(s.UINameDefine.UIChat)&&(t=-340):t=0,this.nodeContent.x!==t/2&&cc.tween(this.nodeContent).to(.2,{position:cc.v3(t/2,this.nodeContent.y)}).call(function(){e.nodeContent.getComponent(cc.Widget).left=t,e.nodeContent.getComponent(cc.Widget).right=0,e.nodeContent.getComponent(cc.Widget).updateAlignment()}).start()}},t.prototype.OnMouseWheel=function(e){this.MoveNodeContent(e.getScrollY())},t.prototype.MoveNodeContent=function(e){if(!(this.nodeContent.height<=this.node.height)){var t=this.nodeContent.y-e,n=this.GetTop();t>=n?t=n:t<0&&(t=0),this.nodeContent.y=t,app.Client.OnEvent(a.GameEventDefine.HallShowHallRank,{ViewHeight:this.nodeView.height,nodeContentY:this.nodeContent.y})}},t.prototype.OnMoveContent=function(e){this.MoveNodeContent(-e)},t.prototype.onToTopMainScollView=function(){this.scrollView.stopAutoScroll(),this.scrollView.scrollToTop()},t.prototype.OnJumpScollViewPercent=function(e){this.scrollView.scrollToPercentVertical(e)},t.prototype.OnJumpMainScollView=function(e){var t=this.nodeContent.convertToNodeSpaceAR(e);this.scrollView.setContentPosition(cc.v2(this.nodeContent.x,Math.abs(t.y)))},t.prototype.GetTop=function(){return this.nodeContent.height-this.nodeView.height},t.prototype.OnScrolling=function(){app.Client.OnEvent(a.GameEventDefine.HallShowHallRank,{ViewHeight:this.nodeView.height,nodeContentY:this.nodeContent.y})},__decorate([l(cc.Node)],t.prototype,"nodeContent",void 0),__decorate([l(cc.Node)],t.prototype,"nodeView",void 0),__decorate([l(i.default)],t.prototype,"scrollView",void 0),__decorate([p],t)}(o.default);n.default=h,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Component/UIScrollview":"UIScrollview","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/TrackEventName":"TrackEventName","../../../Common/Define/UINameDefine":"UINameDefine"}],UIMessage:[function(e,t){"use strict";cc._RF.push(t,"6ff05MOpPJKIYpkMAC48BZd","UIMessage");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/ShareDefine"),a=cc._decorator.ccclass,r=cc._decorator.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelMessage=null,t.LabelCancel=null,t.LabelSure=null,t.BtnCancel=null,t.BtnSure=null,t.BtnParent=null,t._ConfirmType=i.ConfirmType.ConfirmYN,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.ZorderLv=9},t.prototype.OnShow=function(e,t,n,o){var a=this,r=o.split("/n");this.LabelMessage.string=r.join("\n"),this.BtnParent.active=e!=i.ConfirmType.ConfirmTips,this._ConfirmType=e;var s="General.General_2",c="General.General_1",p=function(){a.BtnCancel.node.active=!0,a.BtnSure.node.active=!0},l=function(){a.BtnCancel.node.active=!1,a.BtnSure.node.active=!0};e==i.ConfirmType.Confirm?(c="UI.MakeMoney_4_Promotion_17",p()):e==i.ConfirmType.ConfirmYN?p():e==i.ConfirmType.ConfirmYNPagamento?(c="General.General_111",p()):e==i.ConfirmType.ConfirmOK||e==i.ConfirmType.ConfirmModal?l():e==i.ConfirmType.ConfirmFree?(c="UI_Confirme",l()):e==i.ConfirmType.ConfirmCustom&&(s=n[0],c=n[1],p()),this.LabelCancel&&(this.LabelCancel.string=app.i18n.t(s)),this.LabelSure&&(this.LabelSure.string=app.i18n.t(c))},t.prototype.OnClick_Return=function(){this.BtnCancel.node.active?this.AfterOnClick("Cancel"):this.AfterOnClick("Sure")},t.prototype.OnClick=function(e){"btnSure"!=e?"btnCancel"!=e?"btn_bg"!=e?this.ErrLog("OnClick:%s not find",e):this.BtnParent.active||this.AfterOnClick("Cancel"):this.AfterOnClick("Cancel"):this._ConfirmType==i.ConfirmType.ConfirmModal?app.ConfirmManager().OnConFirmResult("Sure",!1):this.AfterOnClick("Sure")},t.prototype.AfterOnClick=function(e){this.CloseForm(),app.ConfirmManager().OnConFirmResult(e)},__decorate([r(cc.Label)],t.prototype,"LabelMessage",void 0),__decorate([r(cc.Label)],t.prototype,"LabelCancel",void 0),__decorate([r(cc.Label)],t.prototype,"LabelSure",void 0),__decorate([r(cc.Button)],t.prototype,"BtnCancel",void 0),__decorate([r(cc.Button)],t.prototype,"BtnSure",void 0),__decorate([r(cc.Node)],t.prototype,"BtnParent",void 0),__decorate([a],t)}(o.default);n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/ShareDefine":"ShareDefine"}],UIMonthCard:[function(e,t){"use strict";cc._RF.push(t,"e0bc7+rQd9On5nCt/+ucGOl","UIMonthCard");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=[new cc.Color(23,208,204,255),new cc.Color(56,140,255,255),new cc.Color(97,69,182,255)],l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.cardItem=null,t.icons=[],t.ShopNum=0,t.card_id=0,t.CardNameData=[],t}return __extends(t,e),t.prototype.OnCreateInit=function(){for(var e=this.content.children,t=1;t<e.length;t++)e[t].active=!1;this.CardNameData=["Week Card","Monthly Card","Season Card"],this.RegEvent(i.GameEventDefine.GET_GOODS_LIST,this.onGetGoodsList),this.RegEvent(i.GameEventDefine.GET_CARD_LIST,this.onGetCardList),this.RegEvent(i.GameEventDefine.UPDATE_MONTHCARD,this.reqList)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.StoreManager().RequstGoodsList()},t.prototype.onGetGoodsList=function(){this.reqList()},t.prototype.onGetCardList=function(){var e=app.ActivityManager().GetCardList();e&&(e.sort(function(e,t){return e.id-t.id}),this.updateList(e))},t.prototype.reqList=function(){app.FormManager().CloseForm(a.UINameDefine.UIRechargeInfo),app.ActivityManager().RequestCardList()},t.prototype.OnIDCheck=function(e){return e<=7?0:e<=15&&e>7?1:2},t.prototype.updateList=function(e){var t=this;e||cc.error("updateList fail! not data==>>"+JSON.stringify(e));for(var n=this.content,o=n.children,i=function(i){var r=e[i],s=o[i+1];s||(s=cc.instantiate(a.cardItem),n.addChild(s));var c=a.OnIDCheck(r.time),l=p[c];s.getChildByName("light").color=l;var h=a.icons[c];s.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=h,s.getChildByName("lbl_name").getComponent(cc.Label).string=r.name;var d=s.getChildByName("layout_connect");d.children[0].children[3].getComponent(cc.Label).string=""+r.recharge_immediately,d.children[1].children[3].getComponent(cc.Label).string=r.daily_collection+"("+r.time+"day)",d.children[2].children[3].getComponent(cc.Label).string=""+Number(r.recharge_immediately+r.daily_collection*r.time);var u=!!r.surplus_time&&!!r.is_pay;s.getChildByName("receive").active=u;var _=s.getChildByName("receive").getChildByName("label");_.active=u,u&&(_.getComponent(cc.Label).string=app.i18n.t("Code_Shop_Mon_Card_Txt_1")+": "+r.surplus_time+"day"),u=!r.is_pay,(_=cc.find("btn_buy/label",s)).parent.active=u,u&&(_.getComponent(cc.Label).string=r.price),a.setClickEvent(u,s,function(){t.ShopNum=r.price,t.card_id=r.id,t.goToEvent()}),a.setClickEvent(u,cc.find("btn_buy",s),function(){t.ShopNum=r.price,t.card_id=r.id,t.goToEvent()}),_=cc.find("receive/btn_receive",s),(u=!!r.is_pay)&&(_.active=u,u=!r.is_surplus,_.getChildByName("btn_bg_back").active=!u,_.getComponent(cc.Button).interactable=u),a.setClickEvent(u,_,function(){t.onReceive(r.id,r.order_id,r.daily_collection)}),s.active=!0},a=this,r=0;r<e.length;r++)i(r)},t.prototype.setClickEvent=function(e,t,n){t.cEvent&&(t.off("click",t.cEvent),t.cEvent=null),e&&n&&(t.getComponent(cc.Button)||t.addComponent(cc.Button),t.cEvent=n,t.on("click",t.cEvent))},t.prototype.onReceive=function(e,t,n){app.UserManager().GetIsOfficialPopup()||app.ActivityManager().RequestCardDailyGold({token:app.UserManager().GetUserInfo.token,card_id:e,order_id:t,gold:n})},t.prototype.goToEvent=function(){if(!app.UserManager().GetIsOfficialPopup()){var e={amount:this.ShopNum,card_id:this.card_id};app.FormManager().ShowForm(a.UINameDefine.UIRechargeInfo,e)}},__decorate([c(cc.Node)],t.prototype,"content",void 0),__decorate([c(cc.Node)],t.prototype,"cardItem",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"icons",void 0),__decorate([s],t)}(o.default);n.default=l,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UINameDefine:[function(e,t){"use strict";cc._RF.push(t,"608ae3vd+xAZ451MdiKAzb/","UINameDefine");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.UINameDefine=void 0;var o=function(){function e(){}return e.UIMessage="UIMessage",e.UIToast="UIToast",e.UILaunchNotice="UILaunchNotice",e.UILoginSign="UILoginSign",e.UIForgetPassword="UIForgetPassword",e.UIForgetEmailPassword="UIForgetEmailPassword",e.UINationPhoneCode="UINationPhoneCode",e.UIGoldReward="UIGoldReward",e.UIIntoGame="UIIntoGame",e.UIFreeWindow="UIFreeWindow",e.UIGameHintWindow="UIGameHintWindow",e.UISettlement="UISettlement",e.UIVIP="UIVIP",e.UIVIPReduced="UIVIPReduced",e.UIWorldCupActive="UIWorldCupActive",e.UIBonuses="UIBonuses",e.UISupport="UISupport",e.UIAiSupport="UIAiSupport",e.UISupportService="UISupportService",e.UISupportClassTwo="UISupportClassTwo",e.UISupportServiceReply="UISupportServiceReply",e.UISupportSubmit="UISupportSubmit",e.UISupportQuestionDetails="UISupportQuestionDetails",e.UIBankCode="UIBankCode",e.UIMonthCard="UIMonthCard",e.UIPlayerInfo="UIPlayerInfo",e.UIPlayerInfoBonusBalance="UIPlayerInfoBonusBalance",e.UIPlayerEditInfo="UIPlayerEditInfo",e.UIDiscount="UIDiscount",e.UIRechargeTime="UIRechargeTime",e.UIRechargeLimitedTime="UIRechargeLimitedTime",e.UIRechargeInfo="UIRechargeInfo",e.UIBetBonus="UIBetBonus",e.UIBetBonusGold="UIBetBonusGold",e.UIDescription="UIDescription",e.UIGameHelp="UIGameHelp",e.UIGameHelpCom="UIGameHelpCom",e.Game730Help="Game730Help",e.UIHall="UIHall",e.UIHallTop="UIHallTop",e.UIMenu="UIMenu",e.UIChat="UIChat",e.UIBG="UIBG",e.UIPromoteMain="UIPromoteMain",e.UIStoreAndCash="UIStoreAndCash",e.UIStoreAndCashVi="UIStoreAndCashVi",e.UIStoreAndCashVi_2="UIStoreAndCashVi_2",e.UIDepositComponent="UIDepositComponent",e.UIFAQ="UIFAQ",e.UIText="UIText",e.UIGC="UIGC",e.UIHallNotice="UIHallNotice",e.UIStoreQR="UIStoreQR",e.UIStoreQRWebview="UIStoreQRWebview",e.UIStoreQRUSDT="UIStoreQRUSDT",e.UIWithdrawDesc="UIWithdrawDesc",e.UIWithdrawRecord="UIWithdrawRecord",e.UIActivity="UIActivity",e.UIActivityMission="UIActivityMission",e.UIActivityLossRebate="UIActivityLossRebate",e.UIActivityNewbieBonus="UIActivityNewbieBonus",e.UIActivityNewbieBonusGet="UIActivityNewbieBonusGet",e.UIActivityNewbieBonusDeposit="UIActivityNewbieBonusDeposit",e.UIActivityLuckyLottery="UIActivityLuckyLottery",e.UICashWheel="UICashWheel",e.UICashWheelWithdraw="UICashWheelWithdraw",e.UICashWheelShare="UICashWheelShare",e.UICashWheelRefresh="UICashWheelRefresh",e.UIActivityFirstChargeUpgrade="UIActivityFirstChargeUpgrade",e.UIAccount="UIAccount",e.UIAccountWithdrawal="UIAccountWithdrawal",e.UIAccountPop="UIAccountPop",e.UIAccountSetting="UIAccountSetting",e.UIBonusUnfrozen="UIBonusUnfrozen",e.UIAccountBirthday="UIAccountBirthday",e.UICalendarView="UICalendarView",e.UIHallBottom="UIHallBottom",e.UICashDetails="UICashDetails",e.UIAllActivity="UIAllActivity",e.UIAllActivityBonus="UIAllActivityBonus",e.UIDownAndSevice="UIDownAndSevice",e.UIKeyBoard="UIKeyBoard",e.UIWheel="UIWheel",e.UIWheelHelp="UIWheelHelp",e.UIBankName="UIBankName",e.UIViBankName="UIViBankName",e.UIViBankName_2="UIViBankName_2",e.UILimit="UILimit",e.UISelectRegion="UISelectRegion",e.UIRedeemCode="UIRedeemCode",e.UIFail="UIFail",e.UIAutoSetting="UIAutoSetting",e.UIJudge="UIJudge",e.UIUpgrade="UIUpgrade",e.UIRoomList="UIRoomList",e.UIExperience="UIExperience",e.UIAnnouncement="UIAnnouncement",e.UIInvitationBonus="UIInvitationBonus",e.UIUniversalList="UIUniversalList",e.UIInsideWebView="UIInsideWebView",e.UIGameHierarchy="UIGameHierarchy",e.UIFIFAWorldCup="UIFIFAWorldCup",e.UFIFAWorldCupIHistory="UFIFAWorldCupIHistory",e.UFIFAWorldCupBet="UFIFAWorldCupBet",e.UIWorldCupAward="UIWorldCupAward",e.UITaskBonus="UITaskBonus",e.UIGuide="UIGuide",e.UIGameLoading="UIGameLoading",e.UILoadingFail="UILoadingFail",e.UIReceiveRedEnvelope="UIReceiveRedEnvelope",e.UIGameProgressView="UIGameProgressView",e}();n.UINameDefine=o,t.exports=n,cc._RF.pop()},{}],UINationPhoneCodeItem:[function(e,t){"use strict";cc._RF.push(t,"0481ecEgRdOMr8yKEVmUHKE","UINationPhoneCodeItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Define/GameEventDefine"),i=e("../../../Common/Define/UINameDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t.cb=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.getComponent(cc.Button)||this.node.addComponent(cc.Button),this.node.on("click",this.onClick,this)},t.prototype.setData=function(e){this.data=e;var t=this.node.children;t[1].getComponent(cc.Label).string=""+app.ComUtil().cutStr(e.nation,14),t[2].getComponent(cc.Label).string="+"+e.code},t.prototype.setCB=function(e){this.cb=e},t.prototype.onClick=function(){app.Client.OnEvent(o.GameEventDefine.NATION_PHONE_CODE,this.data),app.FormManager().CloseForm(i.UINameDefine.UINationPhoneCode)},__decorate([r],t)}(cc.Component));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UINationPhoneCode:[function(e,t){"use strict";cc._RF.push(t,"568f47F/rtEUb/bwwdRAvyY","UINationPhoneCode");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/ShareDefine"),r=e("./UINationPhoneCodeItem"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UINationPhoneCode",this.RegEvent(i.GameEventDefine.GET_AREA_CODES,this.OnGetAreaCode)},t.prototype.hideList=function(){for(var e=this.scrollView.content.children,t=0;t<e.length;t++)e[t].active=!1},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.hideList(),this.receiveData=e,this.setShowTypePos();var n=app.LoginManager().GetAreaCode();n?this.updateList(n):app.LoginManager().RequestAreaCodes()},t.prototype.OnGetAreaCode=function(){var e=app.LoginManager().GetAreaCode();this.updateList(e)},t.prototype.setShowTypePos=function(){if(this.receiveData&&this.receiveData[0]){var e=cc.find("scrollview_num",this.node),t=(app.ComTool().H5Platform()?a.VListPos:a.HListPos)[this.receiveData[0].type];null!=t.top?(e.getComponent(cc.Widget).enabled=!0,e.getComponent(cc.Widget).top=t.top):(e.getComponent(cc.Widget).enabled=!1,e.x=t.x*(this.receiveData[0].scale||1),e.y=t.y*(this.receiveData[0].scale||1))}},t.prototype.updateList=function(e){if(e){for(var t=this.scrollView.content,n=t.children,o=0;o<e.length;o++){var i=e[o],a=n[o];a||(a=cc.instantiate(n[0]),t.addChild(a)),a.active=!0,(a.getComponent(r.default)||a.addComponent(r.default)).setData(i)}for(var s=e.length;s<n.length;s++)n[s].active=!1}else cc.error("updateList fail! not data==>>"+JSON.stringify(e))},__decorate([p(cc.ScrollView)],t.prototype,"scrollView",void 0),__decorate([c],t)}(o.default);n.default=l,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","./UINationPhoneCodeItem":"UINationPhoneCodeItem"}],UINotice:[function(e,t){"use strict";cc._RF.push(t,"b3ce3p2cSZCQq1PERDhKFn+","UINotice");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/UINameDefine"),a=e("../../../Common/Define/ShareDefine"),r=e("../../../Common/Define/HttpServerDefine"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notice_pageWnd=null,t.scrollView=null,t.item=null,t.NoDataItem=null,t.NoticeListNode=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.RegHttpEvent(r.HttpAPI.GET_NOTICES,this.OnNotices)},t.prototype.OnEnable=function(){this.NoticeListNode.removeAllChildren(),this.NoDataItem.active=!1,app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_NOTICES,{token:app.UserManager().GetUserInfo.token,notice_id:0}),app.RedDotManager().updateSingleData({type:a.RedDotStr.notice,bShow:!1})},t.prototype.OnNotices=function(e){this.initActivityInfo(e)},t.prototype.initActivityInfo=function(e){this.gameNotice=[];for(var t=0;t<e.length;++t)this.gameNotice.push(e[t]);this.createNoticeList()},t.prototype.createNoticeList=function(){if(this.gameNotice)for(var e=function(e){var n=t.gameNotice[e],o=cc.instantiate(t.item);t.NoticeListNode.addChild(o),o.data=n,o.getChildByName("label").getComponent(cc.Label).string=n.title,cc.find("title/time",o).getComponent(cc.Label).string=n.create_time;var i=cc.find("img",o),a=n.content;1==n.content_type&&(""==a||null==a?(cc.error("url = null"),i.active=!1):(i.active=!0,i.opacity=0,i.info=n,t.noticerenderImageWnd(a,i,function(){i.opacity=255}))),o.active=!0},t=this,n=0;n<this.gameNotice.length;n++)e(n)},t.prototype.OnClick=function(e,t){if("notice_item"==e)return this.setNoticePageVisible(!0),void this.setNoticePageData(t.data);"btnDlgClose"!=e?"item"!=e||this.NoticeWndEvent(t.data):this.setNoticePageVisible(!1)},t.prototype.setNoticePageVisible=function(e){this.notice_pageWnd.active=e},t.prototype.setNoticePageData=function(e){if(this.notice_pageWnd&&e){var t=e.content,n=cc.find("scrollview/view/content",this.notice_pageWnd),o=cc.find("scrollview/view/webview",this.notice_pageWnd),i=cc.find("sprite",n);if(cc.find("notice_item/label",n).getComponent(cc.Label).string=e.title,cc.find("notice_item/notice_time",n).getComponent(cc.Label).string=e.create_time,app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_NOTICE_READ,{token:app.UserManager().GetUserInfo.token,notice_id:e.notice_id}),n.active=1==e.content_type,o.active=!(1==e.content_type),o.x=1,1==e.content_type)""==t||null==t?(cc.error("url = null"),i.active=!1):(i.active=!0,i.opacity=0,i.info=e,this.noticerenderImageWnd(t,i,function(){i.opacity=255}));else{var a=t+"&token="+app.UserManager().GetUserInfo.token;this.setNoticeWebUrl(a,o),o.opacity=0,i.active=!1}}},t.prototype.NoticeWndEvent=function(e){if(null!=e){var t=e.link;if(t>0)return app.InteractionMgr().SendWndEvent(t),void app.FormManager().CloseForm(i.UINameDefine.UIChat);var n=e.external_link;n&&cc.sys.openURL(n)}else this.ErrLog("NoticeWndEvent ==> ")},t.prototype.noticerenderImageWnd=function(e,t){""!=e&&null!=e?t&&app.ImageUtil().LoadImage(t,e):cc.error("url = null")},t.prototype.setNoticeWebUrl=function(e,t){if(""!=e&&null!=e){var n=new cc.Component.EventHandler;n.target=this.node,n.component="NoticeLayer",n.handler="WebviewCallBack",n.customEventData="foobar",t.getComponent(cc.WebView).webviewEvents=[],t.getComponent(cc.WebView).webviewEvents.push(n),t.getComponent(cc.WebView).url=e}else cc.error("url = null")},t.prototype.WebviewCallBack=function(e,t){1==t&&(cc.find("scrollview/view/webview",this.notice_pageWnd).opacity=255)},__decorate([p(cc.Node)],t.prototype,"notice_pageWnd",void 0),__decorate([p(cc.ScrollView)],t.prototype,"scrollView",void 0),__decorate([p(cc.Node)],t.prototype,"item",void 0),__decorate([p(cc.Node)],t.prototype,"NoDataItem",void 0),__decorate([p(cc.Node)],t.prototype,"NoticeListNode",void 0),__decorate([c],t)}(o.default);n.default=l,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/HttpServerDefine":"HttpServerDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UINumKeyPadLabel:[function(e,t){"use strict";cc._RF.push(t,"960a1EDQ/tPUbvSFhoNfAw2","UINumKeyPadLabel");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Define/UINameDefine"),i=e("../Define/GameEventDefine"),a=e("../Define/ShareDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=r.disallowMultiple,l=r.menu,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.normal=null,t.moveNode=null,t.enterType=a.EnterType.other,t.limit=0,t.CustomEvent=-99,t}return __extends(t,e),t.prototype.onLoad=function(){if(app.UserManager().GetUserInfo){var e=app.RoomManager().GetRoomModeInfoByRoomMode(app.UserManager().GetUserInfo.roomMode);e&&(this.limit=app.GameConfigManager().GameBetLimit(e.GID))}this.node.on(cc.Node.EventType.TOUCH_END,this.OnBtnBetEnter,this)},t.prototype.OnNodeShow=function(){this.normal&&(this.normal.active=0==this.label.string.length)},t.prototype.setCustomEvent=function(e){this.CustomEvent=e},t.prototype.OnBtnBetEnter=function(){this.label?(app.FormManager().ShowForm(o.UINameDefine.UIKeyBoard,{label:this.label,limit:this.limit,type:this.enterType,moveNode:this.moveNode}),this.normal&&(this.normal.active=!1),-99!=this.CustomEvent&&app.Client.OnEvent(i.GameEventDefine.GetButtonKey,this.CustomEvent)):cc.error("faild this.label")},__decorate([c({type:cc.Label,tooltip:"\u8f93\u5165\u6587\u672c"})],t.prototype,"label",void 0),__decorate([c({type:cc.Node,tooltip:"\u9ed8\u8ba4\u663e\u793a\u7684\u6587\u672c"})],t.prototype,"normal",void 0),__decorate([c({type:cc.Node,tooltip:"\u5f39\u51fa\u81ea\u5b9a\u4e49\u952e\u76d8\u65f6 \u9700\u8981\u79fb\u52a8\u7684\u8282\u70b9"})],t.prototype,"moveNode",void 0),__decorate([c({type:cc.Enum(a.EnterType),tooltip:"\u8f93\u5165\u7c7b\u578b0\u5176\u4ed6 1:\u4e0b\u6ce8\u91d1\u989d,2\u8d54\u7387 3\u8f6e\u6570 */"})],t.prototype,"enterType",void 0),__decorate([c({tooltip:"\u6309\u94aekey\u503c\u7528\u6765\u4f20\u53c2,\u9ed8\u8ba4-99"})],t.prototype,"CustomEvent",void 0),__decorate([s,p(),l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UINumKeyPadLabel")],t)}(cc.Component);n.default=h,t.exports=n,cc._RF.pop()},{"../../Common/Define/UINameDefine":"UINameDefine","../Define/GameEventDefine":"GameEventDefine","../Define/ShareDefine":"ShareDefine"}],UIPlayerEditInfo:[function(e,t){"use strict";cc._RF.push(t,"5601etHUsdIOKUoybtyDwM9","UIPlayerEditInfo");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Mgr/UserManager"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EDI_Nickname=null,t.layerChooseHead=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIPlayerEditInfo"},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=app.UserManager().GetUserInfo;null!=n&&(this.oldHeadName=String(n.headimg),this.setNickName(n.nickname),this.setHeadShow(""+app.UserManager().GetUserInfo.headimg))},t.prototype.OnClick=function(e){this.isHeadNode(e)?"facebook"==e?this.oldHeadName=app.UserManager().GetUserInfo.third_headimg:(this.oldHeadName=e,this.setHeadShow(e)):"btn_Revise"!=e||this.onReqUpdateUserInfo()},t.prototype.setNickName=function(e){this.EDI_Nickname.string=e},t.prototype.setHeadShow=function(e){for(var t=this.layerChooseHead.children,n=0;n<t.length;n++){var o=t[n];o.getChildByName("checkmark").active=Number(o.name)==Number(e)}},t.prototype.onReqUpdateUserInfo=function(){var e=this.EDI_Nickname.string,t=this.oldHeadName.replace(/&/g,"%26"),n=new i.ReqUpdateUserInfo(app.UserManager().GetUserInfo.token,e,t);app.UserManager().RequestUpdateUserInfo(n)},t.prototype.isHeadNode=function(e){return!(!this.layerChooseHead.getChildByName(e)&&"facebook"!=e)},__decorate([s(cc.EditBox)],t.prototype,"EDI_Nickname",void 0),__decorate([s(cc.Node)],t.prototype,"layerChooseHead",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Mgr/UserManager":"UserManager"}],UIPlayerInfoBonusBalance:[function(e,t){"use strict";cc._RF.push(t,"2303bF8FQdDio74FclrsvS0","UIPlayerInfoBonusBalance");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=(e("../../../Common/Define/GameEventDefine"),e("../../../Common/Define/UINameDefine")),a=(e("../../../Common/Define/ShareDefine"),e("../../../Common/Define/TrackEventName"),cc._decorator),r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.salNumBalance=null,t.salNumBonus=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIPlayerInfoBonusBalance"},t.prototype.OnShow=function(){app.ComTool().H5Platform()&&(1==app.Client.GetDownload().active?this.GetWndComponent("nodeBonusBalance",cc.Widget).top=149.15:this.GetWndComponent("nodeBonusBalance",cc.Widget).top=69.15),this.salNumBalance.string=app.GameConfigManager().GetCurrency+app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.gold),this.salNumBonus.string=app.GameConfigManager().GetCurrency+app.ScoreUtil().toFixed(app.UserManager().GetUserInfo.bonus)},t.prototype.OnClick=function(e){"btn_bonus"==e&&(this.CloseForm(),app.FormManager().IsFormShow(i.UINameDefine.UIBonusUnfrozen)||app.FormManager().ShowForm(i.UINameDefine.UIBonusUnfrozen))},t.prototype.OnClose=function(){},__decorate([s(cc.Label)],t.prototype,"salNumBalance",void 0),__decorate([s(cc.Label)],t.prototype,"salNumBonus",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/TrackEventName":"TrackEventName","../../../Common/Define/UINameDefine":"UINameDefine"}],UIPromoteMemberLayer_H:[function(e,t){"use strict";cc._RF.push(t,"68e78e3BalGYKMm7mWmmH8n","UIPromoteMemberLayer_H");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Model/D_PromoteMember"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editboxMemberId=null,t.itemPrefabNameH=null,t.PageNum=1,t.MaxPage=2,t.isAddPage=!1,t.SelLevel="0",t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.RegEvent(i.GameEventDefine.GET_DIRECTDETAILLIST,this.OnGetDirectList),this.selectEndLevelStr=cc.find("/btn_select/btn_select/lbl",this.node).getComponent(cc.Label)},t.prototype.OnEnable=function(){this.PageNum=1,this.currentSelectIdx=0,this.MaxPage=9999,this.SelLevel="0",this.selectEndLevelStr.string=app.i18n.t("UI_PromoteMeberAllLevel"),this.QuestServerInfo(),this.setTypeNode()},t.prototype.OnGetDirectList=function(){var e=a.default.ins.dtailList;this.setRecordListData(),cc.find("/node_btn/label",this.node).getComponent(cc.Label).string=""+this.PageNum,(this.isAddPage&&0==e.length||1==this.PageNum&&0==e.length||e.length<10)&&(this.MaxPage=this.PageNum),app.Client.OnEvent(i.GameEventDefine.TOP_MAINSCROLLVIEW)},t.prototype.setTypeNode=function(){var e=cc.find("btn_select/btn_select/layer_select/toggleContainer",this.node);if(!(e.childrenCount>1))for(var t=Number(app.UserManager().UserInfo.user_config.agent_sub_level),n=0;n<=t;n++){var o=cc.instantiate(cc.find("btn_select/btn_select/layer_select/toggle_levelall",this.node)),i=0==n?app.i18n.t("UI_PromoteMeberAllLevel"):app.i18n.t("UI.MakeMoney_1_MakeGold_1")+n;cc.find("Background/lbl",o).getComponent(cc.Label).string=i,cc.find("checkmark/lbl",o).getComponent(cc.Label).string=i,o.getComponent(cc.Toggle).checkEvents[0].customEventData=n.toString(),o.active=!0,e.addChild(o)}},t.prototype.setRecordListData=function(){for(var e=a.default.ins.dtailList,t=cc.find("content",this.node),n=0;n<t.children.length;n++)(o=t.children[n]).active=!1;for(n=0;n<e.length;n++){var o=e[n],i=t.children[n]?t.children[n]:cc.instantiate(this.itemPrefabNameH);if(i){for(var r=[app.ComUtil().cutStr(o.nickname,17),o.uid,o.team_num,o.level,o.create_time.substring(0,o.create_time.lastIndexOf(":")),app.ScoreUtil().formatScore22(o.total_cash)],s=0;s<i.children.length&&s<r.length;++s)i.children[s].children[0].getComponent(cc.Label).string=""+r[s];i.active=!0,t.children[n]||t.addChild(i)}}cc.find("icon_zw",this.node)&&(cc.find("icon_zw",this.node).active=0==e.length)},t.prototype.openlevelSelect=function(){var e=cc.find("btn_select/btn_select/layer_select/toggleContainer",this.node);e.active=!e.active},t.prototype.QuestServerInfo=function(){var e=this.getTime(this.currentSelectIdx),t={page:this.PageNum,start_time:"",end_time:"",nickname:"",level:"0"};e&&(t.start_time=e[0],t.end_time=e[1]),t.level=this.SelLevel,this.editboxMemberId.string&&(t.nickname=this.editboxMemberId.string),app.PromoteMainManager().RequstDirectdetailList(t)},t.prototype.OnClick=function(e,t,n){if("btn_right"!=e)if("btn_left"!=e){if("toggle1"!=e&&"toggle2"!=e&&"toggle3"!=e&&"toggle4"!=e&&"toggle5"!=e)return"toggle_levelall"==e?(this.selectEndLevelStr.string=t.node.children[0].getChildByName("lbl").getComponent(cc.Label).string,cc.find("btn_select/btn_select/layer_select/toggleContainer",this.node).active=!1,this.SelLevel=n,this.PageNum=1,this.MaxPage=9999,void this.QuestServerInfo()):void("btn_select"!=e||this.openlevelSelect());this.setSelectTime(n)}else this.PageNum>1&&(this.PageNum--,this.isAddPage=!1,this.QuestServerInfo());else this.PageNum&&this.PageNum<this.MaxPage&&(this.PageNum++,this.isAddPage=!0,this.QuestServerInfo())},t.prototype.serchEvent=function(){this.PageNum=1,this.QuestServerInfo()},t.prototype.setSelectTime=function(e){app.ComUtil().playBtnClick(),this.currentSelectIdx=e,this.PageNum=1,this.MaxPage=9999,this.QuestServerInfo()},t.prototype.getTime=function(e){if(0==e)return null;var t=new Date;return[new Date(t.getTime()-864e5*[0,1,3,7,30][e]).format("yyyy-MM-dd HH:mm:ss"),t.format("yyyy-MM-dd HH:mm:ss")]},__decorate([c(cc.EditBox)],t.prototype,"editboxMemberId",void 0),__decorate([c(cc.Prefab)],t.prototype,"itemPrefabNameH",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Model/D_PromoteMember":"D_PromoteMember"}],UIReceiveRedEnvelope:[function(e,t){"use strict";cc._RF.push(t,"93126vpGYpJEZc7sOM4oHFd","UIReceiveRedEnvelope");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Define/HttpServerDefine"),i=(e("../../Common/Define/GameEventDefine"),e("../../Common/Base/BaseForm")),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelCount=null,t.hongbao_Open=null,t.hongbao_Close=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIReceiveRedEnvelope",this.RegEvent(o.HttpAPI.GET_Redenvelope,this.onGetRedenvelope)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.hongbao_Open.active=!1,this.hongbao_Close.active=!0},t.prototype.OnClick=function(e){"btn_Close"==e?this.CloseForm():"btn_Get"==e&&app.HNoticeManager().RequestGetRedenvelope()},t.prototype.onGetRedenvelope=function(e){this.hongbao_Open.active=!0,this.hongbao_Close.active=!1,this.LabelCount.string=e.gold},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.UserManager().RequstUserWallet()},__decorate([s(cc.Node)],t.prototype,"hongbao_Open",void 0),__decorate([s(cc.Node)],t.prototype,"hongbao_Close",void 0),__decorate([s(cc.Label)],t.prototype,"LabelCount",void 0),__decorate([r],t)}(i.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/HttpServerDefine":"HttpServerDefine"}],UIRechargeInfo:[function(e,t){"use strict";cc._RF.push(t,"b8790erSmtIPZFSg4JtvXgD","UIRechargeInfo");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/HttpServerDefine"),r=e("../../Common/Define/UINameDefine"),s=e("../../Common/Define/EventWaitType"),c=e("../../Common/Define/TrackEventName"),p=e("../../Common/Define/TextDefine"),l=e("../../Common/Component/EditBoxRegExp"),h=cc._decorator,d=h.ccclass,u=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UserName_EditBox=null,t.Phone_EditBox=null,t.Email_EditBox=null,t.lblShopNum=null,t.lblAmountNum=null,t.NextPresented=null,t.Upid_EditBox=null,t.Taxid_EditBox=null,t.ZipCode_Editbox=null,t.Encrypted_EditBox=null,t.Upid_Node=null,t.BankUserName_Node=null,t.UserPhoneNumber_Node=null,t.UserEmail=null,t.Taxid_Node=null,t.lblCpfNode=null,t.ZipCode_Node=null,t.Encrypted_Node=null,t.RFC=null,t.RFC_EditBox=null,t.gold_icon=null,t.SendShopJson=null,t}return __extends(t,e),t.prototype.OnLoad=function(){var e=this;this.JS_Name="UIRechargeInfo",this._urlIdx=0,this.lblShopNum.string="",this.lblAmountNum.string="",this.UserName_EditBox.string="",this.Phone_EditBox.string="",this.Email_EditBox.string="",this.RegEvent(i.GameEventDefine.COMPANY_PAYMENT,function(){e.CloseForm()}),this.gold_icon=this.GetWndNode("bg/layer/scrollview/view/content/bg_li/node_amount/label_symbol/spr_icon"),this.RFC_EditBox.addComponent(l.default).initRegExp(l.RegExpType.test)},t.prototype.OnShow=function(e){var t=app.LocalDataManager().GetConfigObject("ShopAbroadPay");t&&(this.UserName_EditBox.string=t.name?t.name:"",this.Phone_EditBox.string=t.phone?t.phone:"",this.Email_EditBox.string=t.email?t.email:"",this.Taxid_EditBox.string=t.taxid?app.ComUtil().translate(t.taxid):"",this.ZipCode_Editbox.string=t.zipcode?t.zipcode:"",this.Encrypted_EditBox.string=t.user_wallet?t.user_wallet:"",this.RFC_EditBox.string=t.pay_rfc?t.pay_rfc:""),this.initJson(e),this.setData(e),app.ComTool().H5Platform()?this.node.scale=1:this.node.scale=.7,this.onGetFaqInfo();var n=app.GameConfigManager().GetGoldIcomCondition;this.gold_icon.active=n},t.prototype.initJson=function(e){if(this.SendShopJson={account:"",channel_id:0,amount:0,Reward:0,id:0,name:"",phone:"",email:"",send_percent:0,is_sale:0,is_discount:0,is_limited:0,card_id:0,taxid:"",zipcode:"",token:"",is_send:0,user_wallet:"",join_activity:0,is_limit_time:0,pay_type:0,bank_id:0,usdt_target_type:0,pay_rfc:""},!e.id){var t=app.StoreManager().GetDefaultChannel(),n=app.StoreManager().GetDefaultSubChannel();this.SendShopJson.channel_id=n.channel_id,this.SendShopJson.id=t.id}},t.prototype.setData=function(e){for(var t in e)this.SendShopJson.hasOwnProperty(t)&&(this.SendShopJson[t]=e[t]);app.StoreManager().ChosePayChennelId=this.SendShopJson.channel_id;var n=app.StoreManager().GetChannel(this.SendShopJson.channel_id),o=app.StoreManager().GetSubChannel(this.SendShopJson.channel_id),i=Number(this.SendShopJson.amount)+Number(this.SendShopJson.Reward);this.lblShopNum.string=""+i;var a=app.GameConfigManager().GetCurrency;1==n.is_usdt&&(this.lblShopNum.string=""+Big(i).times(Number(n.rate)).toNumber(),a=app.i18n.t("UI_Shop_USDT_TetherText")),this.lblAmountNum.string=a+this.SendShopJson.amount+o.multiple_unit,this.NextPresented&&(this.SendShopJson.send_percent>0?(i=Number(this.SendShopJson.amount)+Number(this.SendShopJson.amount)*Number(this.SendShopJson.send_percent)/100,this.lblShopNum.string=""+app.ScoreUtil().coinFixed2(i),this.NextPresented.getChildByName("label_chip_m").active=!0,1==n.is_usdt&&(this.lblShopNum.string=""+Big(i).times(Number(n.rate)).toNumber(),this.NextPresented.getChildByName("label_chip_m").active=!1),this.NextPresented.getChildByName("label_plus").getComponent(cc.Label).string="+"+this.SendShopJson.send_percent+"%",this.NextPresented.getChildByName("label_chip_m").getComponent(cc.Label).string=""+this.SendShopJson.amount,this.NextPresented.active=!0):this.NextPresented.active=!1);var r=app.GameConfigManager().GetGameConfig().pay_userinfo_fields;r&&(this.Upid_Node.active=1==r.pay.upi,this.BankUserName_Node.active=!!r.pay.name,this.UserPhoneNumber_Node.active=!!r.pay.phone,this.UserEmail.active=!!r.pay.email,this.ZipCode_Node.active=1==r.pay.zipcode,this.Taxid_Node.active=!!r.pay.taxid,this.lblCpfNode.active=this.Taxid_Node.active&&""!=r.cpf_tips,this.lblCpfNode.getComponent(cc.Label).string=r.cpf_tips,this.RFC.active=!!r.pay.rfc,this.Encrypted_Node.active=!1),2==n.usdt_type&&n.is_usdt&&(this.Upid_Node.active=!1,this.BankUserName_Node.active=!1,this.UserPhoneNumber_Node.active=!1,this.UserEmail.active=!1,this.RFC.active=!1,this.ZipCode_Node.active=!1,this.Taxid_Node.active=!1,this.lblCpfNode.active=!1,this.Encrypted_Node.active=!0),0==app.StoreManager().GetIsPop()&&this.gotoPay()},t.prototype.gotoPay=function(){var e=this,t=app.StoreManager().GetChannel(this.SendShopJson.channel_id),n=app.StoreManager().GetSubChannel(this.SendShopJson.channel_id);if(1==app.StoreManager().GetIsPop()){if(t.is_usdt&&2==t.usdt_type){if(""==this.Encrypted_EditBox.string&&this.Encrypted_Node.active)return void app.SysNotifyManager().ShowToast("UI_Cash_USDT_inputEncryptedaccount")}else{if(this.BankUserName_Node.active){if(""==this.UserName_EditBox.string)return void app.SysNotifyManager().ShowToast("UI.System_17");if(app.StringUtil().isSpecialChar(this.UserName_EditBox.string))return void app.SysNotifyManager().ShowToast("UI.System_47")}if(""==this.Phone_EditBox.string&&this.UserPhoneNumber_Node.active)return void app.SysNotifyManager().ShowToast("UI.System_18");if(""==this.Email_EditBox.string&&this.UserEmail.active)return void app.SysNotifyManager().ShowToast("UI.System_19");if(""==this.Taxid_EditBox.string&&this.Taxid_Node.active)return void app.SysNotifyManager().ShowToast("Code_PleaseEnterTaxid");if(""==this.RFC_EditBox.string&&this.RFC.active)return void app.SysNotifyManager().ShowToast("UI_Rfc_Null");if(""==this.ZipCode_Editbox.string&&this.ZipCode_Node.active)return void app.SysNotifyManager().ShowToast("Code_PleaseEnterZipCode");if(this.UserEmail.active&&(this.Email_EditBox.string=this.Email_EditBox.string.replace(/\s+/g,""),!/^[\w.\-]+@(?:[a-z0-9]+(?:-[a-z0-9]+)*\.)+[a-z]{2,3}$/.test(this.Email_EditBox.string)))return void app.SysNotifyManager().ShowToast("UI.System_20")}this.SendShopJson.name=this.UserName_EditBox.string,this.SendShopJson.phone=this.Phone_EditBox.string,this.SendShopJson.email=this.Email_EditBox.string,this.SendShopJson.taxid=this.Taxid_EditBox.string.replace(/[&\|\\\*^%$ #@\-.]/g,""),this.SendShopJson.zipcode=this.ZipCode_Editbox.string,this.SendShopJson.user_wallet=this.Encrypted_EditBox.string,this.RFC.active&&(this.SendShopJson.pay_rfc=this.RFC_EditBox.string),app.LocalDataManager().SetConfigObject("ShopAbroadPay",this.SendShopJson)}else this.SendShopJson.name="",this.SendShopJson.phone="",this.SendShopJson.email="",this.SendShopJson.taxid="",this.SendShopJson.zipcode="",this.SendShopJson.user_wallet="",this.SendShopJson.pay_rfc="";app.NativeMgr().AdjustlogEvent(c.default.OPEN_RECHARGE),app.EventTrackManager().LogEvent(c.default.OPEN_RECHARGE,{content_ids:this.SendShopJson.id,content_name:"PRODUCT_"+this.SendShopJson.amount,currency:"PHP",value:this.SendShopJson.amount});var o=0;this.SendShopJson.send_percent>0&&0==this.SendShopJson.is_sale&&(o=1);var p=app.GameConfigManager().GetGameConfig().pay_api_urls;p&&p.length>0&&(this.currentUrl=p[this._urlIdx],this._urlIdx++,this._urlIdx>=p.length&&(this._urlIdx=0));var l=(this.currentUrl?this.currentUrl:app.ClientConfigManager().ApiUrl)+a.HttpAPI.GOODS_PAY+"?";if(this.SendShopJson.token=app.UserManager().GetUserInfo.token,this.SendShopJson.is_send=o,l+=app.HttpRequest().formatParams(this.SendShopJson),t.is_usdt&&2==t.usdt_type){var h={token:app.UserManager().GetUserInfo.token,channel_id:this.SendShopJson.channel_id,id:this.SendShopJson.channel_id,amount:this.SendShopJson.amount,type:n.type,is_send:this.SendShopJson.is_send?1:0,is_sale:this.SendShopJson.is_sale,user_wallet:this.Encrypted_EditBox.string,join_activity:this.SendShopJson.join_activity,pay_rfc:this.SendShopJson.pay_rfc};return app.StoreManager().RequstPayGood(h),void this.CloseForm()}var d=function(){app.Client.OnEvent(i.GameEventDefine.CLOSE_PAY),e.CloseForm()};return 2==t.return_type?(app.StoreManager().RequstPayGood(this.SendShopJson),app.Client.OnEvent("ModalLayer",s.EventWaitType.OpenNetNow),void d()):1==t.return_type?(d(),void cc.sys.openURL(encodeURI(l))):void(3==t.return_type?(1==app.GameConfigManager().GetGameConfig().is_open_browser?cc.sys.openURL(encodeURI(l)):app.ComTool().H5Platform()?app.FormManager().ShowForm(r.UINameDefine.UIInsideWebView,{url:l}):cc.sys.openURL(encodeURI(l)),d()):cc.sys.openURL(encodeURI(l)))},t.prototype.OnClick=function(e){"btn_service"!=e?"button_withdraw"==e&&this.gotoPay():cc.systemEvent.emit("open_help_panel")},t.prototype.TaxChangeTextStr=function(e){if(e){var t=app.ComUtil().translate(e);t&&(this.Taxid_EditBox.string=t)}},t.prototype.TaxEndTextStr=function(e){e.string&&(/^[0-9.-]+$/.test(e.string)||(this.Taxid_EditBox.string=""))},t.prototype.onGetFaqInfo=function(){var e=app.TextManager().GetTextInfo(p.TextDefine.usdt_withdraw);e&&(this.GetWndNode("/bg/layer/scrollview/view/content/layout/li_Encrypted/lbl_encrypted",this.node).getComponent(cc.Label).string=e)},__decorate([u(cc.EditBox)],t.prototype,"UserName_EditBox",void 0),__decorate([u(cc.EditBox)],t.prototype,"Phone_EditBox",void 0),__decorate([u(cc.EditBox)],t.prototype,"Email_EditBox",void 0),__decorate([u(cc.Label)],t.prototype,"lblShopNum",void 0),__decorate([u(cc.Label)],t.prototype,"lblAmountNum",void 0),__decorate([u(cc.Node)],t.prototype,"NextPresented",void 0),__decorate([u(cc.EditBox)],t.prototype,"Upid_EditBox",void 0),__decorate([u(cc.EditBox)],t.prototype,"Taxid_EditBox",void 0),__decorate([u(cc.EditBox)],t.prototype,"ZipCode_Editbox",void 0),__decorate([u(cc.EditBox)],t.prototype,"Encrypted_EditBox",void 0),__decorate([u(cc.Node)],t.prototype,"Upid_Node",void 0),__decorate([u(cc.Node)],t.prototype,"BankUserName_Node",void 0),__decorate([u(cc.Node)],t.prototype,"UserPhoneNumber_Node",void 0),__decorate([u(cc.Node)],t.prototype,"UserEmail",void 0),__decorate([u(cc.Node)],t.prototype,"Taxid_Node",void 0),__decorate([u(cc.Node)],t.prototype,"lblCpfNode",void 0),__decorate([u(cc.Node)],t.prototype,"ZipCode_Node",void 0),__decorate([u(cc.Node)],t.prototype,"Encrypted_Node",void 0),__decorate([u(cc.Node)],t.prototype,"RFC",void 0),__decorate([u(cc.EditBox)],t.prototype,"RFC_EditBox",void 0),__decorate([d],t)}(o.default);n.default=_,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Component/EditBoxRegExp":"EditBoxRegExp","../../Common/Define/EventWaitType":"EventWaitType","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/HttpServerDefine":"HttpServerDefine","../../Common/Define/TextDefine":"TextDefine","../../Common/Define/TrackEventName":"TrackEventName","../../Common/Define/UINameDefine":"UINameDefine"}],UIRechargeLimitedTime:[function(e,t){"use strict";cc._RF.push(t,"c0eb5dDRJ9O2YAiuKWkh4AJ","UIRechargeLimitedTime");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.RechargeItem=null,t.lb_hour=null,t.lb_minute=null,t.lb_second=null,t.icons=[],t.rtDesc=null,t.LimitDateEndTime=0,t.ActivityEnd=!1,t.refreshTime=!1,t}return __extends(t,e),t.prototype.OnLoad=function(){var e=this;this.JS_Name="UIRechargeLimitedTime",this.RegEvent(i.GameEventDefine.UPDATE_USER_VIP,this.onGetGoodsList),this.RegEvent(i.GameEventDefine.LIMIT_TIME_RECHARGE,this.onLimitTimeRecharge),this.RegEvent(i.GameEventDefine.COMPANY_PAYMENT,function(){e.refreshTime=!0,e.onGetGoodsList()})},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.setBtnColorLbl(!0),this.unschedule(this.UpdateSeconds),this.initTime("","",""),this.refreshTime=!1,this.rechargeData=null,this.content.active=!1;var n=app.StoreManager().GetGoodsList;n||app.StoreManager().RequstGoodsList(),this.onLimitTimeRecharge()},t.prototype.onGetGoodsList=function(){app.ActivityManager().RequestLimitTimeRecharge()},t.prototype.onLimitTimeRecharge=function(){var e=app.ActivityManager().GetLimitTimeRecharge;if(this.content.removeAllChildren(),this.content.active=!0,this.LimitDateEndTime=app.ActivityManager().LimitEndTime(),e.cur_time<this.LimitDateEndTime){this.refreshTime||(this.UpdateSeconds(),this.schedule(this.UpdateSeconds,1));var t=e.list;this.rtDesc.string=e.content;for(var n=0;n<t.length;n++){var o=t[n],i=cc.instantiate(this.RechargeItem);i.data={Reward:o.send_amount,amount:o.amount},this.GetWndComponent("Background/num/lb_num",cc.Label,i).string="+ "+o.send_amount,this.GetWndComponent("Background/lb_amount",cc.Label,i).string=""+o.amount;var a=o.amount<100?0:o.amount<1e3?1:2;this.GetWndComponent("Background/spr_icon",cc.Sprite,i).spriteFrame=this.icons[a];var r=this.GetWndNode("frequency",i);this.GetWndComponent("lb_left",cc.Label,r).string=""+o.use_times,this.GetWndComponent("lb_right",cc.Label,r).string=""+o.limit_times;var s=Number(o.use_times)!=Number(o.limit_times);r.active=s,this.GetWndNode("SoldOut",i).active=!s,i.getComponent(cc.Button).interactable=s,i.is_show=s,i.active=!0,i.parent=this.content}this.GetCheckItem()}else app.SysNotifyManager().ShowToast("UI_Rechargetip2"),this.ActivityEnd=!0,this.CloseForm()},t.prototype.GetCheckItem=function(){var e=this.content.children;if(this.refreshTime&&this.rechargeData)for(var t=0;t<e.length;t++){var n=e[t];if(this.rechargeData.amount==n.data.amount){var o=n.is_show;this.GetWndNode("checkmark",n).active=o,this.rechargeData=o?n.data:null;break}}if(!this.rechargeData)for(t=0;t<e.length;t++)if(o=(n=e[t]).is_show){this.GetWndNode("checkmark",n).active=o,this.rechargeData=n.data;break}this.setBtnColorLbl(null!=this.rechargeData)},t.prototype.setBtnColorLbl=function(e){var t=this.GetWndNode("layer/btn_recharge");t.getComponent(cc.Button).interactable=e,this.GetWndNode("Background",t).color=e?new cc.Color(255,255,255):new cc.Color(101,101,101);var n=this.GetWndNode("Background/lb_recharge",t);n.color=e?new cc.Color(255,255,255):new cc.Color(101,101,101),n.getComponent(cc.Label).string=e?app.i18n.t("UI_To_recharge"):app.i18n.t("UI_Come_again_tomorrow")},t.prototype.UpdateSeconds=function(){if(this.LimitDateEndTime>0){var e=Math.round(Date.now()/1e3)+app.ActivityManager().GetDiffTime,t=Number(this.LimitDateEndTime)-e,n=Math.floor(t%60)+"";Number(n)<10&&(n="0"+n);var o=Math.floor(t/60%60)+"";Number(o)<10&&(o="0"+o);var i=Math.floor(t/3600)+"";Number(i)<10&&(i="0"+i),this.initTime(i,o,n),t<=1&&(this.initTime("00","00","00"),this.ActivityEnd=!0,this.unschedule(this.UpdateSeconds))}},t.prototype.initTime=function(e,t,n){this.lb_hour.string=e,this.lb_minute.string=t,this.lb_second.string=n},t.prototype.OnClick=function(e,t){if("tog_money"==e)return this.GetAllBtnMarkHide(),this.GetWndNode("checkmark",t).active=!0,void(this.rechargeData=t.data);if("btn_recharge"==e){if(app.UserManager().GetIsOfficialPopup())return;return this.ActivityEnd?(app.SysNotifyManager().ShowToast("UI_Rechargetip2"),void this.CloseForm()):this.rechargeData?void this.goToEvent():void app.SysNotifyManager().ShowToast("UI_Rechargetip1")}},t.prototype.GetAllBtnMarkHide=function(){var e=this;this.content.children.forEach(function(t){e.GetWndNode("checkmark",t).active=!1})},t.prototype.goToEvent=function(){var e={Reward:this.rechargeData.Reward,is_discount:1,amount:this.rechargeData.amount,is_sale:1,is_limited:1,is_limit_time:1};app.FormManager().ShowForm(a.UINameDefine.UIRechargeInfo,e)},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.unschedule(this.UpdateSeconds)},__decorate([c(cc.Node)],t.prototype,"content",void 0),__decorate([c(cc.Node)],t.prototype,"RechargeItem",void 0),__decorate([c(cc.Label)],t.prototype,"lb_hour",void 0),__decorate([c(cc.Label)],t.prototype,"lb_minute",void 0),__decorate([c(cc.Label)],t.prototype,"lb_second",void 0),__decorate([c([cc.SpriteFrame])],t.prototype,"icons",void 0),__decorate([c(cc.RichText)],t.prototype,"rtDesc",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIRechargeTime:[function(e,t){"use strict";cc._RF.push(t,"a93cczqJhZPWIZ3ANBPrOog","UIRechargeTime");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lblBeforeNum=null,t.lblAfterNum=null,t.lblCount=null,t.lblpercent=null,t.lblpercent2=null,t.nodeTime=null,t.rtDesc=null,t.biaoqian=null,t.LimitDateEndTime=0,t.DiffTime=0,t}return __extends(t,e),t.prototype.OnLoad=function(){this.JS_Name="UIRechargeTime",this.lblAfterNum.string="",this.lblCount.string="",this.lblpercent.string="",this.lblpercent2.string="",this.rtDesc.string="<b><color=#ffffff>"+app.i18n.t("UI.Charge_rechargetime_1")+"</c><color=#ffff></b>",this.RegEvent(i.GameEventDefine.CLOSE_PAY,this.onClose),this.RegEvent(i.GameEventDefine.GET_GOODS_LIST,this.onGetGoodsList),this.RegEvent(i.GameEventDefine.GET_LIMIT_RECHARGE,this.onLimitRecharge)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.DiffTime=0,app.StoreManager().RequstGoodsList()},t.prototype.onGetGoodsList=function(){app.ActivityManager().RequstLimitRecharge()},t.prototype.onLimitRecharge=function(){var e=app.ActivityManager().GetLimitRechargeInfo(),t=1==Number(e.status),n=1!==e.is_limited,o=app.ComUtil().CheckDateEventTimeIn(e.start_time,e.end_time,e.cur_time);this.LimitDateEndTime=e.end_time;var i=e.cur_time-Math.round(Date.now()/1e3);if(i&&(this.DiffTime=i),t&&n&&o){var a=e.amount,r=a*e.percent/100;this.lblAfterNum.string=""+a,this.lblpercent2.string=""+r,this.lblpercent.string=1==e.bonus_type?app.i18n.t("Shop_Bonus"):app.i18n.t("Shop_Cash");var s=app.GameConfigManager().GetCurrency;this.lblCount.string=s+a,cc.find("scrollview/view/content/bg_li/button_withdraw/Background/Label",this.node).getComponent(cc.Label).string=s+a}else this.CloseForm()},t.prototype.UpdateSeconds=function(){if(this.node.active&&this.LimitDateEndTime>0){var e=Math.round(Date.now()/1e3)+this.DiffTime,t=Number(this.LimitDateEndTime)-e,n=Math.floor(t%60)+"";Number(n)<10&&(n="0"+n);var o=Math.floor(t/60%60)+"";Number(o)<10&&(o="0"+o);var i=Math.floor(t/3600)+"";Number(i)<10&&(i="0"+i);var a=i+":"+o+":"+n;this.nodeTime.getComponent(cc.Label).string=""+a,this.nodeTime.active=!0,t<=1&&this.CloseForm()}},t.prototype.OnClick=function(e){if("button_withdraw"!=e);else{if(app.UserManager().GetIsOfficialPopup())return;this.goToEvent()}},t.prototype.goToEvent=function(){var e=app.ActivityManager().GetLimitRechargeInfo(),t={Reward:e.amount*e.percent/100,is_discount:1,amount:e.amount,is_sale:1,is_limited:1};app.FormManager().ShowForm(a.UINameDefine.UIRechargeInfo,t)},t.prototype.onClose=function(){this.CloseForm()},__decorate([c(cc.Label)],t.prototype,"lblBeforeNum",void 0),__decorate([c(cc.Label)],t.prototype,"lblAfterNum",void 0),__decorate([c(cc.Label)],t.prototype,"lblCount",void 0),__decorate([c(cc.Label)],t.prototype,"lblpercent",void 0),__decorate([c(cc.Label)],t.prototype,"lblpercent2",void 0),__decorate([c(cc.Node)],t.prototype,"nodeTime",void 0),__decorate([c(cc.RichText)],t.prototype,"rtDesc",void 0),__decorate([c(cc.Node)],t.prototype,"biaoqian",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIRecharge:[function(e,t){"use strict";cc._RF.push(t,"4f4a5VTjrRJdI0T0vVnFmpl","UIRecharge");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lb_hour=null,t.lb_minute=null,t.lb_second=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.RegEvent(i.GameEventDefine.LIMIT_TIME_RECHARGE,this.onLimitTimeRecharge)},t.prototype.OnEnable=function(){this.initTime("","",""),app.ActivityManager().RequestLimitTimeRecharge()},t.prototype.onLimitTimeRecharge=function(){var e=app.UserManager().GetUserRechargeActivity;this.LimitDateEndTime=app.ActivityManager().LimitEndTime(),e.status&&this.LimitDateEndTime>0?(this.UpdateSeconds(),this.schedule(this.UpdateSeconds,1)):this.node.active=!1},t.prototype.UpdateSeconds=function(){if(this.LimitDateEndTime>0){var e=Math.round(Date.now()/1e3)+app.ActivityManager().GetDiffTime,t=Number(this.LimitDateEndTime)-e,n=Math.floor(t%60)+"";Number(n)<10&&(n="0"+n);var o=Math.floor(t/60%60)+"";Number(o)<10&&(o="0"+o);var i=Math.floor(t/3600)+"";Number(i)<10&&(i="0"+i),this.initTime(i,o,n),t<=1&&(app.UserManager().GetUserRechargeActivity.status=0,this.initTime("00","00","00"),this.node.active=!1)}},t.prototype.initTime=function(e,t,n){this.lb_hour.string=e,this.lb_minute.string=t,this.lb_second.string=n},t.prototype.OnClick=function(e){"UIRecharge"==e&&app.FormManager().ShowForm(a.UINameDefine.UIRechargeLimitedTime)},t.prototype.OnDisable=function(){this.unschedule(this.UpdateSeconds)},__decorate([c(cc.Label)],t.prototype,"lb_hour",void 0),__decorate([c(cc.Label)],t.prototype,"lb_minute",void 0),__decorate([c(cc.Label)],t.prototype,"lb_second",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIRedDot:[function(e,t){"use strict";cc._RF.push(t,"489ac9HoJpHao5o2dkYSe5T","UIRedDot");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/ShareDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.RedDotIDArr=[],t.SprRedNode=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.SprRedNode.active=!1,this.RegEvent(i.GameEventDefine.SHOW_REDDOT_RECEIVE,this.onShow_RedDot_Receive)},t.prototype.OnEnable=function(){this.onShow_RedDot_Receive(app.RedDotManager().ShowRedDotDataResult)},t.prototype.start=function(){},t.prototype.onShow_RedDot_Receive=function(e){if(e){for(var t=0;t<this.RedDotIDArr.length;t++){var n=this.RedDotIDArr[t],o=e[a.RedDotEnum[n]];if(o&&o.is_show){if(this.SprRedNode.active=o.is_show,o.value&&n===a.RedDotEnum.mail){var i=this.GetWndComponent("label_num",cc.Label,this.SprRedNode);i&&(i.string=o.value>=99?"99+":o.value)}return}}this.SprRedNode.active=!1}},__decorate([c({tooltip:"\u7ea2\u70b9\u7c7b\u578b\u96c6\u5408 \u6709\u5173\u90fd\u9009",type:cc.Enum(a.RedDotEnum)})],t.prototype,"RedDotIDArr",void 0),__decorate([c(cc.Node)],t.prototype,"SprRedNode",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine"}],UIRedeemCode:[function(e,t){"use strict";cc._RF.push(t,"209b35q3BxFn6qwtQgtmSBE","UIRedeemCode");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.conCode=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIRedeemCode",this.RegEvent(i.GameEventDefine.GET_OPEN_REDBAG,this.On_OpenRedBag)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.node.scale=app.ComTool().H5Platform()?1:.7},t.prototype.On_OpenRedBag=function(e){app.GoldRewardManager().FormGoldReward({gold:e.gold,source:app.i18n.t("UI_Reward")})},t.prototype.OnSendRedBag=function(){app.ActivityManager().RequestOpenRedBag(this.conCode.string)},t.prototype.OnClick=function(e){"receive"!=e||this.OnSendRedBag()},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},__decorate([s(cc.EditBox)],t.prototype,"conCode",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIRegion:[function(e,t){"use strict";cc._RF.push(t,"f0972T7ikpAgY735iKNH1g+","UIRegion");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/UIBaseComponent"),i=e("../../Common/Define/LanguageDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadInit=function(){this.LanguageNodeList={},this.LanguageNodeList[1]=cc.find("toggle_Portuguese",this.node),this.LanguageNodeList[2]=cc.find("toggle_Spanish",this.node)},t.prototype.OnEnable=function(){this.InitLanSelect()},t.prototype.InitLanguageConfig=function(){},t.prototype.InitLanSelect=function(){var e=app.LanguageManager().GetLocalSelectRegion();e&&this.OnVisible(e)},t.prototype.OnVisible=function(e){for(var t in this.LanguageNodeList)if(Object.hasOwnProperty.call(this.LanguageNodeList,t)){var n=this.LanguageNodeList[t];n&&(cc.find("checkmark",n).active=e==t)}},t.prototype.OnClick=function(e){var t=this.getLanguage(e);""!=t&&(app.LanguageManager().SetSelectRegion(t),1==t?app.LanguageManager().SetLanguage(i.default.ptpt):app.LanguageManager().SetLanguage(i.default.eses),app.LoginManager().RemoveCurrentUser(),location.reload())},t.prototype.getLanguage=function(e){var t="";switch(e){case"toggle_Portuguese":t=1;break;case"toggle_Spanish":t=2}return t},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Define/LanguageDefine":"LanguageDefine"}],UIRoomList:[function(e,t){"use strict";cc._RF.push(t,"29450c+M0VPKYrAu4lNGa1N","UIRoomList");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/ShareDefine"),r=e("../../../Common/Define/UINameDefine"),s=e("../../common/GIDTool"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameName=null,t.typeLbl=null,t.goldLbl=null,t.goldTipLbl=null,t.toggleList=null,t.RoomScrollViewItemText=null,t.btn_gold=null,t.ScrollViewContent=null,t.typeLayer=null,t.goldLayer=null,t.SelectedBg=null,t.goldSelected=null,t.pointSelected=null,t.doubleNode=null,t.gameData=null,t.searchGid=0,t.gameMulti=0,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.ScrollViewContent=this.GetWndNode("ScrollViewPlayerRoom/view/content"),this.doubleNode=this.GetWndNode("typeSelection/double"),this.typeLayer=this.GetWndNode("typeSelection/double/point/layer"),this.goldLayer=this.GetWndNode("typeSelection/double/gold/layer"),this.SelectedBg=this.GetWndNode("typeSelection/double/SelectedBg"),this.goldSelected=this.GetWndNode("typeSelection/double/gold/goldSelected"),this.pointSelected=this.GetWndNode("typeSelection/double/point/pointSelected"),this.RegEvent(i.GameEventDefine.ROOM_LIST,this.InitRoomList)},t.prototype.OnShow=function(e){this.init();var t=e.gid;this.setGameName(app.RoomManager().GetGoldGame(t)),this.gameData=app.GameListManager().getGameRoomList(t),this.doubleNode.active=app.GameListManager().GetIsTypeShow,this.GetToggleView(),app.GameListManager().GetIsGameTruco&&this.GetTrucoView(),this.getToggleList()},t.prototype.setGameName=function(e){this.gameName.string=e},t.prototype.GetToggleView=function(){var e=this;this.toggleList.active=!0,this.toggleList.parent.active=!0,this.toggleList.children.forEach(function(t){app.ComTool().H5Platform()&&(t.width=223.33,e.toggleList.getComponent(cc.Layout).resizeMode=cc.Layout.ResizeMode.CONTAINER),t.active=!1})},t.prototype.GetTrucoView=function(){var e=Object.keys(this.gameData).length;if(this.toggleList.active=e>1,this.toggleList.parent.active=e>1,2==e)this.toggleList.getComponent(cc.Layout).resizeMode=cc.Layout.ResizeMode.CHILDREN;else if(1==e)for(var t in this.gameData[0])this.setGameName(t);this.toggleList.height=100},t.prototype.init=function(){this.searchGid=0,this.typeLbl.string=app.i18n.t("UI.cashout_0_main_5"),this.pointSelected.active=!0,this.searchPointView(this.pointSelected,!0),this.gameMulti=0,this.goldLbl.string=app.i18n.t("UI.cashout_0_main_5"),this.goldSelected.active=!0,this.searchPointView(this.goldSelected,!0),this.ScrollViewContent.removeAllChildren()},t.prototype.getToggleList=function(){var e=this.toggleList.children[0],t=0;for(var n in this.gameData){var o="";for(var i in this.gameData[n])o=i;var a=this.toggleList.children[t];a||((a=cc.instantiate(e)).parent=this.toggleList),this.GetWndComponent("Background/layout/label",cc.Label,a).string=o,this.GetWndComponent("checkmark/layout/label",cc.Label,a).string=o,this.GetWndComponent("Background/layout/icon",cc.Sprite,a).node.active=!1,this.GetWndComponent("checkmark/layout/icon",cc.Sprite,a).node.active=!1,a.gameName=o,""==app.GameListManager().GetTypeName&&0==t&&app.GameListManager().SetTypeName(o),app.GameListManager().GetTypeName==o&&(a.getComponent(cc.Toggle).isChecked=!0,this.OnGameRoomList()),a.active=!0,t++}app.ComTool().H5Platform()&&this.GetWndComponent("typeSelection",cc.Layout).updateLayout(),this.setRoomNodePos(t)},t.prototype.setRoomNodePos=function(e){if(app.ComTool().H5Platform()){var t=this.GetWndNode("title_row_remarch"),n=this.GetWndNode("ScrollViewPlayerRoom"),o=0,i=this.toggleList.active?0:100;this.doubleNode.active?(t.y=e>2?-453:-382,o=e>2?-502:-435):(t.y=-382+this.doubleNode.height+i,o=-435+this.doubleNode.height+i),n.getComponent(cc.Widget).top=Math.abs(o),n.getComponent(cc.Widget).updateAlignment()}},t.prototype.OnGameRoomList=function(){app.GameListManager().GetIsGameTruco&&this.setGameName(app.GameListManager().GetTypeName),app.HGameManager().GetRoomConfig()?this.InitRoomList():app.HGameManager().RequestRoomConfig()},t.prototype.getGameDataList=function(){for(var e in this.gameData){var t=this.gameData[e];if(t[app.GameListManager().GetTypeName])return t[app.GameListManager().GetTypeName]}return[]},t.prototype.InitRoomList=function(){app.GameListManager().SetOldGameType(),this.OnGoldTipLbl(),this.OnRematchTip();var e=this.getGameDataList();this.ScrollViewContent.removeAllChildren();var t=[];if(0==this.searchGid){for(var n=function(n){var o=e[n],i=app.HGameManager().GetRoomConfigByGid(o.gid);i&&(i.forEach(function(e){e.gid=o.gid}),t=t.concat(i))},o=0;o<e.length;o++)n(o);t.sort(function(e,t){return e.win_multi-t.win_multi});for(var i=0;i<t.length;i++){var a=t[i],r=cc.instantiate(this.RoomScrollViewItemText);this.ScrollViewContent.addChild(r),this.setItemInfo(r,a,a.gid)}this.updateScrollView()}},t.prototype.updateScrollView=function(){app.ComTool().H5Platform()&&(this.ScrollViewContent.getComponent(cc.Layout).updateLayout(),this.node.height=450+this.ScrollViewContent.height,this.node.parent.getComponent(cc.Layout).updateLayout())},t.prototype.setItemInfo=function(e,t,n){var o=new cc.Component.EventHandler;o.target=this.node,o.component="UIRoomList",o.handler="RoomItemClick",o.customEventData=String(t.way_id),e.getComponent(cc.Button).clickEvents=[],e.getComponent(cc.Button).clickEvents.push(o),e.opacity=255;var i=e.getChildByName("Layout");i.getChildByName("label_point").active=!app.GameListManager().GetIsGameTruco,i.getChildByName("label_point").getComponent(cc.Label).string=app.i18n.t("UI.TP_0_Main_1")+":"+t.min_gold,this.GetWndComponent("label_point/iocn_gold/label",cc.Label,i).string=app.GameConfigManager().GetCurrency,i.getChildByName("label_point2").active=app.GameListManager().GetIsGameTruco,i.getChildByName("label_point2").getComponent(cc.Label).string=app.i18n.t("UI.TP_0_Main_1")+":"+t.min_gold,this.GetWndComponent("label_point2/iocn_gold/label",cc.Label,i).string=app.GameConfigManager().GetCurrency,i.getChildByName("label_name").getComponent(cc.Label).string=app.GameListManager().GetTypeName,i.getChildByName("label_type").getComponent(cc.Label).string=this.getTypeView(n),i.getChildByName("label_type").active=app.GameListManager().GetIsTypeShow;var a=i.getChildByName("Layout_min");a.getChildByName("label_min").getComponent(cc.Label).string=""+Number(t.win_multi),a.active=!app.GameListManager().GetIsPoolDealRummy,this.GetWndComponent("iocn_gold/label",cc.Label,a).string=app.GameConfigManager().GetCurrency,i.getComponent(cc.Layout).updateLayout(),e.limit=t.min_gold,e.win_multi=Number(t.win_multi),e.gid=Number(n),e.active=!0},t.prototype.getTypeView=function(e){return app.GameListManager().GetPlayTypeName(e)},t.prototype.searchGameList=function(){var e=this;this.ScrollViewContent.children.forEach(function(t){0==e.gameMulti&&0==e.searchGid?t.active=!0:0!=e.gameMulti&&0!=e.searchGid?t.active=t.win_multi==e.gameMulti&&t.gid==e.searchGid:0==e.gameMulti&&0!=e.searchGid?t.active=t.gid==e.searchGid:0!=e.gameMulti&&0==e.searchGid&&(t.active=t.win_multi==e.gameMulti)}),this.updateScrollView()},t.prototype.RoomItemClick=function(e,t){if(!app.UserManager().GetIsOfficialPopup()){var n=e.target.limit;if(app.UserManager().GetUserInfo.gold<Number(n)){if(app.GameConfigManager().IsExperienceServer)return;app.ConfirmManager().ShowConfirm(a.ConfirmType.Confirm,app.i18n.t("SC_LessThanChips").replace("{S1}",String(n)),null,function(){app.ActivityManager().selectShop()})}else app.HallManager().EnterRoomGame(Number(t))}},t.prototype.OnClick=function(e,t,n){if("btn_back"!=e){if("gameName"==e||"gameName1"==e)return app.GameListManager().SetTypeName(t.gameName),this.init(),void this.OnGameRoomList();if("btn_help"!=e)return"pointSelected"==e?(this.goldLayer.active&&this.searchPointView(this.goldSelected),void this.searchPointView(t)):"goldSelected"==e?(this.typeLayer.active&&this.searchPointView(this.pointSelected),void this.searchGoldView(t)):"SelectedBg"==e?(this.typeLayer.active&&this.searchPointView(this.pointSelected),void(this.goldLayer.active&&this.searchPointView(this.goldSelected))):void("btn_all"!=e&&"btn_match"!=e&&"btn_single"!=e&&"btn_Pool_101"!=e&&"btn_Pool_201"!=e&&"btn_Deal_2"!=e&&"btn_Deal_3"!=e?"btn_gold"!=e||this.setGoldView(Number(t.gold)):this.setPointView(Number(n)));app.GameListManager().OpenGameHelp()}else app.FormManager().IsFormShow(r.UINameDefine.UIHall)||app.FormManager().ShowForm(r.UINameDefine.UIHall)},t.prototype.searchPointView=function(e,t){void 0===t&&(t=!1);var n=this.GetWndNode("layer",e.parent);n.active=!n.active,t&&(n.active=!1);var o=this.GetWndNode("icon_drop",e);o.scaleY=t?Math.abs(o.scaleY):-o.scaleY,o.color=n.active?new cc.Color(255,255,255):new cc.Color(147,172,211),this.SelectedBg.active=n.active,this.gameData&&(this.GetWndNode("btn_Pool_101",this.typeLayer).active=app.GameListManager().GetPlayPoolRummy,this.GetWndNode("btn_Pool_201",this.typeLayer).active=app.GameListManager().GetPlayPoolRummy,this.GetWndNode("btn_match",this.typeLayer).active=!app.GameListManager().GetIsPoolDealRummy,this.GetWndNode("btn_single",this.typeLayer).active=!app.GameListManager().GetIsPoolDealRummy,this.GetWndNode("btn_Deal_2",this.typeLayer).active=app.GameListManager().GetPlayDealRummy,this.GetWndNode("btn_Deal_3",this.typeLayer).active=app.GameListManager().GetPlayDealRummy)},t.prototype.setPointView=function(e){0==e&&(this.searchGid=0),app.GameListManager().GetIsGameRummy?1==e?this.searchGid=app.GameListManager().GetTypeName==app.GameListManager().GetGameTypeName(s.GIDTool.RUMMY)?s.GIDTool.RUMMY:s.GIDTool.RUMMY_2P:2==e?this.searchGid=app.GameListManager().GetTypeName==app.GameListManager().GetGameTypeName(s.GIDTool.RUMMY_SINGLE)?s.GIDTool.RUMMY_SINGLE:s.GIDTool.RUMMY_2P_SINGLE:3==e?this.searchGid=s.GIDTool.RUMMY_Pool_101:4==e?this.searchGid=s.GIDTool.RUMMY_Pool_201:5==e?this.searchGid=s.GIDTool.RUMMY_Deal_2P:6==e&&(this.searchGid=s.GIDTool.RUMMY_Deal_3P):app.GameListManager().GetIsGameTeenPatti&&(1==e?this.searchGid=app.GameListManager().GetTypeName==app.GameListManager().GetGameTypeName(s.GIDTool.YDZJH)?s.GIDTool.YDZJH:s.GIDTool.Royal_TP:2==e&&(this.searchGid=app.GameListManager().GetTypeName==app.GameListManager().GetGameTypeName(s.GIDTool.TP_SINGLE)?s.GIDTool.TP_SINGLE:s.GIDTool.Royal_TP_SINGLE)),this.typeLbl.string=app.GameListManager().GetPlayTypeName(this.searchGid),this.searchPointView(this.pointSelected),this.searchGameList()},t.prototype.searchGoldView=function(e,t){void 0===t&&(t=!1),this.searchPointView(e,t);var n=this.GetWndNode("layer",e.parent);if(n.active){n.removeAllChildren();var o=this.getGameDataList();if(n.active){for(var i=[0],a=0;a<o.length;a++){var r=o[a],s=app.HGameManager().GetRoomConfigByGid(r.gid);if(s)for(var c=0;c<s.length;c++){var p=s[c];i.indexOf(Number(p.win_multi))>-1||i.push(Number(p.win_multi))}}for(i.length>1&&i.sort(function(e,t){return e-t}),a=0;a<i.length;a++){r=i[a];var l=cc.instantiate(this.btn_gold);l.gold=r,l.getChildByName("label_players").getComponent(cc.Label).string=0==r?app.i18n.t("UI.cashout_0_main_5"):""+r,l.active=!0,l.parent=n}}}},t.prototype.setGoldView=function(e){this.gameMulti=e,this.goldLbl.string=0==e?app.i18n.t("UI.cashout_0_main_5"):""+e,this.searchPointView(this.goldSelected),this.searchGameList()},t.prototype.OnGoldTipLbl=function(){this.goldTipLbl.string=app.GameListManager().GetPlayPoolRummy||app.GameListManager().GetPlayDealRummy?app.i18n.t("UI_RoomList_MinEntry"):app.i18n.t("UI_RoomList2")},t.prototype.OnRematchTip=function(){var e=this.GetWndNode("title_row_remarch");this.GetWndNode("label_type",e).active=app.GameListManager().GetIsTypeShow,this.GetWndNode("label_Min Entry",e).active=!app.GameListManager().GetIsGameTruco,this.GetWndNode("label_Point Value",e).active=!app.GameListManager().GetIsPoolDealRummy,this.GetWndNode("label_Min Entry2",e).active=app.GameListManager().GetIsGameTruco,e.getComponent(cc.Layout).updateLayout()},__decorate([l(cc.Label)],t.prototype,"gameName",void 0),__decorate([l(cc.Label)],t.prototype,"typeLbl",void 0),__decorate([l(cc.Label)],t.prototype,"goldLbl",void 0),__decorate([l(cc.Label)],t.prototype,"goldTipLbl",void 0),__decorate([l(cc.Node)],t.prototype,"toggleList",void 0),__decorate([l(cc.Prefab)],t.prototype,"RoomScrollViewItemText",void 0),__decorate([l(cc.Node)],t.prototype,"btn_gold",void 0),__decorate([p],t)}(o.default);n.default=h,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/ShareDefine":"ShareDefine","../../../Common/Define/UINameDefine":"UINameDefine","../../common/GIDTool":"GIDTool"}],UIRoot:[function(e,t){"use strict";cc._RF.push(t,"e6704n6LyVJRrb+WgO0s+0e","UIRoot");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Base/BaseComponent"),i=e("./Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MoveStatus=!0,t}return __extends(t,e),t.prototype.OnLoad=function(){this.JS_Name="UIRoot",app.Client.RegEvent(i.GameEventDefine.UpdateMoveStatus,this.OnUpdateMoveStatus,this)},t.prototype.OnUpdateMoveStatus=function(e){this.MoveStatus=e},t.prototype.OnMouseDown=function(e){app.Client.OnEvent(i.GameEventDefine.OnMouseDown,e)},t.prototype.OnMouseUp=function(e){app.Client.OnEvent(i.GameEventDefine.OnMouseUp,e)},t.prototype.OnMouseMove=function(e){this.MoveStatus&&app.Client.OnEvent(i.GameEventDefine.OnMouseMove,e)},t.prototype.OnMouseWheel=function(e){app.Client.OnEvent(i.GameEventDefine.OnMouseWheel,e)},t.prototype.InitLayer=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnMouseDown,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.OnMouseUp,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnMouseUp,this,!0),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this,!0)},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"./Base/BaseComponent":"BaseComponent","./Define/GameEventDefine":"GameEventDefine"}],UIScrollSelect:[function(e,t){"use strict";cc._RF.push(t,"2c4b0hxQABNZL09ZR20fv5p","UIScrollSelect");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.UIScrollSelect=void 0;var o=e("../Define/ShareDefine"),i=cc._decorator,a=i.ccclass,r=i.property,s=i.menu,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.circlePage=!0,t.leftBtn=null,t.rightBtn=null,t.deltaY=90,t.centerScale=1,t.minScale=.5,t.scrollSpeed=300,t.selectEvents=[],t.childs=[],t.isTouching=!1,t.hasTouchMove=!1,t.isTest=!1,t._touchId=null,t.currentIndex=0,t._toMoveY=1,t.dy=0,t.moveAim=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.content.on(cc.Node.EventType.TOUCH_START,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_MOVE,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.content.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this)},t.prototype.initChildren=function(e){this.childs=[];for(var t=0;t<this.content.children.length;t++)this.childs[t]=this.content.children[t],this.childs[t].position=cc.v3(this.childs[t].position.x,this.deltaY*(t-1),0);this.isTouching=!1,this.hasTouchMove=!1,this.isTest=!1,this._touchId=null,this.scrollTo(e,!1)},t.prototype.scrollTo=function(e,t){if(void 0===t&&(t=!0),e<0&&e>=this.childs.length)return console.error(this.node.name+"->\u79fb\u52a8\u8d85\u51fa\u8fb9\u754c\u9762");if(this.currentIndex=e,this.moveAim=e,t)this.isTest=!0,cc.Component.EventHandler.emitEvents(this.selectEvents,{type:o.ScrollEventType.SCROLL_START,index:this.currentIndex});else for(var n=0;n<this.childs.length;n++)this._checkChildX(this.childs[n],(n-e)*this.deltaY)},t.prototype.checkScroll=function(){return this.content.children.length>1},t.prototype.scrollToLeft=function(){this.checkScroll()&&(this._toMoveY=1,this.scrollTo((this.currentIndex-1+this.childs.length)%this.childs.length),this._setPageBtnsStatus())},t.prototype.scrollToRight=function(){this.checkScroll()&&(this._toMoveY=-1,this.scrollTo((this.currentIndex+1+this.childs.length)%this.childs.length),this._setPageBtnsStatus())},t.prototype._setPageBtnsStatus=function(){var e=this.currentIndex>=this.childs.length-1;!this.circlePage&&e?(console.log("\u5df2\u7ecf\u5230\u4e86\u6700\u53f3\u8fb9",this.currentIndex),this.rightBtn&&(this.rightBtn.interactable=!1)):this.rightBtn&&(this.rightBtn.interactable=!0);var t=this.currentIndex<=0;!this.circlePage&&t?(console.log("\u5df2\u7ecf\u5230\u4e86\u6700\u5de6\u8fb9",this.currentIndex),this.leftBtn&&(this.leftBtn.interactable=!1)):this.leftBtn&&(this.leftBtn.interactable=!0)},t.prototype._checkChildX=function(e,t){this.circlePage&&(t>this.childs.length/2*this.deltaY?t-=this.childs.length*this.deltaY:t<-this.childs.length/2*this.deltaY&&(t+=this.childs.length*this.deltaY)),e.position=cc.v3(e.position.x,t,e.position.z);var n=(1-Math.min(Math.abs(t),this.deltaY)/this.deltaY)*(this.centerScale-this.minScale)+this.minScale;e.scale=n},t.prototype._onTouch=function(e){if((null==this._touchId||e.touch==this._touchId)&&this.checkScroll())if(e.type!=cc.Node.EventType.TOUCH_START){this.hasTouchMove=!0;var t=e.getLocation().y-this.dy;this._move(t),this.dy=e.getLocation().y;var n={type:o.ScrollEventType.SCROLL_ING,dx:this.dy};cc.Component.EventHandler.emitEvents(this.selectEvents,n)}else{this.isTouching=!0,this.hasTouchMove=!1,this.isTest=!1,this._touchId=e.touch,this.dy=e.getLocation().y;var i={type:o.ScrollEventType.SCROLL_START,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,i)}},t.prototype._isMoveEdge=function(){return{left:this.childs[0].position.y>=0,right:this.childs[this.childs.length-1].position.y<=0}},t.prototype._onTouchEnd=function(e){if((null==this._touchId||e.touch==this._touchId)&&this.checkScroll()){if(this.isTouching=!1,e.type!=cc.Node.EventType.TOUCH_END&&e.type!=cc.Node.EventType.TOUCH_CANCEL||(this._touchId=null),!this.circlePage){var t=this._isMoveEdge();if(t.right)return void console.log("\u6700\u53f3\u8fb9 \u65e0\u6cd5\u52a8");if(t.left)return void console.log("\u6700\u5de6\u8fb9 \u65e0\u6cd5\u52a8")}var n=this.node.convertToNodeSpaceAR(e.getLocation());if(this.hasTouchMove){for(var i=this.deltaY,a=0,r=0;r<this.childs.length;r++)Math.abs(this.childs[r].position.y)<=i&&(i=Math.abs(this.childs[r].position.y),a=r);this.moveAim=a,this._toMoveY=this.childs[a].position.y>=0?-1:1,this.isTest=!0}else{var s=Math.ceil((n.y-this.deltaY/2)/this.deltaY);if(0===s){var c={type:o.ScrollEventType.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,c)}else this.moveAim=(this.currentIndex+s+this.childs.length)%this.childs.length,this._toMoveY=s>0?-1:1,this.isTest=!0}}},t.prototype._move=function(e){if(0!==e){if(!this.circlePage){var t=this._isMoveEdge();if(e<0&&t.right)return void console.log("\u6700\u53f3\u8fb9 \u65e0\u6cd5\u52a8");if(e>0&&t.left)return void console.log("\u6700\u5de6\u8fb9 \u65e0\u6cd5\u52a8")}for(var n=0;n<this.childs.length;n++)this._checkChildX(this.childs[n],this.childs[n].position.y+e)}},t.prototype.update=function(e){if(!this.isTouching&&this.isTest){for(var t=this._toMoveY*e*this.scrollSpeed,n=this.childs[this.moveAim].position.y,i=0;i<this.childs.length;i++)this._checkChildX(this.childs[i],this.childs[i].position.y+t);var a=this.childs[0].position.y,r=Math.round(a/this.deltaY),s=this.deltaY*r,c=this.childs[this.moveAim].position.y;if(n*c<0&&Math.abs(c)<this.deltaY){for(this.isTest=!1,i=0;i<this.childs.length;i++)if(Math.abs(this.childs[i].position.y)<=Math.abs(t)){this.currentIndex=i;break}for(i=0;i<this.childs.length;i++)this._checkChildX(this.childs[i],this.childs[i].position.y+s-a);var p={type:o.ScrollEventType.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,p)}}},__decorate([r(cc.Node)],t.prototype,"content",void 0),__decorate([r({tooltip:"\u662f\u5426\u65e0\u9650\u7ffb\u9875"})],t.prototype,"circlePage",void 0),__decorate([r({type:cc.Button,tooltip:"\u5de6\u8fb9\u6309\u94ae",visible:function(){return!this.circlePage}})],t.prototype,"leftBtn",void 0),__decorate([r({type:cc.Button,tooltip:"\u53f3\u8fb9\u6309\u94ae",visible:function(){return!this.circlePage}})],t.prototype,"rightBtn",void 0),__decorate([r({tooltip:"\u5355\u4e2a\u63a7\u4ef6\u4e4b\u95f4\u7684\u8ddd\u79bb"})],t.prototype,"deltaY",void 0),__decorate([r({tooltip:"\u4e2d\u5fc3\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],t.prototype,"centerScale",void 0),__decorate([r({tooltip:"\u8fb9\u7f18\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],t.prototype,"minScale",void 0),__decorate([r({tooltip:"\u6eda\u52a8\u65f6\u7684\u901f\u5ea6"})],t.prototype,"scrollSpeed",void 0),__decorate([r({type:cc.Component.EventHandler,tooltip:"\u9009\u62e9\u540e\u7684\u56de\u8c03"})],t.prototype,"selectEvents",void 0),__decorate([a,s("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollSelect")],t)}(cc.Component);n.UIScrollSelect=c,t.exports=n,cc._RF.pop()},{"../Define/ShareDefine":"ShareDefine"}],UIScrollViewItem:[function(e,t){"use strict";cc._RF.push(t,"640144I0ZJEyr+8nQMJ5L79","UIScrollViewItem");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Define/GameEventDefine"),i=cc._decorator,a=i.ccclass,r=i.property,s=i.disallowMultiple,c=i.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Vertical_Angle=15,t.Horizontal_Angle=45,t.isNest=!0,t}return __extends(t,e),t.prototype.onLoad=function(){app.Client.RegEvent(o.GameEventDefine.SCROLLVIEW_DIRECTION,this._ScrollViewEnabled,this)},t.prototype._onTouchBegan=function(t,n){this.startPosition=t.touch.getLocation(),e.prototype._onTouchBegan.call(this,t,n)},t.prototype._onTouchMoved=function(t,n){var o=t.touch.getLocation(),i=this.horizontal?this.GetIsVertical(o):this.GetIsHorizontal(o);this._ScrollViewEnabled(!i),e.prototype._onTouchMoved.call(this,t,n)},t.prototype.GetIsVertical=function(e){var t=app.MathUtil().angle(this.startPosition,e);return 90-Math.abs(t)<=this.Vertical_Angle},t.prototype.GetIsHorizontal=function(e){var t=app.MathUtil().angle(this.startPosition,e);return Math.abs(t)<=this.Horizontal_Angle},t.prototype._ScrollViewEnabled=function(e){this.isNest&&(this.enabled=e)},__decorate([r({tooltip:"\u6c34\u5e73\u6a21\u5f0f\u7684\u5782\u76f4\u6ed1\u52a8\u7684\u89d2\u5ea6\u8303\u56f4"})],t.prototype,"Vertical_Angle",void 0),__decorate([r({tooltip:"\u5782\u76f4\u6a21\u5f0f\u7684\u6c34\u5e73\u6ed1\u52a8\u7684\u89d2\u5ea6\u8303\u56f4"})],t.prototype,"Horizontal_Angle",void 0),__decorate([r({tooltip:"\u662f\u5426\u5d4c\u5957\u6a21\u5f0f,\u652f\u63014\u4e2a\u65b9\u5411\u6ed1\u52a8,\u9ed8\u8ba4\u5d4c\u5957"})],t.prototype,"isNest",void 0),__decorate([a,s(),c("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollViewItem")],t)}(cc.ScrollView);n.default=p,t.exports=n,cc._RF.pop()},{"../Define/GameEventDefine":"GameEventDefine"}],UIScrollview:[function(e,t){"use strict";cc._RF.push(t,"50b4dY8k31Cy5Ne8dn0g7aN","UIScrollview");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Define/GameEventDefine"),i=cc._decorator,a=i.ccclass,r=i.property,s=i.disallowMultiple,c=i.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollSpeed=1,t.scrollY=0,t.onceTag=!1,t.beginTime=0,t.down=!1,t._deltaMove=new cc.Vec2(0,0),t}return __extends(t,e),t.prototype._onTouchEnded=function(t,n){app.Client.OnEvent(o.GameEventDefine.SCROLLVIEW_DIRECTION,!0),e.prototype._onTouchEnded.call(this,t,n)},t.prototype._onTouchCancelled=function(t,n){app.Client.OnEvent(o.GameEventDefine.SCROLLVIEW_DIRECTION,!0),e.prototype._onTouchCancelled.call(this,t,n)},__decorate([r(cc.Integer)],t.prototype,"scrollSpeed",void 0),__decorate([a,s(),c("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollView")],t)}(cc.ScrollView);n.default=p,t.exports=n,cc._RF.pop()},{"../Define/GameEventDefine":"GameEventDefine"}],UISelectRegion:[function(e,t){"use strict";cc._RF.push(t,"bf968+papJLDJZUe6Vey1Cn","UISelectRegion");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Define/LanguageDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggle_Region=[],t}return __extends(t,e),t.prototype.OnShow=function(){},t.prototype.OnClick=function(e){if("btn"==e)for(var t=0;t<this.toggle_Region.length;t++)if(this.toggle_Region[t].isChecked){app.LanguageManager().SetSelectRegion(t+1),0==t?app.LanguageManager().SetLanguage(a.default.ptpt):app.LanguageManager().SetLanguage(a.default.eses),app.Client.OnEvent(i.GameEventDefine.INIT_SelectRegion),this.CloseForm();break}},__decorate([c([cc.Toggle])],t.prototype,"toggle_Region",void 0),__decorate([s],t)}(o.default));n.default=p,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/LanguageDefine":"LanguageDefine"}],UISettlement:[function(e,t){"use strict";cc._RF.push(t,"f7b37D8M3xH4aubgszYqvg7","UISettlement");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../common/GIDTool"),a=e("../../i18n_script/LocalizedLabel"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameInfo=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UISettlement",this.nodeText=this.GetWndNode("Gold/lbl")},t.prototype.OnShow=function(e){this.gameInfo=e;var t="",n=app.ExternGameManager().GetGid;n==i.GIDTool.PG?t="PG":n==i.GIDTool.EVO?t="EVO":n==i.GIDTool.PINGBO&&(t="PINGBO"),this.nodeText.getComponent(a.default).setT("HallGameDownTip",{game:t})},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.gameInfo&&app.HallManager().EnterGame(this.gameInfo.gid,this.gameInfo.subGid)},__decorate([s],t)}(o.default));n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../common/GIDTool":"GIDTool","../../i18n_script/LocalizedLabel":"LocalizedLabel"}],UISevice:[function(e,t){"use strict";cc._RF.push(t,"0a0882xuUxM26avtF8M+/n8","UISevice");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/ShareDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){},t.prototype.OnEnable=function(){try{var e=app.UserManager().GetUserInfoConfig.show_arr;this.node.active=1==e[i.VisibleBtnTag.Btn_Service]}catch(t){}},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.OnClick=function(e){if("UISevice"==e){var t=app.SupportManager().SelToServiceTypeName();app.FormManager().ShowForm(t)}},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/ShareDefine":"ShareDefine"}],UISignUp:[function(e,t){"use strict";cc._RF.push(t,"6faa4tBlURFyqmzrTo1QNKy","UISignUp");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Define/UINameDefine"),i=e("../../Common/Define/GameEventDefine"),a=e("../../Common/Base/UIBaseComponent"),r=e("../../Common/Define/TrackEventName"),s=e("../../Common/Define/ShareDefine"),c=e("../../Common/Component/EditBox"),p=e("../../Common/DB/LoginManager"),l=cc._decorator,h=l.ccclass,d=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.phone_account=null,t.mail_account=null,t.validateCode=null,t.password=null,t.countdown=null,t.btnSendValidate=null,t.codeLabel=null,t.btnEye=null,t.btnEye1=null,t.Toggle_terms=null,t.Toggle_mainR=null,t.countTime=0,t.is_phone=!1,t.login_ani=null,t.account=null,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="UISignUp",this.RegEvent(i.GameEventDefine.NATION_PHONE_CODE,this.OnSelectNation),this.RegEvent(i.GameEventDefine.GET_CODE_SUCCESS,this.OnGetCodeSuccess),this.RegEvent(i.GameEventDefine.STOP_LOGIN_ANIM,this.OnStopLoginAnim),this.RegEvent(i.GameEventDefine.GOOGLRECAPTCHAFINISH,this.GoogleRecaptChaFinsh),this.account=this.GetWndNode("account"),this.codeLabel.string="+"+app.LoginManager().getUserLoginCode().code},t.prototype.OnEnable=function(){var e=app.LoginManager().getUserLoginCode();this.myCode=e,this.setShow(!1),this.phone_account.string="",this.mail_account.string="",this.validateCode.string="",this.password.string="",this.btnSendValidate.active=!0,this.countdown.node.active=!1,this.countdown.string="",this.Toggle_terms.isChecked=!1,this.Toggle_mainR.isChecked=!1,this.account.active=!1,app.LoginManager().GetIsLoginAnimPlay&&this.onCreateLoginAnim(this.GetWndNode("btn_regist/bg/layout"))},t.prototype.OnClick=function(e,t){if(this.Log(e),"btn_code"!=e){if("btn_clean_phone"==e)return this.phone_account.string="",void(this.mail_account.string="");if("btn_otp"!=e)if("btn_eye"!=e)if("btn_eye_close"!=e)if("btn_regist"!=e)if("terms"!=e);else{var n=app.GameConfigManager().GetGameConfig().user_agreement;cc.sys.openURL(n)}else app.LoginManager().GetIsLoginAnimPlay||this.onTelRegisLogin(t);else this.setShow(!1);else this.setShow(!0);else this.onFetchValidateCode()}else app.FormManager().ShowForm(o.UINameDefine.UINationPhoneCode,{type:s.NationPhoneNumberType.SignUp,scale:this.node.getParent().getParent().scale})},t.prototype.setAreaCode=function(e){this.myCode={mark:e.mark,code:e.code},this.codeLabel.string="+"+e.code},t.prototype.OnSelectNation=function(e){this.myCode={mark:e.mark,code:e.code},this.codeLabel.string="+"+e.code},t.prototype.onTelRegisLogin=function(e){var t=this;this.Toggle_terms.isChecked?this.phone_account.node.parent.active||this.Toggle_mainR.isChecked?!this.phone_account.node.parent.active||this.validateCode.string||1!=app.GameConfigManager().GetGameConfig().user_mobile_reg_switch?(app.EventTrackManager().LogEvent(r.default.CLICK_BTN_REGISTER),this.indiaTelRegisLogin(function(){t.onRegisEvent()}),this.onCreateLoginAnim(this.GetWndNode("bg/layout",e))):app.SysNotifyManager().ShowToast("UI_Login_prompt3"):app.SysNotifyManager().ShowToast("UI_Login_prompt2"):app.SysNotifyManager().ShowToast("UI_Login_prompt1")},t.prototype.onRegisEvent=function(){var e=this.phone_account.node.parent.active?this.phone_account.string:this.mail_account.string,t=this.validateCode.string,n=this.password.string,o=this.codeLabel.string.replace("+",""),i=this.phone_account.node.parent.active?3:2;if(app.StringUtil().isLegal(n)){if(!this.phone_account.node.parent.active){if(!e)return void app.SysNotifyManager().ShowToast("UI.System_45");if(!/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/.test(e))return void app.SysNotifyManager().ShowToast("UI_Login_prompt5")}var a={area:o,tel:Number(o+""+e),code:t,pwd:n,account:e,login_type:i};app.LoginManager().RequestRegister(a)}else app.SysNotifyManager().ShowToast("UI_Login_prompt7")},t.prototype.indiaTelRegisLogin=function(e){app.ComTool().CheckPlatform()?e():(cc.sys.localStorage.setItem("is_first_launch",!0),e())},t.prototype._callback=function(){this.countTime=this.countTime-1,this.countdown.string=this.countTime+"s",this.countTime<=0&&(this.unscheduleAllCallbacks(),this.countdown.node.active=!1,this.btnSendValidate.active=!0,this.countdown.string="")},t.prototype.onFetchValidateCode=function(){var e=this.myCode.code?this.myCode.code:this.codeLabel.string.replace("+",""),t=this.phone_account.string,n=app.UserManager().GetUserInfo&&null!=app.UserManager().GetUserInfo.token?app.UserManager().GetUserInfo.token:"";app.UserManager().fetchValidateCode({token:n,tel:Number(e+""+t),type:0,area:e})},t.prototype.OnGetCodeSuccess=function(e){this.countdown.node.active=!0,this.btnSendValidate.active=!1,this.countTime=e,this.schedule(this._callback,1)},t.prototype.setShow=function(e){this.password.inputFlag=e?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD,this.btnEye.active=!e,this.btnEye1.active=e},t.prototype.setLoginAnimPra=function(e){this.login_ani=e},t.prototype.onCreateLoginAnim=function(e){var t=this,n=this.GetWndNode("login_ani",e);n||((n=cc.instantiate(this.login_ani)).y=-5,n.parent=e),n.active=!0,n.getComponent(cc.Animation).play(),app.LoginManager().SetIsLoginAnimPlay(!0),this.scheduleOnce(function(){t.OnStopLoginAnim()},5)},t.prototype.OnStopLoginAnim=function(){var e=this.GetWndNode("btn_regist/bg/layout/login_ani");e&&(e.getComponent(cc.Animation).stop(),e.active=!1),app.LoginManager().SetIsLoginAnimPlay(!1),this.unscheduleAllCallbacks()},t.prototype.GoogleRecaptChaFinsh=function(){if(!app.LoginManager().GetIsLoginAnimPlay){var e=(app.ComTool().H5Platform(),this.GetWndNode("UISignUp/btn_regist"));this.onTelRegisLogin(e)}},t.prototype.OnDisable=function(){this.OnStopLoginAnim()},t.prototype.ChangedText=function(){this.mail_account.string&&(this.mail_account.string=this.mail_account.string.replace(new RegExp(/\s/g),"")),this.mail_account.string&&(this.mail_account.string=this.mail_account.string.replace(new RegExp("[\u4e00-\u9fff]+","g"),""));var e=this.mail_account.string;if(""!=e)if(this.account.active=!0,e.indexOf("@")>-1)this.account.active=!1;else{var t=this.GetWndNode("account/account_mail/item"),n=this.GetWndNode("account/account_mail/content");n.removeAllChildren(),e.length>14&&(e=e.substring(0,14)+"....");for(var o=0;o<p.websiteTypeArr.length;o++){var i=cc.instantiate(t);i.active=!0,n.addChild(i),this.GetWndNode("mail/lb_text",i).getComponent(cc.Label).string=e;var a=this.GetWndNode("mail/lb_mailcom",i).getComponent(cc.Label);a.string="@"+p.websiteTypeArr[o]+".com",i.on("click",this.AccountItemClick.bind(this,o,this.mail_account.string+a.string),this)}}else this.account.active=!1},t.prototype.AccountItemClick=function(e,t){this.account.active=!1,this.mail_account.string=t},t.prototype.DidEnded=function(){var e=this;setTimeout(function(){e.account.active=!1},200)},__decorate([d(cc.EditBox)],t.prototype,"phone_account",void 0),__decorate([d(c.default)],t.prototype,"mail_account",void 0),__decorate([d(cc.EditBox)],t.prototype,"validateCode",void 0),__decorate([d(cc.EditBox)],t.prototype,"password",void 0),__decorate([d(cc.RichText)],t.prototype,"countdown",void 0),__decorate([d(cc.Node)],t.prototype,"btnSendValidate",void 0),__decorate([d(cc.Label)],t.prototype,"codeLabel",void 0),__decorate([d(cc.Node)],t.prototype,"btnEye",void 0),__decorate([d(cc.Node)],t.prototype,"btnEye1",void 0),__decorate([d(cc.Toggle)],t.prototype,"Toggle_terms",void 0),__decorate([d(cc.Toggle)],t.prototype,"Toggle_mainR",void 0),__decorate([h],t)}(a.default);n.default=u,t.exports=n,cc._RF.pop()},{"../../Common/Base/UIBaseComponent":"UIBaseComponent","../../Common/Component/EditBox":"EditBox","../../Common/DB/LoginManager":"LoginManager","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/ShareDefine":"ShareDefine","../../Common/Define/TrackEventName":"TrackEventName","../../Common/Define/UINameDefine":"UINameDefine"}],UIStoreQRWebview:[function(e,t){"use strict";cc._RF.push(t,"7fb8bNhYKpAHKudRK377YYj","UIStoreQRWebview");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.webview=null,t.bg=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){var e=this;this.RegEvent(i.GameEventDefine.COMPANY_PAYMENT,function(){e.CloseForm()})},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.data=e[0],this.tempwebview&&(this.tempwebview.removeFromParent(),this.tempwebview.destroy&&this.tempwebview.destroy(),this.tempwebview=null),this.tempwebview=cc.instantiate(this.webview),this.tempwebview.parent=this.bg,this.tempwebview.getComponent(cc.WebView).url=this.data.payURL},t.prototype.OnClick=function(e){"btn_copy"!=e||app.NativeMgr().copyToClipBoard(this.data.card_num)},__decorate([a.property(cc.Prefab)],t.prototype,"webview",void 0),__decorate([a.property(cc.Node)],t.prototype,"bg",void 0),__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UISupport:[function(e,t){"use strict";cc._RF.push(t,"6f9ab4PqK1BA5HI2EEAK30A","UISupport");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i,a,r=e("../../Common/Base/BaseForm"),s=(e("../../Common/Component/ListView"),e("../../Common/Define/GameEventDefine")),c=e("../../Common/Define/TextDefine");i=cc.Node,__extends(function(){return null!==i&&i.apply(this,arguments)||this},i),a=cc.Node,__extends(function(){return null!==a&&a.apply(this,arguments)||this},a),function(e){e[e.SUPPORTLIST=0]="SUPPORTLIST",e[e.PROBLEM=1]="PROBLEM",e[e.PROBLEMDETAIL=2]="PROBLEMDETAIL"}(o||(o={}));var p=cc._decorator,l=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.supportItem=null,t.supportNode=null,t.robotMenuNode=null,t.titNode=null,t.n_page=1,t.n_IsReadySendMatchPage=!0,t.MainSearchStr="",t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UISupport",this.RegEvent(s.GameEventDefine.GET_KEFU_LIST,this.InitItemList),this.RegEvent(s.GameEventDefine.GET_ROBOTQUESTIONS,this.OnProblem_list),this.RegEvent(s.GameEventDefine.GET_ROBOTQUESTIONSAL_LTYPE,this.InitPobotQuestions),this.layer=this.GetWndNode("layer"),this.node_problem=this.GetWndNode("/Nodelist/problem"),this.node_problem_detail=this.GetWndNode("/Nodelist/problem_detail"),this.node_problemTypeItem=this.GetWndNode("/Nodelist/problem/scrollview_q/view/item"),this.node_DetailRich=this.GetWndNode("/Nodelist/problem_detail/scrollview_q/view/lb_richtext"),this.node_DetailImg=this.GetWndNode("/Nodelist/problem_detail/scrollview_q/view/img"),this.node_detailContent=this.GetWndNode("/Nodelist/problem_detail/scrollview_q/view/content"),this.Node_Line=this.GetWndNode("/Nodelist/problem_detail/scrollview_q/view/line"),this.manualServiceBtn=this.GetWndNode("Nodelist/Nodeservice"),this.ListNode=[],this.ListNode[o.SUPPORTLIST]=this.supportNode,this.ListNode[o.PROBLEM]=this.node_problem,this.ListNode[o.PROBLEMDETAIL]=this.node_problem_detail},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.layer.active=!1,this.initMainData(),app.SupportManager().RequestSupportList(),this.onGetFaqInfo()},t.prototype.initMainData=function(){this.MainSearchStr="",this.n_page=1,this.n_IsReadySendMatchPage=!0,this.DetailTypeStr={name:"",id:0}},t.prototype.OnProblem_list=function(e){var t=e.data,n=t.list;this.node_detailContent.removeAllChildren();for(var i=0;i<n.length;i++){var a=n[i];if(a.answer){var r=cc.instantiate(this.node_DetailRich);r.getComponent(cc.RichText).string=a.answer,r.active=!0,this.node_detailContent.addChild(r)}for(var s=0;s<a.imgurls.length;s++){var c=a.imgurls[s],p=cc.instantiate(this.node_DetailImg);p.active=!0,app.ImageUtil().LoadImage(p,c),this.node_detailContent.addChild(p)}var l=cc.instantiate(this.Node_Line);l.active=!0,this.node_detailContent.addChild(l)}this.out_link=t.outside_link,this.in_link=t.inside_link,this.showService=t.show_service_button,this.OnServiceDisable(),this.ShowLayerByIndex(o.PROBLEMDETAIL)},t.prototype.ShowLayerByIndex=function(e){for(var t=0;t<this.ListNode.length;t++)this.ListNode[t].active=!1;var n=this.ListNode[e];n&&(n.active=!0),this.GetWndNode("/Nodelist").active=e!=o.SUPPORTLIST,this.manualServiceBtn.active=e==o.PROBLEMDETAIL},t.prototype.InitPobotQuestions=function(){var e=app.SupportManager().PoRotQuestionsAllType,t=this.GetWndNode("/scrollview_q/view/content",this.ListNode[1]);if(1!=this.n_page||0!=e.length){1==this.n_page&&t.removeAllChildren();for(var n=0;n<e.length;n++){var i=e[n],a=cc.instantiate(this.node_problemTypeItem);cc.find("lb_q",a).getComponent(cc.Label).string=i.name;var r=new cc.Component.EventHandler;r.target=this.node,r.component=this.JS_Name,r.handler="ProblemTypeItemCallBack",r.customEventData=JSON.stringify(i),a.getComponent(cc.Button).clickEvents=[],a.getComponent(cc.Button).clickEvents.push(r),a.active=!0,a.zIndex=i.sort,t.addChild(a)}this.ShowLayerByIndex(o.PROBLEM)}else app.SupportManager().RequestSupportList()},t.prototype.MainPobotSearchEditBoxChange=function(e){this.MainSearchStr=e},t.prototype.ProblemTypeItemCallBack=function(e,t){var n=JSON.parse(t);this.DetailTypeStr=n,this.n_page=1;var o={search:"",page:this.n_page,type:n.id};this.RequestRobotQuestions(o)},t.prototype.OnServiceDisable=function(){this.GetWndNode("Layout/btn_jump",this.manualServiceBtn).active=!!this.out_link||Number(this.in_link)>0,this.GetWndNode("Layout/btn_service",this.manualServiceBtn).active=this.showService,this.GetWndNode("lb_tips",this.manualServiceBtn).active=this.showService;var e=this.GetWndNode("Nodelist/problem_detail/scrollview_q"),t=e.getComponent(cc.Widget);!this.showService&&!this.out_link&&Number(this.in_link)<=0?t.bottom=0:t.bottom=240,t.updateAlignment(),this.GetWndComponent("view",cc.Widget,e).updateAlignment()},t.prototype.TypesScrollEvents=function(e){Number(e.getScrollOffset().y)/Number(e.getMaxScrollOffset().y)>.8&&this.n_IsReadySendMatchPage&&(this.n_page+=1,this.n_IsReadySendMatchPage=!1,app.SupportManager().RequestRobotQuestionsAllType(this.n_page))},t.prototype.PobotQuestionScrollEvents=function(e){if(Number(e.getScrollOffset().y)/Number(e.getMaxScrollOffset().y)>.8&&this.n_IsReadySendMatchPage){this.n_page+=1,this.n_IsReadySendMatchPage=!1;var t={search:"",page:this.n_page,type:this.DetailTypeStr.id};this.RequestRobotQuestions(t)}},t.prototype.RequestRobotQuestions=function(e){this.out_link="",this.in_link="",this.showService=!1,app.SupportManager().RequestRobotQuestions(e)},t.prototype.SearchQuestionScrollEvents=function(e){Number(e.getScrollOffset().y)/Number(e.getMaxScrollOffset().y)>.8&&this.n_IsReadySendMatchPage&&(this.n_page+=1,this.n_IsReadySendMatchPage=!1,this.QuestSearchData())},t.prototype.InitItemList=function(e){if(isgoServer)this.ToWechatOrQQClient({chat_url:window.location.origin+"/client/kefu/?uid="+app.UserManager().UserInfo.uid+"&nickname="+app.UserManager().GetUserInfo.nickname+"&channel_id="+app.ClientConfigManager().GetClientConfig.channel_id+"&vip_id="+(app.UserManager().GetUserInfo.vip_id-1)+"&license="+e,is_small:1});else{this.SupportData=e;var t=cc.find("view/content/customerLayout",this.supportNode);if(this.SupportData){for(var n in this.SupportData)if(this.SupportData.hasOwnProperty(n)){var i=this.SupportData[n];if(0==t.childrenCount)this.addCustomerNode(i);else{for(var a=!1,r=0;r<t.childrenCount;r++){var s=t.children[r];if(s.type==i.nickname){s.active=!0,a=!0;break}}a||this.addCustomerNode(i)}}}else this.supportNode.removeAllChildren();this.layer.active=!0,this.ShowLayerByIndex(o.SUPPORTLIST)}},t.prototype.addCustomerNode=function(e){var t=cc.instantiate(this.supportItem);t.getChildByName("label").getComponent(cc.Label).string=e.nickname.length>10?e.nickname.substr(0,10)+"...":e.nickname,t.getChildByName("whatsapp").getChildByName("label").getComponent(cc.Label).string=e.whatsapp.length>12?e.whatsapp.substr(0,12)+"...":e.whatsapp,app.ImageUtil().LoadHead(t.getChildByName("mask").getChildByName("face1"),e.headimg),e.icon&&app.ImageUtil().LoadImage(t.getChildByName("whatsapp").getChildByName("icon"),e.icon),t.chat_url=e.kf_chat_url,t.type=e.nickname,t.is_small=e.is_small,t.x=0,t.getChildByName("level").active=e.vip_level>0,cc.find("level/lbl",t).getComponent(cc.Label).string="V"+e.vip_level,cc.find("view/content/customerLayout",this.supportNode).addChild(t),t.active=!0},t.prototype.OnClick=function(e,t){if("customer"!=e)if("robot"!=e)if("robotMenuItem"!=e)if("btn_menuBack"!=e)if("btn_TITBack"!=e)if("btn_closewebview"!=e)if("btn_service"!=e){if("btn_jump"==e){var n=Number(this.in_link);return n>0?(this.CloseForm(),void app.InteractionMgr().SendWndEvent(n)):void(this.out_link&&cc.sys.openURL(this.out_link))}if("btn_ProblemlistBack"!=e)if("btn_Detailback"!=e){if("btn_Searchback"!=e)return"btn_MainSearch"==e?this.MainSearchStr?(this.GetWndComponent("/Nodelist/search/search/edit_search",cc.EditBox).string=this.MainSearchStr,this.n_page=1,void this.QuestSearchData()):void app.SysNotifyManager().ShowToast(app.i18n.t("UI_Support_PleaseEnteryour")):"btn_Search"==e?this.MainSearchStr?(this.n_page=1,void this.QuestSearchData()):void app.SysNotifyManager().ShowToast(app.i18n.t("UI_Support_PleaseEnteryour")):void 0;this.ShowLayerByIndex(o.PROBLEM)}else this.ShowLayerByIndex(o.PROBLEM);else this.ShowLayerByIndex(o.PROBLEM)}else app.SupportManager().RequestSupportList();else this.closeWebView();else this.onChildNodeShow(1);else this.onChildNodeShow(0);else this.onChildNodeShow(2);else this.onChildNodeShow(1);else{var i=t;this.ToWechatOrQQClient({chat_url:i.chat_url,is_small:i.is_small})}},t.prototype.QuestSearchData=function(){var e={search:this.MainSearchStr,page:this.n_page,type:0};this.RequestRobotQuestions(e)},t.prototype.onChildNodeShow=function(e){if(this.supportNode.active=0==e,this.robotMenuNode.opacity=0,this.robotMenuNode.active=1==e,this.titNode.opacity=0,this.titNode.active=2==e,0!=e){var t=1==e?this.robotMenuNode:this.titNode;t.stopAllActions();var n=new cc.Vec3(this.node.width/2+this.node.width,t.y),o=new cc.Vec3(0,t.y);cc.tween(t).set({position:n}).to(.2,{position:o,opacity:255}).start()}},t.prototype.ToWechatOrQQClient=function(e){var t=cc.find("ndoe_smallWebview",this.node);1==e.is_small?(cc.find("webview",t).getComponent(cc.WebView).url=e.chat_url,t.active=!0):(cc.sys.openURL(e.chat_url),t.active=!1)},t.prototype.closeWebView=function(){cc.find("ndoe_smallWebview",this.node).active=!1},t.prototype.onGetFaqInfo=function(){var e=app.TextManager().GetTextInfo(c.TextDefine.customer_servic);e&&this.manualServiceBtn&&(this.manualServiceBtn.getChildByName("lb_tips").getComponent(cc.Label).string=e)},__decorate([h(cc.Node)],t.prototype,"supportItem",void 0),__decorate([h(cc.Node)],t.prototype,"supportNode",void 0),__decorate([h(cc.Node)],t.prototype,"robotMenuNode",void 0),__decorate([h(cc.Node)],t.prototype,"titNode",void 0),__decorate([l],t)}(r.default);n.default=d,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm","../../Common/Component/ListView":"ListView","../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Define/TextDefine":"TextDefine"}],UIToast:[function(e,t){"use strict";cc._RF.push(t,"89924NwpJtDcpRAikNEh6/n","UIToast");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Base/BaseForm"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeBg=null,t.copyTip=null,t.labelTip=null,t.defalutPos=0,t.waitQueue=[],t.isRunning=!1,t}return __extends(t,e),t.prototype.OnLoad=function(){this.nodeBg=this.GetWndNode("bg"),this.labelTip=this.GetWndComponent("bg/text",cc.Label);var e=cc.instantiate(this.labelTip.node);this.copyTip=e.getComponent(cc.Label)},t.prototype.OnShow=function(e,t){this.checkRepetition(e)&&(this.waitQueue.push({msgID:e,paramList:t}),this.defalutPos=this.node.height/2,this.doAction())},t.prototype.checkRepetition=function(e){for(var t=0;t<this.waitQueue.length;t++)if(this.waitQueue[t].msgID==e)return!1;return!0},t.prototype.setBgWidth=function(){var e=this.copyTip.node.width,t=50;this.labelTip.overflow=cc.Label.Overflow.NONE,e>=640?(this.labelTip.node.width=640,this.labelTip.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t+=640):t+=e<=200?200:e,this.nodeBg.width=t,this.nodeBg.getComponent(cc.Layout).updateLayout()},t.prototype.doAction=function(){var e=this;if(!this.isRunning){var t=this.waitQueue.shift();if(t){this.isRunning=!0;var n=app.SysNotifyManager().GetSysMsgContentByMsgID(t.msgID,t.paramList);this.labelTip.string=n,this.copyTip.string=n,this.copyTip._forceUpdateRenderData(),this.setBgWidth(),this.Log(this.nodeBg.height);var o=new cc.Vec3(0,this.defalutPos+this.nodeBg.height),i=this.nodeBg.height+30,a=new cc.Vec3(0,o.y-i),r=new cc.Vec3(0,o.y+i);cc.tween(this.nodeBg).set({position:o}).to(.8,{position:a,opacity:255}).delay(1.2).to(.8,{position:r,opacity:0}).call(function(){e.isRunning=!1,e.doAction()}).start()}else this.CloseForm()}},__decorate([a],t)}(o.default));n.default=r,t.exports=n,cc._RF.pop()},{"../../Common/Base/BaseForm":"BaseForm"}],UIUpgrade:[function(e,t){"use strict";cc._RF.push(t,"b3518co9ihKLZNbNGBePbQn","UIUpgrade");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/UINameDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipRichtext=null,t.lbl_bonus=null,t.lbl_Week_gold=null,t.lbl_Month_gold=null,t.lbl_VIPLevel=null,t.animation=null,t.spine=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIUpgrade",this.RegEvent(i.GameEventDefine.VIP_LIST,this.onVipInfo),this.animation=cc.find("btn_upgrade",this.node).getComponent(cc.Animation),this.spine=cc.find("btn_upgrade/level/VIP",this.node).getComponent(sp.Skeleton),this.animation.on("finished",this.SpinePlayEnd,this)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.VIPManager().VIPList?this.onVipInfo():app.VIPManager().RequestVipList(),cc.find("btn_bg",this.node).active=!1,this.animation.play(),this.spine.setAnimation(0,"animation",!1)},t.prototype.SpinePlayEnd=function(){cc.find("btn_bg",this.node).active=!0},t.prototype.OnClick=function(e){if("btn_bg"!=e)return"btn_ok1"==e?(this.CloseForm(),void app.FormManager().ShowForm(a.UINameDefine.UIVIP)):void 0;this.CloseForm()},t.prototype.onVipInfo=function(){var e=app.VIPManager().VIPList,t=app.VIPManager().getVipUpgradeData();if(e&&t){var n=e.list[Number(t.vip_id)-1];this.lbl_bonus.string=n.grade_gold,this.lbl_Week_gold.string=n.week_gold,this.lbl_Month_gold.string=n.month_gold,this.lbl_VIPLevel.string=n.name.replace("VIP","");var o=e.list[Number(t.vip_id)];if(o){var i=app.i18n.t("UI_UpgradeNextLvRichText");i=(i=(i=i.replace("{VIPLV}",o.name)).replace("{MINRECHARGE}",""+o.min_recharge)).replace("{MINBET}",o.min_bet),this.vipRichtext.getComponent(cc.RichText).string=i}else this.vipRichtext.active=!1;app.VIPManager().delVipUpgradeData()}},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.FormManager().ShowNextQueueForm("hall")},__decorate([c(cc.Node)],t.prototype,"vipRichtext",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_bonus",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_Week_gold",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_Month_gold",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_VIPLevel",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine"}],UIVIPReduced:[function(e,t){"use strict";cc._RF.push(t,"bc40aHT8f9MHrGqrJLQPSbT","UIVIPReduced");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/TrackEventName"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIVIPReduced",this.lbContent=this.GetWndComponent("layer/lb_con",cc.Label)},t.prototype.OnShow=function(){var e=app.UserManager().GetUserInfo;this.lbContent.string=app.i18n.t("UI_VIPReduced_CONTENT",{2:e.keep_level_conf,1:e.vip_id-1})},t.prototype.OnClick=function(e){if("btn_recharge"==e){var t=app.StoreManager().GetStoreName();app.FormManager().InsertForm({formName:t,key:"hall",argumentsList:[{in_type:i.default.PAGETRACK_EVENT_RECHARGE_RELEGATION}]}),this.CloseForm()}},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];app.UserManager().GetUserInfo.keep_level_conf=0,app.FormManager().ShowNextQueueForm("hall")},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/TrackEventName":"TrackEventName"}],UIVIP:[function(e,t){"use strict";cc._RF.push(t,"6c32byOJThAhr1Wnxhc0FNW","UIVIP");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnCreateInit=function(){this.JS_Name="UIVIP",this.RegEvent(i.GameEventDefine.VIP_LOADEND,this.OnVipLoadEnd)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.data=e[0]},t.prototype.OnVipLoadEnd=function(){this.data&&this.data.isjump&&this.scheduleOnce(function(){app.Client.OnEvent(i.GameEventDefine.JUMP_SCROLL_PERCENT,.2)},.5)},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIWheelHelp:[function(e,t){"use strict";cc._RF.push(t,"ef9c8SsSRZOZ4WkcsWh/su4","UIWheelHelp");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t.contentAll=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(i.GameEventDefine.GET_WheelHelpDesc,this.OnGetWheelHelp),this.contentAll=this.GetWndNode("content/list/view/content")},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.node.scale=app.ComTool().H5Platform()?1:.7,app.WheelManager().GetWheelHelpDesc?this.OnGetWheelHelp():app.WheelManager().RequestWheelHelpDesc()},t.prototype.OnGetWheelHelp=function(){this.contentAll.removeAllChildren(),this.OnGetWheelHelpAll(),this.OnGetWheelHelpToday(),this.OnGetWheelHelpYesterday()},t.prototype.OnGetWheelHelpAll=function(){var e=this,t=app.WheelManager().GetWheelHelpDesc;if(t.all&&this.isShowHelp(t.all)){var n=cc.instantiate(this.itemPrefab);this.GetWndComponent("label_title",cc.Label,n).string=app.i18n.t("UI_Wheel_HelpTit1");var o=this.GetWndNode("form",n);o.children.forEach(function(e,t){0!=t&&(e.active=!1)}),this.GetWndComponent("title/label_01",cc.Label,o).string=app.i18n.t("UI_Wheel_Helptxt1");var i=this.GetWndNode("row",o);t.all.forEach(function(t,n){var a=o.children[n+1];a||((a=cc.instantiate(i)).parent=o),a.active=!0,e.GetWndComponent("label_01",cc.Label,a).string=t.min_recharge+"-"+t.max_recharge,e.GetWndComponent("label_02",cc.Label,a).string=""+t.reward_num}),o.getComponent(cc.Layout).updateLayout(),n.active=!0,n.parent=this.contentAll}},t.prototype.OnGetWheelHelpToday=function(){var e=app.WheelManager().GetWheelHelpDesc;e.today&&this.isShowHelp(e.today)&&this.OnWheelHelpDay(e.today,"UI_Wheel_HelpTit2","UI_Wheel_Helptxt2")},t.prototype.OnGetWheelHelpYesterday=function(){var e=app.WheelManager().GetWheelHelpDesc;e.yesterday&&this.isShowHelp(e.yesterday)&&this.OnWheelHelpDay(e.yesterday,"UI_Wheel_HelpTit3","UI_Wheel_Helptxt2")},t.prototype.OnWheelHelpDay=function(e,t,n){var o=this,i=cc.instantiate(this.itemPrefab);this.GetWndComponent("label_title",cc.Label,i).string=app.i18n.t(t);var a=this.GetWndNode("form",i);a.children.forEach(function(e,t){0!=t&&(e.active=!1)}),this.GetWndComponent("title/label_01",cc.Label,a).string=app.i18n.t(n);var r=this.GetWndNode("row",a);e.forEach(function(e,t){var n=a.children[t+1];n||((n=cc.instantiate(r)).parent=a),n.active=!0,o.GetWndComponent("label_01",cc.Label,n).string=""+e.recharge,o.GetWndComponent("label_02",cc.Label,n).string=""+e.reward_num}),a.getComponent(cc.Layout).updateLayout(),i.active=!0,i.parent=this.contentAll},t.prototype.isShowHelp=function(e){var t=0;return e.forEach(function(e){e.reward_num>0&&t++}),e.length>0&&t>0},__decorate([s(cc.Prefab)],t.prototype,"itemPrefab",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIWheelRecord:[function(e,t){"use strict";cc._RF.push(t,"dce36VSCDpDgbX/Lh9Cmiac","UIWheelRecord");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=1,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.RegEvent(i.GameEventDefine.GET_WheelRecord,this.OnGetWheelRecord)},t.prototype.OnEnable=function(){app.WheelManager().RequestWheelRecord(this.type)},t.prototype.OnClick=function(){},t.prototype.SetType=function(e){this.type=e},t.prototype.OnGetWheelRecord=function(e){if(e==this.type)switch(e){case 1:this.OnMyRecord();break;case 2:this.OnAllRecord()}},t.prototype.OnMyRecord=function(){app.WheelManager().GetWheelRecord},t.prototype.OnAllRecord=function(){app.WheelManager().GetWheelRecord},__decorate([r],t)}(o.default));n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/GameEventDefine":"GameEventDefine"}],UIWheel:[function(e,t){"use strict";cc._RF.push(t,"f0cfcKFtfpBXpd3y72PsiVk","UIWheel");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("../../../Common/Base/BaseForm"),a=e("../../../Common/DB/Hall/WheelManager"),r=e("../../../Common/Define/GameEventDefine"),s=e("../../../Common/Define/UINameDefine"),c=e("./wheelEffect"),p=e("./WheelHistory"),l=(o=cc.Node,__extends(function(){return null!==o&&o.apply(this,arguments)||this},o),cc._decorator),h=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topNode=null,t.lotteryNode=null,t.wheelNode=null,t.vipContent=null,t.vipItemContent=null,t.HisLayout=null,t.HisItem=null,t.icon_zw=null,t.drawNum=null,t.bg_bottom=null,t.Ani=null,t.logo=null,t.result=null,t.bg_bottom1=null,t.bg_huan=null,t.isWheel=!1,t.runTimeStart=null,t.RecordNode=null,t.Ispaging=!1,t.IsPush=!0,t.lbl_vipLevel=null,t.node_Timeinterval=null,t.oldNodePosData=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){var e=this;this.topNode=this.GetWndNode("content/top"),this.lotteryNode=this.GetWndNode("content/top/lottery"),this.wheelNode=this.GetWndNode("content/top/wheel"),this.vipContent=this.GetWndNode("content/scrollview/view/content"),this.vipItemContent=this.GetWndNode("content/layer"),this.HisLayout=this.GetWndNode("content/list/Recharge/layout"),this.HisItem=this.GetWndNode("content/list/Recharge/layout/li"),this.icon_zw=this.GetWndNode("content/list/icon_zw"),this.drawNum=this.GetWndNode("tipNode/num",this.lotteryNode).getComponent(cc.Label),this.bg_bottom=this.GetWndNode("bg_bottom",this.topNode),this.Ani=this.GetWndNode("Ani",this.topNode),this.logo=this.GetWndNode("logo",this.topNode),this.result=this.GetWndNode("result",this.topNode),this.bg_bottom1=this.GetWndNode("huan/bg_bottom1",this.topNode),this.bg_huan=this.GetWndNode("huan/bg_huan",this.topNode),this.RecordNode=this.GetWndNode("content/list"),this.lbl_vipLevel=this.GetWndComponent("content/top/wheel/spin/vip/label_num",cc.Label),this.node_Timeinterval=this.GetWndComponent("content/top/time",cc.Label),this.oldNodePosData={bg_bottom:{x:this.bg_bottom.x,y:this.bg_bottom.y},Ani:{x:this.Ani.x,y:this.Ani.y},logo:{x:this.logo.x,y:this.logo.y},result:{x:this.result.x,y:this.result.y},bg_bottom1:{x:this.bg_bottom1.x,y:this.bg_bottom1.y},bg_huan:{x:this.bg_huan.x,y:this.bg_huan.y},lotteryNode:{x:this.lotteryNode.x,y:this.lotteryNode.y},wheelNode:{x:this.wheelNode.x,y:this.wheelNode.y}},this.RegEvent(r.GameEventDefine.GET_WheelInfo,this.OnGetWheelInfo),this.RegEvent(r.GameEventDefine.GET_WheelRun,this.OnPlayWheel),this.RegEvent(r.GameEventDefine.GET_WheelRecord,this.OnWheelRecord),this.RegEvent(r.GameEventDefine.COMPANY_PAYMENT,function(){e.scheduleOnce(function(){app.WheelManager().RequestWheelConf()},1)}),app.Client.RegEvent(r.GameEventDefine.UPGRADE_VIPLV,function(){app.WheelManager().RequestWheelConf()},this)},t.prototype.OnShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.onQuestNodeDisable(),app.WheelManager().RequestWheelConf(),this.Ispaging=!1,app.WheelManager().RequestWheelRecord(a.WheelRecordType.Allrecord),this.SwitchRecordTitle(!0),this.setBtnRun(!1),this.IsPush=!0,this.node_Timeinterval.string="",this.result.active=!0,this.result.children.forEach(function(e){e.active=!1,e.opacity=255})},t.prototype.OnGetWheelInfo=function(){var e=app.WheelManager().GetWheelInfo;e&&(this.OnWheelView(e.wheel_config),this.setDrawNum(e.draw_num),this.GetWndComponent("content/explain/richtext",cc.RichText).string=e.wheel_desc,this.node_Timeinterval.string=e.start_date+" - "+e.end_date,this.lbl_vipLevel.string=""+(app.UserManager().GetUserInfo.vip_id-1))},t.prototype.setDrawNum=function(e){e=Math.max(e,0),this.drawNum.string=e+"",this.setBtnRun(e>0)},t.prototype.setBtnRun=function(e){this.GetWndNode("button",this.lotteryNode).getComponent(cc.Button).interactable=e},t.prototype.onQuestNodeDisable=function(){this.GetWndNode("guest",this.lotteryNode).active=!app.UserManager().getIsOfficialAccount(),this.GetWndNode("button",this.lotteryNode).active=app.UserManager().getIsOfficialAccount(),this.GetWndNode("tipNode",this.lotteryNode).active=app.UserManager().getIsOfficialAccount()},t.prototype.OnClick=function(e){var t=this;if("button"!=e)if("btn_back"!=e){if("help"!=e)return"tog_history"==e?(app.WheelManager().RequestWheelRecord(a.WheelRecordType.Allrecord),void this.SwitchRecordTitle(!0)):"tog_rewards"==e?(app.WheelManager().RequestWheelRecord(a.WheelRecordType.Myrecord),void this.SwitchRecordTitle(!1)):void 0;app.FormManager().ShowForm(s.UINameDefine.UIWheelHelp)}else{this.isWheel=!1,this.GetWndComponent("btn_back",cc.Button,this.result).interactable=!1,this.result;var n=this.topNode.getComponent(cc.Animation),o=app.ComTool().H5Platform()?"result_quit_V":"result_quit_H";this.onPlayAnimEndFn(n,o,function(){t.OnSetResultLabel();var e=app.ComTool().H5Platform()?"movie_quit":"movie_web_quit";n.play(e),t.scheduleOnce(function(){t.GetWndComponent("btn_back",cc.Button,t.result).interactable=!0},2)})}else this.isWheel||(this.isWheel=!0,app.WheelManager().RequestWheelRun(),this.runTimeStart=setTimeout(function(){clearTimeout(t.runTimeStart),t.isWheel=!1,t.setBtnRun(!0)},3e3),this.setBtnRun(!1))},t.prototype.OnPlayWheel=function(e){var t=this;clearTimeout(this.runTimeStart),this.isWheel=!0;var n=this.topNode.getComponent(cc.Animation),o=app.ComTool().H5Platform()?"movie":"movie_web";this.onPlayAnimEndFn(n,o,function(){var n=t.wheelNode.getComponent(c.default);n&&n.SetTargetIDAngle(e.stall_id),t.OnSetResultLabel(""+e.gold)}),this.setDrawNum(e.draw_num)},t.prototype.SwitchRecordTitle=function(e){this.GetWndNode("content/list/title_rewards").active=!e,this.GetWndNode("content/list/title_history").active=e},t.prototype.OnWheelRecord=function(e){var t=app.WheelManager().GetWheelRecord;if(e==a.WheelRecordType.Allrecord&&this.Ispaging)return this.HisToryDate=t,void(this.Ispaging=!1);var n=[];this.HisToryDate=t;var o=this.RecordNode.getComponent(p.default);this.unscheduleAllCallbacks(),e==a.WheelRecordType.Allrecord?(n=this.HisToryDate.length>20?this.HisToryDate.splice(20,this.HisToryDate.length-20):this.HisToryDate,o.historyDate=n,this.IsPush=!0,this.schedule(this.UpdateRecord,1)):(n=this.HisToryDate,o.historyDate=n),o.historytype=e,o.parent=this.node,o.int()},t.prototype.UpdateRecord=function(){var e=this;this.IsPush&&(this.IsPush=!1,this.scheduleOnce(function(){var t=e.RecordNode.getComponent(p.default);e.HisToryDate.length>0?t.BackPushData(e.HisToryDate.splice(0,1)[0]):(e.Ispaging=!0,app.WheelManager().RequestWheelRecord(a.WheelRecordType.Allrecord)),e.IsPush=!0},Math.round(5*Math.random())))},t.prototype.OnSetResultLabel=function(e){void 0===e&&(e=""),this.GetWndNode("content/top/result/gold_bg/gold/lbl").getComponent(cc.Label).string=e},t.prototype.onPlayAnimEndFn=function(e,t,n){e.play(t),e.once("finished",n)},t.prototype.OnWheelView=function(e){this.GetWndNode("wheel",this.wheelNode).children.forEach(function(t,n){if(e[n]){var o=e[n].gold.replace(/(\.0+)+$/,"");t.getChildByName("lbl").getComponent(cc.Label).string=o}})},t.prototype.OnReductionUI=function(){this.topNode.getComponent(cc.Animation).stop(),app.ComTool().H5Platform()?(this.bg_bottom.y=this.oldNodePosData.bg_bottom.y,this.Ani.y=this.oldNodePosData.Ani.y,this.logo.y=this.oldNodePosData.logo.y,this.result.y=this.oldNodePosData.result.y,this.bg_huan.y=this.oldNodePosData.bg_huan.y,this.bg_bottom1.y=this.oldNodePosData.bg_bottom1.y,this.lotteryNode.y=this.oldNodePosData.lotteryNode.y,this.wheelNode.y=this.oldNodePosData.wheelNode.y,this.wheelNode.scale=1.3):(this.bg_bottom.x=this.oldNodePosData.bg_bottom.x,this.Ani.x=this.oldNodePosData.Ani.x,this.logo.x=this.oldNodePosData.logo.x,this.result.x=this.oldNodePosData.result.x,this.bg_huan.x=this.oldNodePosData.bg_huan.x,this.bg_bottom1.x=this.oldNodePosData.bg_bottom1.x,this.lotteryNode.x=this.oldNodePosData.lotteryNode.x,this.wheelNode.x=this.oldNodePosData.wheelNode.x,this.wheelNode.scale=1),this.logo.opacity=255,this.lotteryNode.opacity=255},t.prototype.OnClose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.OnReductionUI(),clearTimeout(this.runTimeStart),this.isWheel=!1,this.unscheduleAllCallbacks(),app.RoomManager().SetWheelAnimation(!1),app.Client.OnEvent(r.GameEventDefine.UPDATE_USER_INFO)},__decorate([h],t)}(i.default));n.default=d,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/DB/Hall/WheelManager":"WheelManager","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/UINameDefine":"UINameDefine","./WheelHistory":"WheelHistory","./wheelEffect":"wheelEffect"}],UIWithdrawDesc:[function(e,t){"use strict";cc._RF.push(t,"900737IHphDE4u9k2RYPaGk","UIWithdrawDesc");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/BaseForm"),i=e("../../../Common/Define/GameEventDefine"),a=e("../../../Common/Define/TextDefine"),r=cc._decorator,s=r.ccclass,c=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.bet_Pro=null,t.bet_Node=null,t.lbl_bet=null,t.lbl_can_withdraw=null,t.lbl_not_withdraw=null,t.tagname="user_center_withdraw_desc",t.gold_icon=null,t.gold_icon1=null,t}return __extends(t,e),t.prototype.OnCreateInit=function(){this.RegEvent(i.GameEventDefine.GET_USER_AndOrder,this.OnInitView),this.gold_icon=this.GetWndNode("general/top/right/btn_withdraw/node_amount/label_symbol/spr_icon"),this.gold_icon1=this.GetWndNode("general/top/right/node_amount/label_symbol/spr_icon")},t.prototype.OnShow=function(){app.UserManager().RequestUserAndOrder(0,20,1);var e=app.TextManager().GetTextInfo(a.TextDefine.user_center_withdraw);e&&this.getLbl(e);var t=app.GameConfigManager().GetGoldIcomCondition;this.gold_icon.active=t,this.gold_icon1.active=t},t.prototype.OnInitView=function(){var e=app.UserManager().GetUserAndOrderInfo;this.bet_Node.getChildByName("label").getComponent(cc.Label).string=e.user_info.current_bet.toFixed(2),this.bet_Node.getChildByName("total").getComponent(cc.Label).string=e.user_info.all_bet.toFixed(2),this.bet_Node.active=!0;var t=0==e.user_info.all_bet?0:Number(e.user_info.current_bet)/Number(e.user_info.all_bet);this.bet_Pro.progress=t,this.bet_Pro.node.active=!0,this.lbl_bet.string=(100*t).toFixed(2)+"%",this.lbl_bet.node.active=!0;var n=app.GameConfigManager().GetCurrency;this.lbl_can_withdraw.string=n+" "+e.user_info.can_withdraw.toFixed(2),this.lbl_not_withdraw.string=n+" "+e.user_info.not_withdraw.toFixed(2)},t.prototype.getLbl=function(e){this.value.string=app.ComTool().htmlRestore(e)||""},__decorate([c(cc.RichText)],t.prototype,"value",void 0),__decorate([c(cc.ProgressBar)],t.prototype,"bet_Pro",void 0),__decorate([c(cc.Node)],t.prototype,"bet_Node",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_bet",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_can_withdraw",void 0),__decorate([c(cc.Label)],t.prototype,"lbl_not_withdraw",void 0),__decorate([s],t)}(o.default);n.default=p,t.exports=n,cc._RF.pop()},{"../../../Common/Base/BaseForm":"BaseForm","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/TextDefine":"TextDefine"}],UserManager:[function(e,t){"use strict";cc._RF.push(t,"e12abp8wSxK4qAjMNaNvIJD","UserManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.UserManager=n.ReqUpdateUserInfo=void 0;var o=e("../Base/Singleton"),i=e("../Define/GameEventDefine"),a=e("../Define/HttpServerDefine"),r=e("../Define/ShareDefine"),s=e("../Define/TrackEventName"),c=e("../Define/UINameDefine");n.ReqUpdateUserInfo=function(e,t,n){this.token=e,null!=t&&(this.nickname=t),null!=n&&(this.headimg=n)};var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UserWallet=null,t.UserInfo=null,t.UserAndOrderInfo=null,t.GameRatio=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="UserManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USER_WALLET,this.onGetUserWallet,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USERINFO,this.onGetUserInfo,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_CODE,this.onGetCode,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_EMAILCODE,this.onGetEmailCode,this),app.HttpServerManager().RegNetPack(a.HttpAPI.UPDATE_USER_INFO,this.onUpdateUserInfo,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USER_AndOrder,this.onGetUserAndOrder,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_GAMERATIO,this.onGetGameratio,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_CHANGE_PWD,this.onGetChangePwd,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USER_BING_ACCOUNT,this.onGetUserBingAccount,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_USER_BING_TEL,this.onGetUserBingTel,this),app.HttpServerManager().RegNetPack(a.HttpAPI.CHANGE_BIRTHDAY,this.onChangeBirthday,this),app.HttpServerManager().RegNetPack(a.HttpAPI.getGoldAndTonRecord,this.onGetGoldAndTonRecord,this),app.HttpServerManager().RegNetPack(a.HttpAPI.clickSPIN,this.onClickSPIN,this),app.HttpServerManager().RegNetPack(a.HttpAPI.getWithdrawal,this.onGetWithdrawal,this),app.HttpServerManager().RegNetPack(a.HttpAPI.BindWallet,this.onBindWallet,this),app.HttpServerManager().RegNetPack(a.HttpAPI.UnbindWallet,this.onUnbindWallet,this)},t.prototype.onChangeBirthday=function(e){this.UserInfo.birthday=e.birthday,app.Client.OnEvent(i.GameEventDefine.CHANGE_BIRTHDAY)},t.prototype.onGetUserBingTel=function(e){this.UserInfo.tel=e.tel,this.UserInfo.area=e.area,app.Client.OnEvent(i.GameEventDefine.GET_BIND_TEL)},t.prototype.RequestBingTel=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USER_BING_TEL,e)},t.prototype.onGetUserBingAccount=function(e){this.UserInfo.account=e.account,app.Client.OnEvent(i.GameEventDefine.GET_BIND_EMAIL)},t.prototype.RequestBingAccount=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USER_BING_ACCOUNT,e)},t.prototype.onGetChangePwd=function(e,t){app.LoginManager().GetChangePaw(e.token,t.new_pwd)},t.prototype.RequestChangePwd=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_CHANGE_PWD,e)},t.prototype.onGetUserAndOrder=function(e,t){this.UserAndOrderInfo=e,0==t.type?app.Client.OnEvent(i.GameEventDefine.GET_USER_AndOrder):3==t.type?app.Client.OnEvent(i.GameEventDefine.GET_AndOrder_REC):2==t.type&&app.Client.OnEvent(i.GameEventDefine.GET_AndOrder_WITH)},t.prototype.onGetGoldAndTonRecord=function(e){e||(e=[]),app.Client.OnEvent(i.GameEventDefine.getGoldAndTonRecord,e)},t.prototype.onClickSPIN=function(e){app.Client.OnEvent(i.GameEventDefine.clickSPIN,e)},t.prototype.onBindWallet=function(e){app.Client.OnEvent(i.GameEventDefine.BindWallet,e)},t.prototype.onUnbindWallet=function(e){app.Client.OnEvent(i.GameEventDefine.UnbindWallet,e)},t.prototype.onGetWithdrawal=function(e){e&&(e.withdrawalList||(e.withdrawalList=[])),app.Client.OnEvent(i.GameEventDefine.getWithdrawal,e)},t.prototype.onGetGameratio=function(e){this.GameRatio=e,app.Client.OnEvent(i.GameEventDefine.GET_GAMERATIO)},t.prototype.RequestGetGamerati=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_GAMERATIO,{token:app.UserManager().GetUserInfo.token})},Object.defineProperty(t.prototype,"GetUserAndOrderInfo",{get:function(){return this.UserAndOrderInfo},enumerable:!1,configurable:!0}),t.prototype.RequestUserAndOrder=function(e,t,n,o,i){if(isgoServer){var r=new Date;o||(o=new Date(r.getTime()-864e6).format("yyyy-MM-dd")),i||(i=r.format("yyyy-MM-dd"))}var s={token:app.UserManager().GetUserInfo.token,type:e,limit:t,page:n};o&&(s.start_date=o),i&&(s.end_date=i),app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USER_AndOrder,s)},t.prototype.RequestUserBalanceChangeRecords=function(){},t.prototype.RequestUserGoldAndTonRecord=function(e,t,n){var o={token:app.UserManager().GetUserInfo.token,type:e,page:n};app.HttpServerManager().SendHttpPack(a.HttpAPI.getGoldAndTonRecord,o)},t.prototype.RequestUserClickSPIN=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(a.HttpAPI.clickSPIN,e)},t.prototype.RequestUserBindWallet=function(e){e.walletStateInit="";var t={token:app.UserManager().GetUserInfo.token,walletAccount:e};app.HttpServerManager().SendHttpPack(a.HttpAPI.BindWallet,t)},t.prototype.RequestUserUnbindWallet=function(){var e={token:app.UserManager().GetUserInfo.token};app.HttpServerManager().SendHttpPack(a.HttpAPI.UnbindWallet,e)},t.prototype.RequestUserGetWithdrawal=function(e,t){var n={token:app.UserManager().GetUserInfo.token,type:e,id:t};app.HttpServerManager().SendHttpPack(a.HttpAPI.getWithdrawal,n)},t.prototype.RequstUserWallet=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USER_WALLET,{token:app.UserManager().GetUserInfo.token,type:e?e.type:null})},t.prototype.onGetUserWallet=function(e){this.UserWallet=e,this.UserInfo.cash=e.withdraw_gold,this.UserInfo.gold=Number(e.gold),this.UserInfo.total_recharge=Number(e.total_recharge),this.UserInfo.bonus=Number(e.bonus),this.UserInfo.ton=Number(e.ton),app.Client.OnEvent(i.GameEventDefine.GET_USER_WALLET)},t.prototype.GetUserWallet=function(){return this.UserWallet},t.prototype.setUserWallet_allow_bind=function(e){this.UserWallet.is_allow_bind=e},t.prototype.RequestUpdateUserInfo=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.UPDATE_USER_INFO,e)},t.prototype.onUpdateUserInfo=function(e){e.nickname&&(this.UserInfo.nickname=e.nickname),e.headimg&&(this.UserInfo.headimg=String(e.headimg)),app.SysNotifyManager().ShowToast("Sc_Successfully_modified"),app.FormManager().CloseForm(c.UINameDefine.UIPlayerEditInfo),app.Client.OnEvent(i.GameEventDefine.UPDATE_USER_INFO)},t.prototype.RequestUserInfo=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_USERINFO,e)},t.prototype.onGetUserInfo=function(e,t){var n=e.code;if(n)return n===r.ReqFailCode.IP_DEVICE_LIMIT?app.LoginManager().VisitorLogin():void this.ErrLog("onGetUserInfo fail, code: "+e.code+", msg: "+e.msg);t.pkgName?(app.EventTrackManager().LogEvent(s.default.TOKEN_LOGIN_END),app.LoginManager().SetUserInfoAndLoginGS(e)):(this.UserInfo.total_recharge=e.total_recharge,this.UserInfo.keep_level_conf=e.keep_level_conf,this.UserInfo.is_keep_level=e.is_keep_level,app.Client.OnEvent(i.GameEventDefine.UPDATE_TOTAL_RECHARGE))},t.prototype.SetUserInfo=function(e){this.UserInfo=e,this.UserInfo.gold=e.gold||0,this.UserInfo.user_config.is_open_debug&&app.Client.InitDebug(!0),0==e.user_config.game_arr.length&&app.SysNotifyManager().ShowToast("Get User Configuration Failed."),this.SaveLoginUser(e),app.ExternGameManager().RequestGameDown(),app.GameConfigManager().RequestGameList(),app.HGameManager().RequestAllInfo(),app.Client.OnEvent(i.GameEventDefine.GET_USER_INFO),e.first_login&&(app.NativeMgr().AdjustlogEvent(s.default.USER_REGISTER),app.NativeMgr().FacebooklogEvent(s.default.USER_REGISTER),app.EventTrackManager().LogEvent(s.default.USER_REGISTER))},Object.defineProperty(t.prototype,"GetUserInfo",{get:function(){return this.UserInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetUserRechargeActivity",{get:function(){return this.UserInfo.recharge_activity},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetUserInfoConfig",{get:function(){return this.UserInfo?this.UserInfo.user_config:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GetRefreshFreeShow",{get:function(){return 0==Number(this.UserInfo.total_recharge)||Number(this.UserInfo.total_recharge)<app.GameConfigManager().GetGameConfig().experience_recharge_limit},enumerable:!1,configurable:!0}),t.prototype.UpdateGold=function(e){return this.UserInfo.gold=Big(e).plus(this.UserInfo.gold).toNumber()},t.prototype.UpdateUserInfo=function(e){this.UserInfo.ip=e.ip,this.UserInfo.card_num=e.card_num,this.UserInfo.gold=e.gold,this.UserInfo.room_no=null==e.room_no?0:e.room_no,this.UserInfo.is_reconned=this.UserInfo.room_no>0,this.UserInfo.roomMode||(this.UserInfo.roomMode=e.roomMode),this.SaveCurrentUser()},t.prototype.getIsOfficialAccount=function(e){var t=""===(e=e||this.UserInfo).third_token&&""===e.tel&&""===e.account&&""===e.email;return 1==Number(e.is_official_account)&&(t=!1),!t},t.prototype.GetQuestAccount=function(){for(var e=this.GetLoginUserList(),t=0;t<e.length;t++){var n=e[t];if(!this.getIsOfficialAccount(n))return n}return null},t.prototype.GetIsOfficialPopup=function(){return!this.getIsOfficialAccount()&&!app.GameConfigManager().IsExperienceServer&&(app.FormManager().ShowForm(c.UINameDefine.UILoginSign,1),!0)},t.prototype.GetIsOfficialPopup2=function(){return!this.getIsOfficialAccount()&&!app.GameConfigManager().IsExperienceServer&&(app.FormManager().ShowForm(c.UINameDefine.UILoginSign,2),!0)},t.prototype.GetKeyLoginUserList=function(){return"login_user_data"},t.prototype.GetNormalLoginUserList=function(){return app.LocalDataManager().GetConfigObject("login_user_data")||[]},t.prototype.GetLoginUserList=function(){var e=this.GetKeyLoginUserList();return app.LocalDataManager().GetConfigObject(e)||[]},t.prototype.SaveLoginUserList=function(e){var t=this.GetKeyLoginUserList();return app.LocalDataManager().SetConfigObject(t,e)},t.prototype.SaveLoginUser=function(e){for(var t=e.uid,n=this.GetLoginUserList(),o=-1,i=0,a=n.length;i<a;i++)if(n[i].uid==t){o=i;break}o>-1?(n.splice(o,1),n.unshift(e)):n.unshift(e),this.SaveLoginUserList(n)},t.prototype.GetLastLoginUser=function(e){void 0===e&&(e=!1);var t=e?this.GetNormalLoginUserList():this.GetLoginUserList();return t.length>0?t[0]:null},t.prototype.RemoveLastLoginUser=function(){var e=this.GetLastLoginUser();e&&this.RemoveLoginUser(e.uid)},t.prototype.RemoveLoginUser=function(e){for(var t=this.GetLoginUserList(),n=0,o=t.length;n<o;n++)if(t[n].uid==e){var i=t.splice(n,1);return this.SaveLoginUserList(t),i}return!0},t.prototype.RemoveCurrentUser=function(){var e=this.GetKeyUserData();app.LocalDataManager().Remove(e),this.RemoveLastLoginUser()},t.prototype.SaveCurrentUser=function(){var e=this.GetKeyUserData();app.LocalDataManager().SetConfigObject(e,this.UserInfo)},t.prototype.GetKeyUserData=function(){return"userdata"},t.prototype.fetchValidateCode=function(e){app.ClickInterceptorHelp().checkClickAllow(2e3)&&app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_CODE,e)},t.prototype.onGetCode=function(e){app.SysNotifyManager().ShowToast("SuccessfullySent"),app.Client.OnEvent(i.GameEventDefine.GET_CODE_SUCCESS,e)},t.prototype.RequestEmailCode=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_EMAILCODE,e)},t.prototype.onGetEmailCode=function(e){app.Client.OnEvent(i.GameEventDefine.GET_EMAIL_CODE_SUCCESS,e)},t}(o.Singleton);n.UserManager=p,t.exports=n,cc._RF.pop()},{"../Base/Singleton":"Singleton","../Define/GameEventDefine":"GameEventDefine","../Define/HttpServerDefine":"HttpServerDefine","../Define/ShareDefine":"ShareDefine","../Define/TrackEventName":"TrackEventName","../Define/UINameDefine":"UINameDefine"}],VIPManager:[function(e,t){"use strict";cc._RF.push(t,"df014Yi2wdLV4K3pRsD1XMT","VIPManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.VIPManager=void 0;var o=e("../../Define/ShareDefine"),i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine"),s=e("../../Define/UINameDefine"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameVipUpgradeTime={18e3:2,1400:4,3e5:6},t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="VIPManager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.VIP_LIST,this.onVipList,this),app.HttpServerManager().RegNetPack(r.HttpAPI.VIP_RECEIVE,this.onVipReceive,this),app.Client.RegEvent(a.GameEventDefine.UPGRADE_VIPLV,this.ReceiveVipUpdata,this)},t.prototype.RequestVipList=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.VIP_LIST,{token:app.UserManager().GetUserInfo.token})},t.prototype.ReceiveVipUpdata=function(e){this.setVipUpgradeData(e),this.checkVipUpgrade()},t.prototype.setVipUpgradeData=function(e){app.LocalDataManager().SetConfigProperty(app.UserManager().GetUserInfo.uid+"UpgradeVipLv","Updata",e)},t.prototype.delVipUpgradeData=function(){app.LocalDataManager().Remove(app.UserManager().GetUserInfo.uid+"UpgradeVipLv")},t.prototype.getVipUpgradeData=function(){return!!app.LocalDataManager().HaveConfigProperty(app.UserManager().GetUserInfo.uid+"UpgradeVipLv","Updata")&&app.LocalDataManager().GetConfigProperty(app.UserManager().GetUserInfo.uid+"UpgradeVipLv","Updata")},t.prototype.checkVipUpgrade=function(){if(this.getVipUpgradeData()&&app.FormManager().IsFormShow(s.UINameDefine.UIHall)){var e=this.GameVipUpgradeTime[app.UserManager().GetUserInfo.roomMode];e?setTimeout(function(){app.FormManager().ShowForm(s.UINameDefine.UIUpgrade)},1e3*e):app.FormManager().EnqueueForm({formName:s.UINameDefine.UIUpgrade,key:"hall"})}},t.prototype.CheckVipReduced=function(){app.UserManager().GetUserInfo.keep_level_conf&&app.ComTool().H5Platform()&&app.FormManager().EnqueueForm({formName:s.UINameDefine.UIVIPReduced,key:"hall"})},t.prototype.onVipList=function(e){this.VIPList=e,app.Client.OnEvent(a.GameEventDefine.VIP_LIST,e),1==isgoServer&&(app.UserManager().GetUserInfo.vip_id=e.vip_id,app.Client.OnEvent(a.GameEventDefine.UPDATE_USER_VIP))},t.prototype.getShowVipList=function(e){for(var t=this.VIPList.show_vip_list,n=0;n<t.length;++n)if(t[n].id==e)return t[n];return null},t.prototype.RequestVipReceive=function(e,t){app.HttpServerManager().SendHttpPack(r.HttpAPI.VIP_RECEIVE,{token:app.UserManager().GetUserInfo.token,type:e,id:t})},t.prototype.onVipReceive=function(e){app.Client.OnEvent(a.GameEventDefine.VIP_RECEIVE,e),app.GoldRewardManager().FormGoldReward({gold:e.gold,source:app.i18n.t("UI_Reward")}),app.RedDotManager().updateSingleData({type:o.RedDotStr.vip_cash_gift,bShow:!1})},t.prototype.GetBackHallVip=function(){if(!app.UserManager().getIsOfficialAccount()||!app.FormManager().IsFormShow(s.UINameDefine.UIHall))return!1;var e=app.RedDotManager().ShowRedDotDataResult;if(e){var t=e.vip_cash_gift;if(t&&t.is_show&&t.is_show)return!!this.CheckOneDayShowVip()&&(app.FormManager().EnqueueForm({formName:s.UINameDefine.UIBetBonusGold,key:"hall",argumentsList:[{type:o.SelTypeNode.vip}]}),!0)}return!1},t.prototype.CheckOneDayShowVip=function(){var e=new Date,t={day:e.getDate(),month:e.getMonth()},n=app.LocalDataManager().GetConfigObject(app.UserManager().UserInfo.uid+"OneDayShowVip");return!(n&&n.day==t.day&&n.month==t.month||(app.LocalDataManager().SetConfigObject(app.UserManager().UserInfo.uid+"OneDayShowVip",t),0))},t}(i.Singleton);n.VIPManager=c,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine","../../Define/ShareDefine":"ShareDefine","../../Define/UINameDefine":"UINameDefine"}],VibrationMgr:[function(e,t){"use strict";cc._RF.push(t,"9c631lN2IRDh7vWt/CSWbGf","VibrationMgr");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.VibrationMgr=void 0;var o=function(e){function t(){var t=e.call(this)||this;return t.OpenVibration=!1,t.JS_Name="VibrationMgr",t.Log("Init"),t.OpenVibration=app.LocalDataManager().GetConfigProperty("SysSetting","ShieldShake"),t}return __extends(t,e),t.prototype.SetVibration=function(e){this.OpenVibration=e,app.LocalDataManager().SetConfigProperty("SysSetting","ShieldShake",e)},Object.defineProperty(t.prototype,"GetOpenVibration",{get:function(){return this.OpenVibration},enumerable:!1,configurable:!0}),t}(e("./Singleton").Singleton);n.VibrationMgr=o,t.exports=n,cc._RF.pop()},{"./Singleton":"Singleton"}],VipInfoBase:[function(e,t){"use strict";cc._RF.push(t,"af1e3sXdCBHIrW5n9b8bohE","VipInfoBase");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/ColorDefine"),a=e("../../../Common/Define/GameEventDefine"),r=e("../../../Common/Define/TrackEventName"),s=["UI_Player_Vip_highest_level","UI_Player_Vip_Maxlevel"],c="common/atlas/VIP/",p=cc._decorator,l=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipSprS=[],t.moveNode=null,t.contentNode=null,t.contentNode1=null,t.bottomNode=null,t.PageBg=[],t.GoldBg=[],t.BeganPositionX=0,t.moveNum=0,t.startPositionX=null,t.EndPositionX=null,t.startPositionY=null,t.EndPositionY=null,t.isPlayAnim=!1,t.test=!1,t.keepGold=0,t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.JS_Name="VipInfoBase",this.RegEvent(a.GameEventDefine.VIP_LIST,this.showVipInfo),this.RegEvent(a.GameEventDefine.VIP_RECEIVE,this.showSuccess),this.RegEvent(a.GameEventDefine.UPDATE_TOTAL_RECHARGE,this.OnRequestVipList),this.moveNode.on(cc.Node.EventType.TOUCH_START,this.OnPageStart,this),this.moveNode.on(cc.Node.EventType.TOUCH_MOVE,this.OnPageMove,this),this.moveNode.on(cc.Node.EventType.TOUCH_END,this.OnPageEnd,this),this.moveNode.on(cc.Node.EventType.TOUCH_CANCEL,this.OnPageCancel,this),this.RegEvent(a.GameEventDefine.GET_FAQ_INFO,this.onVIPFaqInfo)},t.prototype.OnEnable=function(){this.contentNode.active=!1,this.contentNode1.active=!1,this.bottomNode.active=!1,this.onHideAllNode(),this.OnRequestVipList()},t.prototype.OnRequestVipList=function(){app.VIPManager().RequestVipList()},t.prototype.OnTouchMove=function(e){app.Client.OnEvent(a.GameEventDefine.MOVE_CONTENT,e.getDeltaY())},t.prototype.OnClick=function(e,t,n){if("btn_grade"!=e&&"btn_week"!=e&&"btn_month"!=e)"btn_goTip"!=e?"btn_recharge"!=e||app.StoreManager().ShowStoreUI({in_type:r.default.PAGETRACK_EVENT_RECHARGE_VIP}):(o=app.i18n.t("UI_VIP_keepTip").replace("{gold}",""+this.keepGold),app.SysNotifyManager().ShowToast(o));else{if(app.UserManager().GetIsOfficialPopup())return;if(this.keepGold>0&&this.getIsReceive(app.UserManager().UserInfo.vip_id)){var o=app.i18n.t("UI_VIP_keepTip").replace("{gold}",""+this.keepGold);return void app.SysNotifyManager().ShowToast(o)}app.VIPManager().RequestVipReceive(Number(n),this.showLv)}},t.prototype.showVipInfo=function(e){var t=this;this.initViewBottom();var n=this.contentNode.children,o=this.contentNode.children[0];if(this.getListInfo=e.list,e.show_vip_list.forEach(function(i,a){var r=n[a];r||((r=cc.instantiate(o)).parent=t.contentNode),t.setPageViewInfo(r,e,i),r.active=!0}),this.showLv=e.vip_id,0!=e.list.length){var i=this.contentNode1.children,a=i[0];this.getListInfo.forEach(function(e,n){var o=i[n];o||((o=cc.instantiate(a)).parent=t.contentNode1),t.renderLvGetInfo(e.id),o.active=!0}),this.renderCurrentVipLv(),a.children[1].getChildByName("content").getComponent(cc.Layout).updateLayout(),a.children[1].getComponent(cc.Layout).updateLayout(),a.getComponent(cc.Layout).updateLayout(),this.contentNode1.height=a.height,this.bottomNode.active=app.GameConfigManager().IsVIPKeepSwitch}else this.ErrLog("showVipInfo error")},t.prototype.setPageViewInfo=function(e,t,n){var o=n.id,i=o-1,a=this.PageBg.length,r=o>=a?a:o,p=i>=a?a-1:i,l=e.children[0];l.getComponent(cc.Sprite).spriteFrame=this.PageBg[p],this.GetWndComponent("icon_vx",cc.Sprite,l).spriteFrame=this.vipSprS[p];var h=this.GetWndNode("label_level",l);this.setVipLblColor(h,i),h.getComponent(cc.Label).string="V"+i;var d=this.GetWndNode("lock",l);this.GetWndNode("Layout",d).active=0==app.UserManager().UserInfo.is_keep_level&&o<=app.UserManager().UserInfo.vip_id,this.setNumLblColor(this.GetWndNode("Layout/icon_lock",d),i),this.setNumLblColor(this.GetWndNode("Layout/label",d),i),this.setVipLblColor(this.GetWndNode("Layout",d),i);var u=this.GetWndNode("label_current",l);u.active=this.getSelfVip(o),this.setVipLblColor(u,i);var _=this.GetWndNode("lb_passed",l);_.active=o<app.UserManager().UserInfo.vip_id,this.setVipLblColor(_,i),this.GetWndNode("no_standard",l).active=o>app.UserManager().UserInfo.vip_id;var m=this.GetWndNode("info",l),g=this.getLvInfo(o+1);if(g){var f=this.GetWndNode("topup",m);this.setVipLblColor(this.GetWndNode("label_topup",f),i),this.setNumLblColor(this.GetWndNode("label_num",f),i),this.GetWndComponent("label_num",cc.Label,f).string=this.formatScore(t.recharge_gold)+"/"+this.formatScore(g.min_recharge);var y=this.GetWndNode("progressBar_topup",m);this.setSpriteFrame(c+"progressBar_bgv"+r,y),this.setSpriteFrame(c+"progressBar_barv"+r,this.GetWndNode("bar",y));var v=Number(t.recharge_gold)/Number(g.min_recharge);this.GetWndComponent("progressBar_topup",cc.ProgressBar,m).progress=v>1?1:v;var E=this.GetWndNode("still",m);this.setVipLblColor(this.GetWndNode("label_topup",E),i),this.setNumLblColor(this.GetWndNode("label_num",E),i),this.GetWndComponent("label_num",cc.Label,E).string=this.formatScore(t.vip_bets)+"/"+this.formatScore(g.min_bet);var C=this.GetWndNode("progressBar_still",m);this.setSpriteFrame(c+"progressBar_bgv"+r,C),this.setSpriteFrame(c+"progressBar_barv"+r,this.GetWndNode("bar",C));var M=Number(t.vip_bets)/Number(g.min_bet);this.GetWndComponent("progressBar_still",cc.ProgressBar,m).progress=M>1?1:M;var S=this.GetWndNode("label_topup",C);this.setVipLblColor(S,i);var I=this.GetWndNode("label_topup1",C);I.getComponent(cc.Label).string="V"+o,this.setVipLblColor(I,i),m.active=o>=app.UserManager().UserInfo.vip_id&&o<t.show_vip_list.length}else m.active=!1;var G=this.GetWndComponent("lb_MaxLevel",cc.Label,l);this.setVipLblColor(G.node,i),G.node.active=o>=t.show_vip_list.length;var O=o>=t.show_vip_list.length&&this.getSelfVip(o)?0:1;G.string=app.i18n.t(s[O]);var T=this.GetWndNode("relegation",l);if(this.getIsReceive(o)){T.active=!0,m.active=!1,G.node.active=!1,this.setVipLblColor(this.GetWndNode("topup/label_topup",T),i),this.setVipLblColor(this.GetWndNode("label",T),i);var R=this.GetWndNode("relegationPro",T);this.setSpriteFrame(c+"progressBar_bgv"+r,R),this.setSpriteFrame(c+"progressBar_barv"+r,this.GetWndNode("bar",R));var D=Number(t.week_recharge)/Number(n.lv_keep_recharge);this.GetWndComponent("relegationPro",cc.ProgressBar,T).progress=D>1?1:D,this.setNumLblColor(this.GetWndNode("topup/label_num",T),i),this.GetWndComponent("topup/label_num",cc.Label,T).string=this.formatScore(t.week_recharge)+"/"+this.formatScore(n.lv_keep_recharge),this.keepGold=Number(n.lv_keep_recharge)}else T.active=!1},t.prototype.setLVNodeView=function(e,t,n,o){var i=this.GetWndNode("state_lock",t),a=this.GetWndNode("Received",t);a.getChildByName("mask").active=!this.getSelfVip(e),this.setNumLblColor(i,o),this.setNumLblColor(this.GetWndNode("label_tips",a),this.getSelfVip(e)?o:-1),this.setNumLblColor(this.GetWndNode("Uncompleted/icon_lock",t),o),this.setVipLblColor(this.GetWndNode("label_num",t),o),this.setVipLblColor(this.GetWndNode("label_condition",t),o)},t.prototype.renderLvGetInfo=function(e){var t=this.getLvInfo(e),n=e-1,o=this.GoldBg.length,i=e>=o?o:e,r=n>=o?o-1:n,s=e>app.UserManager().UserInfo.vip_id;if(null==t||n<0)this.ErrLog("getLvInfo error,lv = "+e);else{var p=this.contentNode1.children[n].children[0];p.name="v"+e,this.GetWndNode("scrollview_gold/view/btn_goTip",p).active=this.getIsReceive(e);var l=this.GetWndNode("scrollview_gold/view/content",p),h=l.children[0];h.getComponent(cc.Sprite).spriteFrame=this.GoldBg[r];var d=this.GetWndNode("icon_red",h);d.active=0==t.grade;var u=this.GetWndNode("btn_grade",h);u.active=0==t.grade,u.getComponent(cc.Button).enabled=0==t.grade,this.setNumLblColor(this.GetWndNode("btn_mask",u),n),this.GetWndNode("Uncompleted",h).active=s;var _=this.GetWndNode("Received",h);_.active=!s&&1==t.grade;var m=this.GetWndNode("state_lock",h);m.active=!s&&-1==t.grade,this.setLVNodeView(e,h,u,n),this.GetWndComponent("label_num",cc.Label,h).string=this.formatScore(t.grade_gold),(h=l.children[1]).getComponent(cc.Sprite).spriteFrame=this.GoldBg[r],(d=this.GetWndNode("icon_red",h)).active=0==t.week;var g=this.GetWndNode("btn_week",h);g.active=0==t.week,g.getComponent(cc.Button).enabled=0==t.week,this.setNumLblColor(this.GetWndNode("btn_mask",g),n),this.GetWndNode("Uncompleted",h).active=s,(_=this.GetWndNode("Received",h)).active=!s&&this.getSelfVip(e)&&0!=t.week,_.active&&(this.GetWndComponent("label_tips",cc.Label,_).string=this.getWeekReceived()),(m=this.GetWndNode("state_lock",h)).active=!s&&!this.getSelfVip(e)&&0!=t.week,this.setLVNodeView(e,h,g,n),this.GetWndComponent("label_num",cc.Label,h).string=this.formatScore(t.week_gold),(h=l.children[2]).getComponent(cc.Sprite).spriteFrame=this.GoldBg[r],(d=this.GetWndNode("icon_red",h)).active=0==t.month;var f=this.GetWndNode("btn_month",h);f.active=0==t.month,f.getComponent(cc.Button).enabled=0==t.month,this.setNumLblColor(this.GetWndNode("btn_mask",f),n),this.GetWndNode("Uncompleted",h).active=s,(_=this.GetWndNode("Received",h)).active=!s&&this.getSelfVip(e)&&0!=t.month,_.active&&(this.GetWndComponent("label_tips",cc.Label,_).string=this.getMonthReceived()),(m=this.GetWndNode("state_lock",h)).active=0!=t.month&&!this.getSelfVip(e)&&!s,this.setLVNodeView(e,h,f,n),this.GetWndComponent("label_num",cc.Label,h).string=this.formatScore(t.month_gold),this.setTitLineLblColor(this.GetWndNode("label_tips/label_lock",p),n);var y=this.GetWndNode("line1",p);this.setSpriteFrame(c+"line"+(Number(i)-1),y),this.renderVipRight(e),app.Client.OnEvent(a.GameEventDefine.VIP_LOADEND)}},t.prototype.renderVipRight=function(e){var t=e-1>=this.vipSprS.length?this.vipSprS.length-1:e-1,n=this.contentNode1.children[e-1].children[1];this.GetWndComponent("spr_vip",cc.Sprite,n).spriteFrame=this.vipSprS[t];var o=app.VIPManager().getShowVipList(e);if(o){for(var i=["UI_Taxa_da_retirada","UI_VIP_Daily_withdrawals","UI_VIP_Single_withdrawal_limit","UI_Vip_USDT_Fee","UI_Vip_USDT_Daily","UI_Vip_USDT_Limit","UI_Vip_USDT_Linit","UI_VIP_Code_Rewards"],a=[o.withdraw_fee_rate,this.formatScore(o.withdraw_num),o.withdraw_each_limit,o.usdt_withdraw_fee_rate,this.formatScore(o.usdt_withdraw_num),this.formatScore(o.usdt_withdraw_each_limit),this.formatScore(o.usdt_withdraw_day_limit),o.internal_percent],r=this.GetWndNode("content",n),s=this.GetWndNode("con",n),c=0;c<a.length;c++){var p=a[c],l=r.children[c];if(l||(l=cc.instantiate(s),r.addChild(l)),l.active=null!=p&&"NaN"!=p,l.active){var h=i[c];this.GetWndNode("lb_tit",l).getComponent(cc.Label).string=app.i18n.t(h),this.GetWndNode("lb_num",l).getComponent(cc.Label).string=p}}this.getVIPKeepView(e)}else this.ErrLog("renderVipRight: "+e)},t.prototype.getVIPKeepView=function(e){var t=app.VIPManager().getShowVipList(e),n=app.GameConfigManager().GetCurrency;this.GetWndNode("con_6/lb_num",this.bottomNode).getComponent(cc.Label).string=""+n+this.formatScore(t.lv_keep_recharge)+"/week"},t.prototype.onHideAllNode=function(){this.isPlayAnim=!1,this.contentNode.stopAllActions(),this.contentNode1.stopAllActions(),this.contentNode.children.forEach(function(e){e.active=!0}),this.contentNode1.children.forEach(function(e){e.active=!0})},t.prototype.setSpriteFrame=function(e,t){app.ImageUtil().LoadImage(t,e)},t.prototype.OnPageStart=function(e){this.startPositionX=e.getLocationX(),this.startPositionY=e.getLocationY(),app.Client.OnEvent(a.GameEventDefine.TOUCH_SCROLLVIEW,!1)},t.prototype.OnPageMove=function(e){this.EndPositionX=e.getLocationX(),this.EndPositionY=e.getLocationY();var t=Math.abs(this.EndPositionX-this.startPositionX);Math.abs(this.EndPositionY-this.startPositionY)>t&&app.Client.OnEvent(a.GameEventDefine.TOUCH_SCROLLVIEW,!0)},t.prototype.OnPageCancel=function(){app.Client.OnEvent(a.GameEventDefine.TOUCH_SCROLLVIEW,!0)},t.prototype.OnPageEnd=function(e){if(app.Client.OnEvent(a.GameEventDefine.TOUCH_SCROLLVIEW,!0),!this.isPlayAnim){var t=e.getLocationX()-this.startPositionX;if(!(Math.abs(t)<50)){var n=e.getLocationX()>this.startPositionX?this.showLv-1:this.showLv+1;n<1||n>this.contentNode.childrenCount||(this.isPlayAnim=!0,this.showLv=n,this.playAnim())}}},t.prototype.playAnim=function(){var e=this,t=this.showLv-1,n=this.BeganPositionX-t*this.moveNum,o=cc.sequence(cc.moveTo(.3,new cc.Vec2(n,0)),cc.delayTime(.3),cc.callFunc(function(){e.renderCurrentVipLv()}));this.contentNode.runAction(o);var i=cc.sequence(cc.moveTo(.3,new cc.Vec2(n,0)),cc.delayTime(.3));this.contentNode1.runAction(i)},t.prototype.renderCurrentVipLv=function(){var e=this.showLv-1;this.getVIPKeepView(this.showLv),this.contentNode.x=this.BeganPositionX-e*this.moveNum,this.contentNode1.x=this.BeganPositionX-e*this.moveNum,this.contentNode.active=!0,this.contentNode1.active=!0,this.isPlayAnim=!1,this.contentNode.stopAllActions(),this.contentNode1.stopAllActions()},t.prototype.renderClickButton=function(e,t){var n=this,o=this.contentNode1.children[t-1].children[0],i=this.GetWndNode("scrollview_gold/view/content",o).children[e-1];this.GetWndNode("icon_red",i).active=!1;var a=this.GetWndNode("btn_grade",i),r="";2==e?(a=this.GetWndNode("btn_week",i),r=this.getWeekReceived()):3==e&&(a=this.GetWndNode("btn_month",i),r=this.getMonthReceived()),a.active=!1,a.getComponent(cc.Button).enabled=!1,cc.tween(i).to(.3,{scaleX:0}).call(function(){var e=n.GetWndNode("Received",i);e.active=!0,r&&(n.GetWndComponent("label_tips",cc.Label,e).string=r)}).to(.3,{scaleX:1}).start()},t.prototype.showSuccess=function(e){this.updateListInfo(e.type,e.id),this.renderClickButton(e.type,e.id)},t.prototype.setVipLblColor=function(e,t){var n=t>=i.VIP_Lbl_Color.length?i.VIP_Lbl_Color.length-1:t,o=-1==t?"#FFFFFF":i.VIP_Lbl_Color[n];e.color=cc.color().fromHEX(o)},t.prototype.setNumLblColor=function(e,t){var n=t>=i.VIP_Num_Color.length?i.VIP_Num_Color.length-1:t,o=-1==t?"#FFFFFF":i.VIP_Num_Color[n];e.color=cc.color().fromHEX(o)},t.prototype.setTitLineLblColor=function(e,t){var n=t>=i.VIP_LineLbl_Color.length?i.VIP_LineLbl_Color.length-1:t,o=-1==t?"#FFFFFF":i.VIP_LineLbl_Color[n];e.color=cc.color().fromHEX(o)},t.prototype.initViewBottom=function(){var e=app.VIPManager().VIPList.vip_faq_name,t=app.HallManager().GetFaqText(e);t?this.getLbl(t):app.HallManager().RequestTextInfo(e,3)},t.prototype.onVIPFaqInfo=function(e){e.sendData.type&&this.getLbl(e.recvData.value)},t.prototype.getLbl=function(e){e&&(this.GetWndComponent("lb_vip",cc.RichText,this.bottomNode).string=app.ComTool().htmlRestore(e)||"")},t.prototype.getSpriteStringState=function(e){return-1==e?app.i18n.t("UI_Player_Vip_Unclaimable"):0==e?app.i18n.t("UI.MakeMoney_0_main_17"):app.i18n.t("UI_Player_Vip_Received")},t.prototype.getLvInfo=function(e){for(var t=0;t<this.getListInfo.length;++t)if(this.getListInfo[t].id==e)return this.getListInfo[t];return null},t.prototype.getLvInfoIndex=function(e){for(var t=0;t<this.getListInfo.length;++t)if(this.getListInfo[t].id==e)return t;return-1},t.prototype.updateListInfo=function(e,t){var n=this.getLvInfo(t);n&&(1==e?n.grade=1:2==e?n.week=1:n.month=1)},t.prototype.getIsReceive=function(e){return 0==app.UserManager().UserInfo.is_keep_level&&this.getSelfVip(e)},t.prototype.getSelfVip=function(e){return e==app.UserManager().UserInfo.vip_id},t.prototype.getWeekReceived=function(){var e=(new Date).getDay();return(e=0!=e?7-e:1)+app.i18n.t("UI_Vip_DaysLater")},t.prototype.getMonthReceived=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1+1;return n>12&&(n=1,t+=1),t+"-"+(n.toString().length<=1?"0":"")+n+"-01"},t.prototype.formatScore=function(e){var t=app.VIPManager().VIPList.thousand_mark;return Number(t)?app.ScoreUtil().formatNumberWithCommas(e):""+Number(e)},__decorate([h([cc.SpriteFrame])],t.prototype,"vipSprS",void 0),__decorate([h(cc.Node)],t.prototype,"moveNode",void 0),__decorate([h(cc.Node)],t.prototype,"contentNode",void 0),__decorate([h(cc.Node)],t.prototype,"contentNode1",void 0),__decorate([h(cc.Node)],t.prototype,"bottomNode",void 0),__decorate([h([cc.SpriteFrame])],t.prototype,"PageBg",void 0),__decorate([h([cc.SpriteFrame])],t.prototype,"GoldBg",void 0),__decorate([h()],t.prototype,"BeganPositionX",void 0),__decorate([h()],t.prototype,"moveNum",void 0),__decorate([l],t)}(o.default);n.default=d,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/ColorDefine":"ColorDefine","../../../Common/Define/GameEventDefine":"GameEventDefine","../../../Common/Define/TrackEventName":"TrackEventName"}],WebClientManager:[function(e,t){"use strict";cc._RF.push(t,"506d7YAJDhKQ6gR/5yfqP8B","WebClientManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.WebClientManager=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="WebClientManager"},Object.defineProperty(t.prototype,"GetWebApiUrl",{get:function(){return app.ClientConfigManager().ApiUrl},enumerable:!1,configurable:!0}),t.prototype.request=function(e,t,n,o,i){var a=this,r=cc.loader.getXMLHttpRequest();r.timeout=6e3;var s=app.LanguageManager().GetLocalLanguage(!0);t&&(t.language=s);var c="?";for(var p in t)"?"!=c&&(c+="&"),c+=p+"="+t[p];var l=(i||this.GetWebApiUrl)+e+encodeURI(c);return 0!=e.indexOf("http")&&0!=e.indexOf("https")||(l=e+encodeURI(c)),this.Log("http request:"+l),r.open("GET",l,!0),cc.sys.isNative&&cc.sys.isMobile&&r.setRequestHeader("Accept-Encoding","gzip,deflate"),r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<300){var e=null;try{e=JSON.parse(r.responseText)}catch(t){a.ErrLog("err:"+t)}null!=e&&null!==n&&n(e)}},r.ontimeout=function(){o&&o()},r.send(),r},t.prototype.post=function(e,t,n){var o=this,i=cc.loader.getXMLHttpRequest();i.timeout=5e3;var a=this.GetWebApiUrl+e;return cc.log("http request:"+a),i.open("POST",a,!0),cc.sys.isNative&&cc.sys.isMobile&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300)try{var e=JSON.parse(i.responseText);null!==n&&n(e)}catch(t){o.ErrLog("err:"+t.message)}},i.send(t),i},t}(e("../../Common/Base/Singleton").Singleton);n.WebClientManager=o,t.exports=n,cc._RF.pop()},{"../../Common/Base/Singleton":"Singleton"}],WheelHistory:[function(e,t){"use strict";cc._RF.push(t,"f7ab6FpWx1M/7VUlorrMMok","WheelHistory");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/DB/Hall/WheelManager"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.noDataNode=null,t.allContent=null,t.item=null,t.Myitem=null,t.historyDate=[],t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.int=function(){this.noDataNode.active=0==this.historyDate.length,this.allContent.active=0!=this.historyDate.length,this.allContent.removeAllChildren();var e=this.historytype==o.WheelRecordType.Allrecord?this.item:this.Myitem;if(0!=this.historyDate.length)for(var t=1;t<=this.historyDate.length;t++){var n=cc.instantiate(e);if(n.active=!0,n.zIndex=t,this.itemInfo(n,this.historyDate[t-1]),this.allContent.addChild(n),t>19)break}},t.prototype.BackPushData=function(e){var t=null,n=1,o=this.allContent.children[0];o&&(n=o.zIndex-20),this.allContent.children.length>=20?(t=this.allContent.children[19]).zIndex=n:((t=cc.instantiate(this.item)).active=!0,t.zIndex=n,this.allContent.addChild(t),this.noDataNode.active=!1,this.allContent.active=!0),this.itemInfo(t,e)},t.prototype.itemInfo=function(e,t){this.historytype==o.WheelRecordType.Allrecord?(cc.find("content/player/label_name",e).getComponent(cc.Label).string=t.nickname,cc.find("content/rewards/label",e).getComponent(cc.Label).string=""+t.gold,app.ImageUtil().LoadHead(cc.find("content/player/face/mask/tx",e),t.headimg)):(cc.find("content/time/label",e).getComponent(cc.Label).string=t.create_time,cc.find("content/rewards/label",e).getComponent(cc.Label).string=""+t.gold)},__decorate([r(cc.Node)],t.prototype,"noDataNode",void 0),__decorate([r(cc.Node)],t.prototype,"allContent",void 0),__decorate([r(cc.Node)],t.prototype,"item",void 0),__decorate([r(cc.Node)],t.prototype,"Myitem",void 0),__decorate([a],t)}(cc.Component);n.default=s,t.exports=n,cc._RF.pop()},{"../../../Common/DB/Hall/WheelManager":"WheelManager"}],WheelManager:[function(e,t){"use strict";cc._RF.push(t,"00b2e5C3DVFUoNtuu+4OKJB","WheelManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.WheelManager=n.WheelRecordType=void 0;var o,i=e("../../Base/Singleton"),a=e("../../Define/GameEventDefine"),r=e("../../Define/HttpServerDefine");(o=n.WheelRecordType||(n.WheelRecordType={}))[o.Myrecord=1]="Myrecord",o[o.Allrecord=2]="Allrecord";var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wheelInfo=null,t.wheelRecord=null,t.wheelHelpDesc=null,t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="WheelManager",this.Log("Init"),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_WHEEL_CONF,this.onGetWheelConf,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_WHEEL_RUN,this.onGetWheelRun,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_WHEEL_HELPDESC,this.onGetWheelHelpDesc,this),app.HttpServerManager().RegNetPack(r.HttpAPI.GET_WHEEL_RECORD,this.onGetWheelRecord,this)},t.prototype.onGetWheelRun=function(e){this.wheelInfo.draw_num=e.draw_num,app.Client.OnEvent(a.GameEventDefine.GET_WheelRun,e)},t.prototype.RequestWheelRun=function(){app.RoomManager().SetWheelAnimation(!0),app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_WHEEL_RUN,{token:app.UserManager().GetUserInfo.token})},t.prototype.RequestWheelConf=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_WHEEL_CONF,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetWheelConf=function(e){this.wheelInfo=e,app.Client.OnEvent(a.GameEventDefine.GET_WheelInfo)},Object.defineProperty(t.prototype,"GetWheelInfo",{get:function(){return this.wheelInfo},enumerable:!1,configurable:!0}),t.prototype.onGetWheelRecord=function(e,t){this.wheelRecord=e,app.Client.OnEvent(a.GameEventDefine.GET_WheelRecord,t.type)},Object.defineProperty(t.prototype,"GetWheelRecord",{get:function(){return this.wheelRecord},enumerable:!1,configurable:!0}),t.prototype.RequestWheelRecord=function(e){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_WHEEL_RECORD,{token:app.UserManager().GetUserInfo.token,type:e,limit:1==e?20:50})},t.prototype.onGetWheelHelpDesc=function(e){this.wheelHelpDesc=e,app.Client.OnEvent(a.GameEventDefine.GET_WheelHelpDesc)},Object.defineProperty(t.prototype,"GetWheelHelpDesc",{get:function(){return this.wheelHelpDesc},enumerable:!1,configurable:!0}),t.prototype.RequestWheelHelpDesc=function(){app.HttpServerManager().SendHttpPack(r.HttpAPI.GET_WHEEL_HELPDESC,{token:app.UserManager().GetUserInfo.token})},t}(i.Singleton);n.WheelManager=s,t.exports=n,cc._RF.pop()},{"../../Base/Singleton":"Singleton","../../Define/GameEventDefine":"GameEventDefine","../../Define/HttpServerDefine":"HttpServerDefine"}],WorldCupManager:[function(e,t){"use strict";cc._RF.push(t,"6d596BenrpKqICzeFPphweq","WorldCupManager");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.WorldCupManager=void 0;var o=e("../../../Base/Singleton"),i=e("../../../Define/GameEventDefine"),a=e("../../../Define/HttpServerDefine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ticketsCount=0,t.pic_host="",t}return __extends(t,e),t.prototype.Init=function(){this.JS_Name="WorldCupManager",this.Log("Init"),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_WordCup_Config,this.onGetWorldCupActiveInfo,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_WordCup_HisTory,this.onGetWorldCupHisTory,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_WordCup_Tickets,this.onGetWorldCupTickets,this),app.HttpServerManager().RegNetPack(a.HttpAPI.REQ_WC_COUNTRYRANKING,this.onGetRankingList,this),app.HttpServerManager().RegNetPack(a.HttpAPI.GET_WordCup_AwardResult,this.onGetAwardResult,this)},t.prototype.setIconSpr=function(e,t){var n=this.pic_host+t;app.ImageUtil().LoadImage(e.node,n)},Object.defineProperty(t.prototype,"GetTicketCount",{get:function(){return this.ticketsCount},enumerable:!1,configurable:!0}),t.prototype.SetTicketCount=function(e){this.ticketsCount=e},t.prototype.RequestWorldCupActiveInfo=function(){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_WordCup_Config,{token:app.UserManager().GetUserInfo.token})},t.prototype.onGetWorldCupActiveInfo=function(e){this.WorldCupActiveInfo=e,this.teamList=e.football_list,this.pic_host=e.pic_host,this.SetTicketCount(e.ticket_all),this.RequestWorldCupActiveHistory(1),app.Client.OnEvent(i.GameEventDefine.WorldCup_Active_Info)},Object.defineProperty(t.prototype,"GetWorldCupInfo",{get:function(){return this.WorldCupActiveInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GteTeamList",{get:function(){return this.teamList},enumerable:!1,configurable:!0}),t.prototype.onGetWorldCupHisTory=function(e){this.WorldCupHistory=e,app.Client.OnEvent(i.GameEventDefine.WorldCup_Active_History)},Object.defineProperty(t.prototype,"GetWorldCupHistory",{get:function(){return this.WorldCupHistory.records},enumerable:!1,configurable:!0}),t.prototype.RequestWorldCupActiveHistory=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_WordCup_HisTory,{token:app.UserManager().GetUserInfo.token,limit:e})},t.prototype.onGetWorldCupTickets=function(e){this.SetTicketCount(Number(this.ticketsCount)+Number(e.send_number)),app.Client.OnEvent(i.GameEventDefine.WorldCup_Receive_Tickets,e)},t.prototype.RequestWorldCupActiveTickets=function(e){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_WordCup_Tickets,{token:app.UserManager().GetUserInfo.token,type_id:e})},t.prototype.RequestCountryRanking=function(e){var t={token:app.UserManager().GetUserInfo.token,bet_first:e[0],bet_second:e[1],bet_third:e[2]};app.HttpServerManager().SendHttpPack(a.HttpAPI.REQ_WC_COUNTRYRANKING,t)},t.prototype.onGetRankingList=function(e){app.SysNotifyManager().ShowToast("UI_WorldCup_success"),app.Client.OnEvent(i.GameEventDefine.GetRankingList,e),this.SetTicketCount(this.ticketsCount-1),app.Client.OnEvent(i.GameEventDefine.WorldCup_Update_Tickets,e.records)},t.prototype.onGetFootballDataById=function(e){for(var t=0;t<this.teamList.length;t++){var n=this.teamList[t];if(n.id==e)return n}return null},t.prototype.onGetAwardResult=function(e,t){this.WorldCupAwardResult=e,this.pic_host=e.pic_host_url,this.teamList=e.football_list,app.Client.OnEvent(i.GameEventDefine.WorldCup_AwardResult,t.page)},Object.defineProperty(t.prototype,"GetAwardResult",{get:function(){return this.WorldCupAwardResult},enumerable:!1,configurable:!0}),t.prototype.RequestAwardResult=function(e,t){app.HttpServerManager().SendHttpPack(a.HttpAPI.GET_WordCup_AwardResult,{token:app.UserManager().GetUserInfo.token,page:e,is_result:t})},t}(o.Singleton);n.WorldCupManager=r,t.exports=n,cc._RF.pop()},{"../../../Base/Singleton":"Singleton","../../../Define/GameEventDefine":"GameEventDefine","../../../Define/HttpServerDefine":"HttpServerDefine"}],chip_pool:[function(e,t){"use strict";cc._RF.push(t,"7780em0VSRBMqSSgVBdjryv","chip_pool");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chipPrefab=null,t}return __extends(t,e),t.prototype.setChipPrefab=function(){},t.prototype.start=function(){},t.prototype.initPool=function(e,t){e&&(this.chipPrefab=e),this.chipPool=new cc.NodePool;for(var n=t,o=0;o<n;++o){var i=cc.instantiate(this.chipPrefab);this.chipPool.put(i)}},t.prototype.createChip=function(){var e=null;return this.chipPool&&(this.chipPool.size()>0?((e=this.chipPool.get()).active=!0,e.used=!1):(e=cc.instantiate(this.chipPrefab)).used=!1),e},t.prototype.recycleChip=function(e){this.chipPool&&this.chipPool.put(e)},t.prototype.onDestroy=function(){this.chipPool&&this.chipPool.clear()},__decorate([i],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],common_mj_cmd:[function(e,t){"use strict";cc._RF.push(t,"30e6fSdrR9AfovAGz/vYg6D","common_mj_cmd");var n,o,i={};Object.defineProperty(i,"__esModule",{value:!0}),i.OP_MAP=i.OP_CODE=i.MY_VIEW_SEAT=i.MJ_HAND_CARD_COUNT=i.MJ_CARD_COUNT=i.MJ_PLAYER_COUNT=i.MJ_GAME_STATE=i.MJ_GAME_MSG=void 0,(o=n=i.MJ_GAME_MSG||(i.MJ_GAME_MSG={}))[o.MJ_GAME_MSG_NONE=0]="MJ_GAME_MSG_NONE",o[o.MJ_GAME_MSG_DEAL=1]="MJ_GAME_MSG_DEAL",o[o.MJ_GAME_MSG_DISCARD=2]="MJ_GAME_MSG_DISCARD",o[o.MJ_GAME_MSG_PASS=3]="MJ_GAME_MSG_PASS",o[o.MJ_GAME_MSG_CHOW=5]="MJ_GAME_MSG_CHOW",o[o.MJ_GAME_MSG_PONG=6]="MJ_GAME_MSG_PONG",o[o.MJ_GAME_MSG_ADDKONG=7]="MJ_GAME_MSG_ADDKONG",o[o.MJ_GAME_MSG_OPENKONG=8]="MJ_GAME_MSG_OPENKONG",o[o.MJ_GAME_MSG_HIDEKONG=9]="MJ_GAME_MSG_HIDEKONG",o[o.MJ_GAME_MSG_HU=10]="MJ_GAME_MSG_HU",o[o.MJ_GAME_MSG_DECLARETHRESHOLD=11]="MJ_GAME_MSG_DECLARETHRESHOLD",o[o.MJ_GAME_MSG_LISTEN=12]="MJ_GAME_MSG_LISTEN",o[o.MJ_GAME_MSG_ADDKONG_DISCARD=15]="MJ_GAME_MSG_ADDKONG_DISCARD",o[o.MJ_GAME_MSG_ROLLDICE=20]="MJ_GAME_MSG_ROLLDICE",o[o.MJ_GAME_MSG_CHANGE_BANKER=21]="MJ_GAME_MSG_CHANGE_BANKER",o[o.MJ_GAME_MSG_DEAL_TILES=22]="MJ_GAME_MSG_DEAL_TILES",o[o.MJ_GAME_MSG_OPEN_JOKER=25]="MJ_GAME_MSG_OPEN_JOKER",o[o.MJ_GAME_MSG_HU_RESULT=30]="MJ_GAME_MSG_HU_RESULT",o[o.MJ_GAME_MSG_AVALIABLE_ACTION=31]="MJ_GAME_MSG_AVALIABLE_ACTION",o[o.MJ_GAME_MSG_GAME_INFO=36]="MJ_GAME_MSG_GAME_INFO",o[o.MJ_GAME_MSG_PLAYER_INFO=37]="MJ_GAME_MSG_PLAYER_INFO",o[o.MJ_GAME_MSG_END_GAME=40]="MJ_GAME_MSG_END_GAME",o[o.MJ_GAME_MSG_ACTION_FAIL=50]="MJ_GAME_MSG_ACTION_FAIL",function(e){e[e.MJ_GAME_STATE_NONE=0]="MJ_GAME_STATE_NONE",e[e.MJ_GAME_STATE_START=1]="MJ_GAME_STATE_START",e[e.MJ_GAME_STATE_END=2]="MJ_GAME_STATE_END"}(i.MJ_GAME_STATE||(i.MJ_GAME_STATE={})),i.MJ_PLAYER_COUNT=2,i.MJ_CARD_COUNT=64,i.MJ_HAND_CARD_COUNT=13,i.MY_VIEW_SEAT=0;var a={DEAL:0,PASS:1,DISCARD:2,JIAGANG:4,CHOW:8,PENG:16,GANG:32,ANGANG:64,HU:128,JIAGANG_DISCARD:256,LISTEN:512};i.OP_CODE=a;var r=[];r[n.MJ_GAME_MSG_DEAL]=a.DEAL,r[n.MJ_GAME_MSG_PASS]=a.PASS,r[n.MJ_GAME_MSG_DISCARD]=a.DISCARD,r[n.MJ_GAME_MSG_ADDKONG]=a.JIAGANG,r[n.MJ_GAME_MSG_CHOW]=a.CHOW,r[n.MJ_GAME_MSG_PONG]=a.PENG,r[n.MJ_GAME_MSG_OPENKONG]=a.GANG,r[n.MJ_GAME_MSG_HIDEKONG]=a.ANGANG,r[n.MJ_GAME_MSG_HU]=a.HU,r[n.MJ_GAME_MSG_ADDKONG_DISCARD]=a.JIAGANG_DISCARD,r[n.MJ_GAME_MSG_LISTEN]=a.LISTEN,i.OP_MAP=r,t.exports=i,cc._RF.pop()},{}],dispatch:[function(e,t){"use strict";cc._RF.push(t,"38ba6XGpCpDs60mplQLNaQs","dispatch");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){cc.log("dispatch on Load"),this.ready=!0,this.queues=new Map,this.dt=0},t.prototype.start=function(){},t.prototype.startDispatch=function(){this.ready=!0},t.prototype.pauseDispatch=function(){this.ready=!1},t.prototype.stopDispatch=function(){this.ready=!1,this.clear()},t.prototype.reDispatch=function(){this.clear(),this.startDispatch()},t.prototype.push=function(e,t){var n;this.queues.has(t)?(n=this.queues.get(t)).push(e):((n=[]).push(e),this.queues.set(t,n))},t.prototype.clear=function(){this.queues=new Map},t.prototype.update=function(e){if(this.ready&&(this.dt+=e,this.dt>.2)){this.dt=0;for(var t=0,n=Array.from(this.queues.values());t<n.length;t++){var o=n[t].pop();o&&o()}}},__decorate([i],t)}(cc.Component));n.default=a,t.exports=n,cc._RF.pop()},{}],emitter:[function(e,t){"use strict";cc._RF.push(t,"8eb9d0wAzZO+LnEXeVdZ2/E","emitter");var n=function(){function e(e){if(e)return o(e)}return e.prototype.on=function(e,t,n){return n||(n=this),this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push({target:n,cb:t}),this},e.prototype.once=function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n,arguments)}return this._callbacks=this._callbacks||{},n||(n=this),i.fn=t,this.on(e,i),this},e.prototype.off=function(e,t,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this;var o,i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var a=0;a<i.length;a++)if(!((o=i[a]).cb!==t&&o.cb.fn!==t||null!=n&&o.target!=n)){i.splice(a,1);break}return this},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._callbacks=this._callbacks||{};var o=this._callbacks[e];if(!o)return this;for(var i=0,a=(o=o.slice(0)).length;i<a;++i)o[i].cb.apply(o[i].target,t);return this},e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},e.prototype.hasListeners=function(e){return!!this.listeners(e).length},e}();function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,cc._RF.pop()},{}],error_define:[function(e,t){"use strict";cc._RF.push(t,"7039bVP2AtHQLNip0iu+m+Y","error_define");var n=new Map;n.set(30001,function(){return app.i18n.t("SC_RoomGame_GameAlready")}),n.set(30101,function(){return app.i18n.t("SC_RoomGame_Assignmentfailed")}),n.set(30102,function(){return app.i18n.t("SC_RoomGame_Roomisfull")}),n.set(30103,function(){return app.i18n.t("SC_RoomGame_hadentered")}),n.set(30104,function(){return app.i18n.t("SC_RoomGame_passwordiswrong")}),n.set(30105,function(){return app.i18n.t("SC_RoomGame_RoomnotExist")}),n.set(30106,function(){return app.i18n.t("SC_RoomGame_CannotLeaveRoom")}),n.set(30107,function(){return app.i18n.t("SC_RoomGame_TheSeat")}),n.set(30108,function(){return app.i18n.t("SC_RoomGame_RoomMDoNotExist")}),n.set(30109,function(){return app.i18n.t("SC_RoomGame_NotTheOwner")}),n.set(30110,function(){return app.i18n.t("SC_RoomGame_Notintheroom")}),n.set(30111,function(){return app.i18n.t("SC_RoomGame_AccountFailed")}),n.set(30112,function(){return app.i18n.t("SC_RoomGame_RoomCardLack")}),n.set(30113,function(){return app.i18n.t("SC_RoomGame_ServerCheckFailed")}),n.set(30114,function(){return app.i18n.t("SC_RoomGame_NotinTheLine")}),n.set(30115,function(){return app.i18n.t("SC_RoomGame_LineIDError")}),n.set(30116,function(){return app.i18n.t("SC_RoomGame_WasntReady")}),n.set(30117,function(){return app.i18n.t("SC_RoomGame_RoomWrongState")}),n.set(30118,function(){return"BANCOUNTError"}),n.set(30119,function(){return"PAYTYPEError"}),n.set(30120,function(){return app.i18n.t("SC_RoomGame_DestroyRoomLimit")}),n.set(30121,function(){return app.i18n.t("SC_RoomGame_RoomGameStart")}),n.set(30122,function(){return"Not enough gold"}),n.set(30123,function(){return""}),n.set(30124,function(){return""}),n.set(30125,function(){return"line The service is not available"}),n.set(30126,function(){return app.i18n.t("SC_RoomGame_RoomGameStart")}),n.set(30900,function(){return app.i18n.t("UI.System_7")}),n.set(10004,function(){return app.i18n.t("SC_RoomGame_ServerFull")}),n.set(32113,function(){return app.i18n.t("SC_RoomGame_YouInRoomOrGame")}),n.set(30999,function(){return app.i18n.t("UI.System_7")}),n.set(50001,function(){return"Room status error"}),n.set(50008,function(){return"Not enough gold"}),t.exports=n,cc._RF.pop()},{}],global_config:[function(e,t){"use strict";cc._RF.push(t,"435a2Qlq/9A/Ii8IbjebmoD","global_config");var n={hosts:[""],scheme:"https"};isgoServer||(n={hosts:["api.bbh5sdffi01.com"],scheme:"https"}),n.mainVer=1,n.subVer=1,n.buildVer="0712-219",n.oem="yotubet",n.appName="yotubet",n.packageName="",n.versionCode=1,n.versionName="1.0",n.packageUrl="",n.LogSwitch=!1,n.WebDesktopLogSwitch=!1,n.GAID="G-M36ZXGX5X0",n.footer='Powered by <a target="_blank" href="" title="yotubet">yotubet',n.GoogleClientID="712948427018-p4o172ogsrct3e28r4khh52852jhinkb.apps.googleusercontent.com",n.FacebookAppID="3655106758067676",n.FacebookAppSecret="",n.FacebookDisplayName="yotubet",n.FacebookLoginScheme="fb"+n.FacebookAppID,n.KEFU_URL="https://t.me/yotubet1com",n.OFFICIAL_URL="",n.debug=!1,n.EnableLog=!1,t.exports=n,cc._RF.pop()},{}],hall_controller:[function(e,t){"use strict";cc._RF.push(t,"7eae6hpEypIJZGXzptmpC7V","hall_controller");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Net/BaseDefine"),i=function(){function e(e,t){this.view=null,this.model=null,this.view=e,this.model=t}return e.prototype.init=function(){cc.mg.global.setTableController(this),this.register_events()},e.prototype.countDown=function(e){var t=this;this.model.GameState==o.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_BET&&e<5&&e>1?(app.SoundManager().PlaySound("TimeWarning"),this.view.playCountDownAnim(),2==e&&setTimeout(function(){t.view.stopCountDownAnim()},1e3)):this.view.stopCountDownAnim()},e.prototype.updateUserCoin=function(e,t){var n=this.model.GetPlayer(e);n&&(n.Cash+=t)},e.prototype.refreshMyCoinUI=function(){var e=this.model.GetPlayer(app.UserManager().GetUserInfo.uid);e&&this.view.setMyScore(e.Cash)},e.prototype.Destroy=function(){cc.mg.global.setTableController(null),this.unregister_events()},e.prototype.registerBetBtnEvent=function(e){var t=this;e.forEach(function(e,n){e.on("touchend",t.betBtnClick.bind(t,n),t.view),e.gold=t.model.chipNums[n]})},e.prototype.betBtnClick=function(e){this.model.isBetState()&&this.view.playBetButtonAnimation(e)},e.prototype.unRegisterBetBtnEvent=function(e){var t=this;e.forEach(function(e){e.off("touchend",t.betBtnClick,t.view)})},e.prototype.registerChipEvent=function(e){var t=this;e.forEach(function(e,n){e.on("touchend",t.userBet.bind(t,n),t.view)})},e.prototype.unRegisterChipEvent=function(e){var t=this;e.forEach(function(e){e.off("touchend",t.userBet,t.view)})},e.prototype.setDealerBetResult=function(e){this.model.dealerBetResult=e},e.prototype.setMyBetResult=function(e){this.model.myBetResult=e},e.prototype.getUserByCoinDescExceptDealer=function(e){var t=[],n=this;return this.model.MemberInfo.forEach(function(o){if(e<=0)return t;o.Uin!=n.model.BankerId&&o.Uin!=n.model.HallId&&o.Uin!=n.model.ssz_id&&(t.push(o),e--)}),t},e.prototype.userBet=function(e){if(!app.UserManager().GetIsOfficialPopup())if(this.model.myBetChipCount>=257)app.SysNotifyManager().ShowToast("Sys_BetCount");else if(e++,this.model.isBetState()){var t=this.model.curBetButtonIndex;if(t<0)app.SysNotifyManager().ShowToast("HallGame_Tip_2");else{var n=this.model.chipNums[t],o=this.model.GetPlayer(app.UserManager().GetUserInfo.uid);if(o){if(o.Cash<n)return void app.SysNotifyManager().ShowToast("HallGame_Tip_7");this.bet(e,n)}}}},e.prototype.leaveRoom=function(){var e=this.model.HallId;e?app.GameServerManager().send(app.GameServerManager().req_key_map.req_leave_hall.key,{hall_id:e}):cc.error("leaveRoom \u623f\u95f4\u53f7\u9519\u8bef")},e.prototype.onLeaveRoom=function(e){this.model.HallId==e.HallId&&(0===e.Eno?this.view.onLeaveRoom():app.SysNotifyManager().ShowToast("HallGame_Tip_1"))},e.prototype.playDealerWinOrLoseAnimation=function(e){var t=this.model.memberBetResultMap.get(this.model.BankerId);if(t){for(var n=this,o=t.shift(),i=0;i<t.length;i++)t[i]>0&&n.view.moveChipToDealer(i);setTimeout(function(){n.view.undo||n.playDealerLoseAnimation(t,e,o)},900)}},e.prototype.playDealerLoseAnimation=function(e,t,n){var o=this;e.forEach(function(e,t){if(e<0){app.SoundManager().PlaySound("GetGold");for(var n=o.model.dissolveToChip(Math.abs(e)),i=0;i<n.length;i++)for(var a=n[i],r=0;r<a;r++){var s=o.model.chipNums[i];o.view.moveChipToPoolFromDealer(t,s)}}}),setTimeout(function(){o.view.undo||(o.playUserWinChipAnimation(t,n),o.refreshMyCoinUI())},1500)},e.prototype.setRoomID=function(e){this.model.gameInfo.RoomID=e},e.prototype.playUserWinChipAnimation=function(e,t){var n=this.model.memberBetResultMap.get(app.UserManager().GetUserInfo.uid),o=this.model.memberBetGoldMap.get(app.UserManager().GetUserInfo.uid),i=this;if(n){var a=this.model.BankerId==app.UserManager().GetUserInfo.uid?t:n.shift();0!==a&&(cc.log("\u5f53\u524d\u7528\u6237\u8f93\u8d62:"+n),this.view.playCurUserWinChipAnimation(n,o),setTimeout(function(){i.view.undo||i.view.showBetResultAnimation(i.view.nodeMy,a)},1e3))}if(e&&e.length>0&&e.forEach(function(e,t){if(e.Uin!=app.UserManager().GetUserInfo.uid){var n=i.model.memberBetResultMap.get(e.Uin);if(n){var a=n.shift();i.view.playSeatUserWinChipAnimation(t,n,o),setTimeout(function(){i.view.undo||i.view.showBetResultAnimation(i.view.nodeTopPlayers[t],a)},1e3)}}else{var r=i.model.memberBetResultMap.get(app.UserManager().GetUserInfo.uid);i.view.showBetResultAnimation(i.view.nodeMy,r)}}),setTimeout(function(){i.view.undo||i.view.showBetResultAnimation(i.view.nodeDealer,t)},1e3),i.model.ssz_id!=app.UserManager().GetUserInfo.uid){var r=i.model.memberBetResultMap.get(i.model.ssz_id),s=i.model.memberBetGoldMap.get(i.model.ssz_id);if(r&&1==i.view.shenSuanZi.active){var c=r.shift();0!==c&&(i.view.playSSZWinChipAnimation(i.view.shenSuanZi,r,s),setTimeout(function(){i.view.undo||i.view.shenSuanZi&&i.view.showBetResultAnimation(i.view.shenSuanZi,c)},800))}}this.view.playOtherUserWinChipAnimation()},e.prototype.register_events=function(){cc.systemEvent.on("Hall_RspLeaveHall",this.onLeaveRoom,this)},e.prototype.unregister_events=function(){cc.systemEvent.off("Hall_RspLeaveHall",this.onLeaveRoom,this)},e.prototype.bet=function(e,t){app.GameServerManager().send(app.GameServerManager().req_key_map.Bet.key,{BetSeat:e,BetGold:t,BetPlayerID:app.UserManager().GetUserInfo.uid})},e.prototype.applyDeal=function(){if(this.model.GameState==o.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_COMPETE_BANKER){var e=this.model.GetPlayer(app.UserManager().GetUserInfo.uid);app.GameServerManager().send(app.GameServerManager().req_key_map.CompeteBanker.key,{CompeteGold:e.Cash})}this.model.prepareCompeteInfoFlag=!0},e.prototype.cancelDeal=function(){this.model.GameState==o.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_COMPETE_BANKER&&app.GameServerManager().send(app.GameServerManager().req_key_map.CompeteBanker.key,{CompeteGold:0}),this.model.prepareCompeteInfoFlag=!1},e}();n.default=i,t.exports=n,cc._RF.pop()},{"../../Common/Net/BaseDefine":"BaseDefine"}],hall_model:[function(e,t){"use strict";cc._RF.push(t,"a2d3cNzkFNMYo72TGzlzk7s","hall_model");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Net/BaseDefine"),i=function(){function e(){this.HallId=-1,this.CreateTime=0,this.RoomBasicMode=-1,this.RoomMode=0,this.LineID="",this.State=0,this.GameState=0,this.MaxMemberCount=0,this.MemberCount=0,this.BankerId=0,this.NextActionLeftSecond=0,this.HallConfig={},this.MemberInfo=[],this.prepareCompeteInfoFlag=!1,this.MemberInfoMap=new Map,this.memberBetResultMap=new Map,this.memberBetGoldMap=new Map,this.isEndGame=!1,this.isReConne=!1,this.chipNums=[1,10,50,100,500,1e3],this.curBetButtonIndex=0,this.betNums=[],this.betPlayers=[],this.myBetNums=[],this.competeInfos=[],this.dealerBetResult=[],this.myBetResult=[],this.gameInfo={BankerID:0,PlayerNum:{},PlayerInfo:[],RoomID:0,GameMode:0},this.myBetChipCount=0,this.myBetChipGold=[]}return e.prototype.Init=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.gameInfo[t]=e[t])},e.prototype.InitHallInfo=function(e){var t=this;for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);this.MemberInfo&&this.MemberInfo.length>0&&(this.MemberInfoMap.clear(),this.MemberInfo.forEach(function(e){t.MemberInfoMap.set(e.Uin,e)})),this.sortByCoinDesc()},e.prototype.sortByCoinDesc=function(){this.MemberInfo=this.MemberInfo.sort(function(e,t){return t.Cash-e.Cash})},e.prototype.isBetState=function(){return this.GameState==o.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_BET},e.prototype.InitFromRoomModel=function(){},e.prototype.GetRoomID=function(){return this.gameInfo.RoomID},e.prototype.GetRoomMode=function(){return this.gameInfo.GameMode},e.prototype.GetPlayers=function(){return this.MemberInfo},e.prototype.GetPlayer=function(e){return this.MemberInfoMap.get(e)},e.prototype.deletePlayer=function(e){var t=this;this.MemberInfoMap.delete(e),this.MemberInfo.forEach(function(n,o){n.Uin!=e||t.MemberInfo.splice(o,1)})},e.prototype.GetGameState=function(){return this.GameState},e.prototype.SetGameState=function(){this.GameState},e.prototype.gameReset=function(){for(var e=0;e<this.betNums.length;e++)this.betNums[e]=0;this.betPlayers=[];for(var t=0;t<this.myBetNums.length;t++)this.myBetNums[t]=0;this.competeInfos=[],this.memberBetResultMap.clear(),this.memberBetGoldMap.clear(),this.MemberInfo.forEach(function(e){if(e.BetInfo.BetGold)for(var t=0;t<e.BetInfo.BetGold.length;t++)e.BetInfo.BetGold[t]=0;else e.BetInfo.BetGold=[];if(e.BetInfo.BetResult)for(var n=0;n<e.BetInfo.BetResult.length;n++)e.BetInfo.BetResult[n]=0;else e.BetInfo.BetResult=[]}),this.BankerId=0},e.prototype.dissolveToChip=function(e){for(var t=[],n=this.chipNums.length-1;n>-1;n--)t.push(0);for(n=this.chipNums.length-1;n>-1;n--){var o=Math.floor(e/this.chipNums[n]);if(t[n]=o,0==(e-=o*this.chipNums[n])||e<0)return t}return t},e.prototype.getMyTotalBet=function(){var e=0;return this.myBetNums.forEach(function(t){t&&(e=Big(t).plus(e).toNumber())}),e},e.prototype.SetMyBetChipCount=function(e){this.myBetChipCount=e},e.prototype.SetMyBetChipGold=function(e){this.myBetChipGold=e||[]},Object.defineProperty(e.prototype,"GetMyBetChipGold",{get:function(){return this.myBetChipGold},enumerable:!1,configurable:!0}),e.prototype.ResetMyBetChipGold=function(){this.SetMyBetChipCount(0),this.SetMyBetChipGold(null)},e}();n.default=i,t.exports=n,cc._RF.pop()},{"../../Common/Net/BaseDefine":"BaseDefine"}],hall_msg_controller:[function(e,t){"use strict";cc._RF.push(t,"94cc9PEZ8NJGZC6BFc/9h5m","hall_msg_controller");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Define/GameEventDefine"),i=e("../../Common/Net/BaseDefine"),a=e("../common/room_mode_tool"),r=e("../../Common/Net/MsgEventDefine"),s=function(){function e(e,t){this.view=null,this.tableModel=null,this.view=e,this.tableModel=t}return e.prototype.init=function(){cc.mg.global.setGameMsgController(this),this.register_events()},e.prototype.Destroy=function(){cc.mg.global.setGameMsgController(null),this.unregister_events()},e.prototype.register_events=function(){cc.systemEvent.on("Hall_"+r.default.RSP_HALL_INFO,this.resp_hall_info,this),cc.systemEvent.on("Hall_"+r.default.EVENT_GAME_MESSAGE,this.resp_gamemessage,this),cc.systemEvent.on("Hall_"+r.default.HALL_END_ROUND,this.resp_hall_end_round,this),cc.systemEvent.on("Hall_"+r.default.HALL_NOTIFY,this.resp_hall_notify,this)},e.prototype.unregister_events=function(){cc.systemEvent.off("Hall_"+r.default.EVENT_GAME_MESSAGE,this.resp_gamemessage,this),cc.systemEvent.off("Hall_"+r.default.RSP_HALL_INFO,this.resp_hall_info,this),cc.systemEvent.off("Hall_"+r.default.HALL_END_ROUND,this.resp_hall_end_round,this),cc.systemEvent.off("Hall_"+r.default.HALL_NOTIFY,this.resp_hall_notify,this)},e.prototype.resp_hall_notify=function(e){if(console.log("resp_hall_notify",e),e.HallId==this.tableModel.HallId)if(2==e.Type){var t=e.Data.JoinMember,n=this.tableModel.GetPlayer(t.Uin);n?n=t:(this.tableModel.MemberInfoMap.set(t.Uin,t),this.tableModel.MemberInfo.push(t))}else if(3==e.Type){var o=e.Data.NotifyInfo.Uin;this.tableModel.deletePlayer(o)}},e.prototype.resp_hall_end_round=function(e){console.log("resp_hall_end_round",e);var t=e.EndInfo,n=e.NextStartTime,o=e.BeginTime;this.tableModel.ResetMyBetChipGold(),o!=this.lastTime&&(cc.log("resp_hall_end_round\u7ed3\u7b97"),this.lastTime=o,this.tableModel.NextActionLeftSecond=n,this.tableModel.GameState=i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_END,this.tableModel.gameInfo=t,this.updateUsersCoin(e.HallPlayerBetInfo),this.view.gameEnd(e))},e.prototype.updateUsersCoin=function(e){var t=this,n=this;this.tableModel.gameBetResult=[],e&&e.forEach(function(e){var o=0;n.tableModel.memberBetResultMap.set(e.PlayerID,e.BetResult),n.tableModel.memberBetGoldMap.set(e.PlayerID,e.BetGold),e.PlayerID!=t.tableModel.BankerId&&e.BetResult[0]>0&&t.tableModel.gameBetResult.push(e);var i=e.BetGold;i&&i.length>0&&(i.shift(),i.forEach(function(e){o+=e}));var a=e.BetResult,r=t.tableModel.GetPlayer(e.PlayerID);r&&(r.Cash+=o+a[0])}),this.tableModel.sortByCoinDesc(),this.tableModel.gameBetResult.sort(function(e,t){return t.BetResult[0]-e.BetResult[0]})},e.prototype.enterCompete=function(){if(this.tableModel.waitNextRound=!1,this.view.showWaitNextRound(!1),this.view.gameResetUI(),this.view.gameCompete(),this.view.setGameStateDesc(app.i18n.t("HallGame_Compete_State")),this.view.disableBetBtn(),this.tableModel.prepareCompeteInfoFlag){var e=this.tableModel.GetPlayer(app.UserManager().GetUserInfo.uid);e.Cash>=this.tableModel.HallConfig.MinCompeteGold&&app.GameServerManager().send(app.GameServerManager().req_key_map.CompeteBanker.key,{CompeteGold:Math.floor(e.Cash)})}},e.prototype.enterBet=function(){this.tableModel.waitNextRound=!1,this.view.showWaitNextRound(!1),this.view.setGameStateDesc(app.i18n.t("HallGame_Bet_State"));var e=this.tableModel.BankerId,t=this.tableModel.GetPlayer(e);t&&(e==app.UserManager().GetUserInfo.uid?this.view.setDealerName(app.UserManager().GetUserInfo.nickname):this.view.setDealerName(t.Nickname),this.view.setDealerCoin(t.BetInfo.CompeteGold),this.view.setDealerHead(t.Imageurl)),this.initBetNums(),this.view.gameBet(),this.view.showStartBetState(),this.view.enableBetBtn()},e.prototype.enterGameEnd=function(){this.view.setGameStateDesc(app.i18n.t("HallGame_End_State")),this.view.disableBetBtn(),this.view.waitNextRound(),this.view.showEndBetState()},e.prototype.resp_hall_info=function(e){console.log("resp_hall_info",e);var t=e.Eno;0!==t&&app.SysNotifyManager().ShowToast("ERROR ",t);var n=e.HallInfo;this.tableModel.InitHallInfo(n),this.tableModel.SetMyBetChipCount(e.PlayerChipCount),this.tableModel.SetMyBetChipGold(e.PlayerChipGold),this.tableModel.gameInfo.RoomID=this.tableModel.HallId;var o=this.tableModel.GetPlayer(app.UserManager().GetUserInfo.uid);switch(this.view.setMyName(app.UserManager().GetUserInfo.nickname),this.view.setMyScore(o.Cash),this.view.setCurrentUserHead(app.UserManager().GetUserInfo.headimg),this.view.resHallInfo(e.HallInfo),this.tableModel.GameState){case i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_COMPETE_BANKER:this.tableModel.waitNextRound=!1,this.enterCompete();break;case i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_BET:0==this.tableModel.BankerId&&(this.tableModel.BankerId=this.tableModel.BankerID),this.tableModel.waitNextRound=!1,this.enterBet(),this.addChipsToChipPool();break;case i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_PREDEAL:0==this.tableModel.BankerId&&(this.tableModel.BankerId=this.tableModel.BankerID),this.tableModel.waitNextRound=!0,this.view.showWaitNextRound(!0),this.enterGameEnd();break;case i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_END:this.tableModel.waitNextRound=!0,this.view.showWaitNextRound(!0),this.view.fetchHistory(),this.enterGameEnd()}app.RoomManager().isDouble?this.view.resRouletteInfo(e.HallInfo):this.view.setCountDownTime(this.tableModel.NextActionLeftSecond)},e.prototype.initBetNums=function(){var e=this;this.tableModel.MemberInfo&&this.tableModel.MemberInfo.forEach(function(t){t.BetInfo&&t.BetInfo.BetGold&&t.BetInfo.BetGold.forEach(function(n,o){var i=t.Uin;if(o>0){var a=o-1;null!=e.tableModel.betNums[a]||(e.tableModel.betNums[a]=0),e.tableModel.betNums[a]=Big(n).plus(e.tableModel.betNums[a]).toNumber(),i==app.UserManager().GetUserInfo.uid&&(null!=e.tableModel.myBetNums[a]||(e.tableModel.myBetNums[a]=0),e.tableModel.myBetNums[a]=Big(n).plus(e.tableModel.myBetNums[a]).toNumber()),n>0&&(e.tableModel.betPlayers[a]||(e.tableModel.betPlayers[a]=[]),e.tableModel.betPlayers[a].InArray(i)||e.tableModel.betPlayers[a].push(i))}})}),this.view.setPlayerBetInfo(this.tableModel.betNums),this.view.setMyBetInfo(this.tableModel.myBetNums)},e.prototype.addChipsToChipPool=function(){var e=this.tableModel.betNums,t=this;e.forEach(function(e,n){if(e>0)for(var o=t.tableModel.dissolveToChip(Math.abs(e)),i=0;i<o.length;i++)for(var a=o[i],r=0;r<a;r++){var s=t.tableModel.chipNums[i];t.view.addChipToChipPool(n,s)}})},e.prototype.resp_gamemessage=function(e){switch(console.log("resp_gamemessage",e),e.Head.Cmd){case i.COMMONGAME_MSG.COMMONGAME_ACTION_CHANGE_BANKER:this.view.gameResetUI();var t=e.Body.ChangeBanker.NewBankerID,n=e.Body.ChangeBanker.BankerGold,r=e.Body.ChangeBanker.BetLeftSecond;this.tableModel.GameState=i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_BET,this.tableModel.NextActionLeftSecond=r,this.tableModel.gameInfo.BankerID=t,this.tableModel.BankerId=t;var s=this.tableModel.GetPlayer(t);s&&(s.BetInfo.CompeteGold=n),app.RoomManager().isDouble?this.view.startAddBet(e):(this.enterBet(),this.view.setCountDownTime(this.tableModel.NextActionLeftSecond));break;case i.COMMONGAME_MSG.COMMONGAME_START_COMPETE:cc.error("\u5f00\u59cb\u62a2\u5e84"),this.tableModel.GameState=i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_COMPETE_BANKER,this.tableModel.NextActionLeftSecond=e.Body.StartCompete.CompeteLeftSecond,this.enterCompete(),this.view.setCountDownTime(this.tableModel.NextActionLeftSecond);break;case i.COMMONGAME_MSG.COMMONGAME_ACTION_COMPETE_BANKER:var c=e.Head.Uin,p=e.Body.CompeteBanker.CompeteGold;if(e.Body.CompeteBanker.Compete>0){var l={};l.uid=c;var h=this.tableModel.GetPlayer(c);if(!h)return;l.Nickname=h.Nickname,l.CompeteGold=p,l.head=h.Imageurl;for(var d=!1,u=0;u<this.tableModel.competeInfos.length;u++)this.tableModel.competeInfos[u].uid==c&&(d=!0);d||this.tableModel.competeInfos.push(l),c==app.UserManager().GetUserInfo.uid&&app.SysNotifyManager().ShowToast("Has been grabbed")}break;case i.COMMONGAME_MSG.COMMONGAME_ACTION_BET:var _=e.Head.Uin,m=e.Body.Bet.BetSeat,g=e.Body.Bet.BetGold,f=this.tableModel.GetPlayer(_);if(null==f)cc.error("\u672a\u627e\u5230uid\uff1a"+_);else{f.BetInfo.BetGold||(f.BetInfo.BetGold=[]),f.BetInfo.BetGold[m]||(f.BetInfo.BetGold[m]=0),f.BetInfo.BetGold[m]+=g;var y=m-1,v=this.tableModel.betNums[y]?this.tableModel.betNums[y]:0;if(this.tableModel.betNums[y]=Big(g).plus(v).toNumber(),_==app.UserManager().GetUserInfo.uid){var E=this.tableModel.myBetNums[y]?this.tableModel.myBetNums[y]:0;this.tableModel.myBetNums[y]=Big(g).plus(E).toNumber();var C=this.tableModel.GetPlayer(_);C&&g&&(C.Cash=Big(-g).plus(Number(C.Cash)).toNumber(),C.Cash<0&&(C.Cash=0,cc.error("error player.Cash:"+C.Cash,"error BetGold:"+g)),this.view.setMyScore(C.Cash),this.view.betSuccess&&this.view.betSuccess(e.Body.Bet),this.tableModel.SetMyBetChipCount(this.tableModel.myBetChipCount++))}this.tableModel.betPlayers[y]||(this.tableModel.betPlayers[y]=[]),this.tableModel.betPlayers[y].InArray(_)||this.tableModel.betPlayers[y].push(_),this.view.setPlayerBetInfo(this.tableModel.betNums),this.view.setMyBetInfo(this.tableModel.myBetNums),g>0&&this.view.setPlayerBetCount(_,y,g)}if(app.RoomManager().isDouble&&g){e.Head.Nickname=f?f.Nickname:e.Body.Bet.Nickname;var M=Math.round(11*Math.random()+1);return e.Head.Imageurl=f?f.Imageurl:"0"+M,void this.view.currHistory(e)}var S=e.Body.Bet;S.Nickname=f?f.Nickname:e.Body.Bet.Nickname,app.Client.OnEvent(o.GameEventDefine.GAME_HISTORY_LIST,S);break;case i.COMMONGAME_MSG.COMMONGAME_ACTION_PRE_DEAL:this.view&&this.view.preDealUpRocket(e);break;case i.COMMONGAME_MSG.COMMONGAME_START_GAME:this.action_pre_deal(e),this.view&&this.view.playUpRocket(e);break;case i.COMMONGAME_MSG.COMMONGAME_ACTION_FAIL:a.RoomModeTool.isCrash(app.UserManager().UserInfo.roomMode)&&50001==e.Body.ActionFail.ErrorCode&&(e.Body.ActionFail.ErrorCode=528e3),this.action_fail(e);break;case i.COMMONGAME_MSG.COMMONGAME_ACTION_DUMMY_PLAY:this.view&&this.view.otherBoomGame(e);break;case i.COMMONGAME_MSG.COMMONGAME_SUSPEND_COUNTDOWN:this.view.gameStop&&this.view.gameStop()}},e.prototype.reconn_game=function(){},e.prototype.action_pre_deal=function(e){this.tableModel.GameState=i.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_PREDEAL;var t=0;e.Body.PreDeal&&(t=e.Body.PreDeal.DealSecond),this.enterGameEnd(),this.view.setCountDownTime(this.tableModel.HallConfig.SettlementSecond+t),this.view&&this.view.preDeal&&this.view.preDeal(t)},e.prototype.action_fail=function(e){var t=e.Body.ActionFail.ErrorCode;if(50100!=t){var n=app.i18n.t("Error_Define_"+t);if(n&&!this.isToast){n=n.replace("{S1}",e.Body.ActionFail.Data),app.SysNotifyManager().ShowToast(n),this.isToast=!0;var o=this;setTimeout(function(){o.isToast=!1},400)}}},e.prototype.questHallInfo=function(){app.GameServerManager().send(app.GameServerManager().req_key_map.req_hall_info.key,{hall_id:this.tableModel.gameInfo.RoomID})},e}();n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Net/BaseDefine":"BaseDefine","../../Common/Net/MsgEventDefine":"MsgEventDefine","../common/room_mode_tool":"room_mode_tool"}],hall_view:[function(e,t){"use strict";cc._RF.push(t,"75328J2pmNB2ZWZWgc39sr7","hall_view");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Define/GameEventDefine"),i=e("../common_hall/hall_msg_controller"),a=e("../common_hall/hall_model"),r=e("../common_hall/hall_controller"),s=e("./GameBaseForm"),c=e("../common_room/room_controller"),p=e("../common_room/room_model"),l=e("../common_room/roommsg_controller"),h=e("./dispatch"),d=e("../../Common/Net/BaseDefine"),u=cc._decorator,_=u.ccclass,m=u.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinAnimations=[],t.nodeTime=null,t.nodeGameDesc=null,t.nodeTotalBet=null,t.nodeMyScore=null,t.nodeMyName=null,t.nodeDealerName=null,t.nodeDealerCoin=null,t.nodeBetBtns=[],t.nodeDealer=null,t.nodeMy=null,t.nodeBetBtnAnims=[],t.nodePlayersChip=[],t.nodePlayersBetNums=[],t.nodeMyBetNums=[],t.nodeTopPlayers=[],t.setting_prefab=null,t.apply_deal_content=null,t.win_lose_content=null,t.nodeOtherPlayers=null,t.nodeApplyBtn=null,t.nodeHelpBtn=null,t.nodeExitBtn=null,t.nodeSettingBtn=null,t.nodeHistoryBtn=null,t.nodePayBtn=null,t.nodeCurRound=null,t.nodeRoomNumb=null,t.coinPrefab=null,t.nodeBetState=null,t.chipSprites=[],t.nodeWaitNextRound=null,t}return __extends(t,e),t.prototype.initController=function(){this.roomModel=new p.default,cc.mg.global.setRoomModel(this.roomModel),this.tableModel=new a.default,cc.mg.global.setTableModel(this.tableModel),this.roomController=new c.default(this,this.roomModel,this.tableModel),this.roomController.init(),this.roomMsgController=new l.default(this,this.roomModel,this.tableModel),this.roomMsgController.init(),this.hallController=new r.default(this,this.tableModel),this.hallController.init(),this.hallMsgController=new i.default(this,this.tableModel),this.hallMsgController.init()},t.prototype.destroyController=function(){cc.mg.global.setRoomModel(null),cc.mg.global.setTableModel(null),this.roomController.destroy(),this.roomMsgController.destroy(),this.hallController.Destroy(),this.hallMsgController.Destroy()},t.prototype.onLoad=function(){this._resetHallScene=!1,this.Log("common view onLoad"),this.addComponent(h.default),this.coinPrefab&&this.addComponent("chip_pool").initPool(this.coinPrefab,500),this.RegEvent(o.GameEventDefine.ROOM_BET_GOLD_CONFIGS,this.updateChipNums),cc.systemEvent.on(o.GameEventDefine.RESET_HALL_SCENE,this.resetHallScene.bind(this),this),cc.systemEvent.on(o.GameEventDefine.GAME_EVENT_SHOW,this.resumeHallScene.bind(this),this),this.RegEvent(o.GameEventDefine.UPDATE_USER_INFO,this.updateMyScore),this.timeoutIds=[],cc.sys.isNative&&jsb.Device.setKeepScreenOn(!0)},t.prototype.OnClose=function(){this.undo=!0,cc.systemEvent.targetOff(this),this.destroyController(),this.unRegisterCommonBtnEvent(),this.unRegisterBetBtnEvent(),this.clearAllTimeout(),e.prototype.OnClose.call(this),this.hallController.leaveRoom()},t.prototype.OnShow=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.OnShow.call(this,t),this.initController(),this.updateChipNums(),this.hallController.setRoomID(app.UserManager().GetUserInfo.room_no),this.registerCommonBtnEvent(),this.registerBetBtnEvent(),app.Client.OnEvent(o.GameEventDefine.SET_VISIBLE_BOTTOM,!0),app.HallMessageCenter().sceneStandBy(),this.OnFreeRoomShowNode([this.nodeExitBtn])},t.prototype.setCountDownTime=function(e){if(this.nodeTime){this.nodeTime.getComponent(cc.Label).unscheduleAllCallbacks(),this.scheduleCB&&this.nodeTime.getComponent(cc.Label).unschedule(this.scheduleCB),e<0&&(e=0),this.nodeTime.getComponent(cc.Label).string=e;var t=this,n=function(){t.hallController.countDown(e),--e>-1&&(t.nodeTime.getComponent(cc.Label).string=e,0==e&&t.nodeTime.getComponent(cc.Label).unschedule(this))};this.scheduleCB=n,this.nodeTime.getComponent(cc.Label).schedule(n,1)}},t.prototype.showStartBetState=function(){var e=this;this.nodeWaitNextRound&&this.nodeWaitNextRound.active||(this._resetHallScene?this._resetHallScene=!1:this.nodeBetState&&(this.nodeBetState.active=!0,this.nodeBetState.opacity=255,this.nodeBetState.children[0].active=!0,this.nodeBetState.children[1].active=!1,this.nodeBetState.getComponent(cc.Animation).play(),this.setTimeout(function(){e.undo||e.HideNodeBetState()},1e3)))},t.prototype.showEndBetState=function(){var e=this;this.nodeWaitNextRound&&this.nodeWaitNextRound.active||this.nodeBetState&&(this.nodeBetState.active=!0,this.nodeBetState.opacity=255,this.nodeBetState.children[1].active=!0,this.nodeBetState.children[0].active=!1,this.setTimeout(function(){e.undo||e.HideNodeBetState()},500))},t.prototype.HideNodeBetState=function(){this.nodeBetState&&(this.nodeBetState.active=!1,this.nodeBetState.children[1].active=!1,this.nodeBetState.children[0].active=!1)},t.prototype.playUpRocket=function(){},t.prototype.otherBoomGame=function(){},t.prototype.baodiantyScore=function(){},t.prototype.preDealUpRocket=function(){},t.prototype.setGameStateDesc=function(e){this.nodeGameDesc&&(this.nodeGameDesc.getComponent(cc.Label).string=e)},t.prototype.setTotalBet=function(e){this.nodeTotalBet&&(this.nodeTotalBet.getComponent(cc.Label).string=e+"")},t.prototype.setMyName=function(e){this.nodeMyName&&(this.nodeMyName.getComponent(cc.Label).string=e)},t.prototype.setMyScore=function(e){cc.error("score:"+e),this.nodeMyScore&&(this.nodeMyScore.getComponent(cc.Label).string=app.ScoreUtil().formatScore22(e),this.nodeMyScore.getComponent(cc.Label).gold=e)},t.prototype.setUserHead=function(e,t){e?app.ImageUtil().LoadHead(cc.find("face_bg/mask/face_bg",e),t):cc.log("\u8bbe\u7f6e\u5934\u50cf\u9519\u8bef")},t.prototype.setDealerHead=function(e){this.nodeDealer&&this.setUserHead(this.nodeDealer,e)},t.prototype.setCurrentUserHead=function(e){e&&this.setUserHead(this.nodeMy,e)},t.prototype.setDealerName=function(e){this.nodeDealerName&&(this.nodeDealerName.getComponent(cc.Label).string=e)},t.prototype.setDealerCoin=function(e){cc.log("setDealerCoin:"+e),this.nodeDealerCoin&&(this.nodeDealerCoin.getComponent(cc.Label).string=e+"")},t.prototype.setPlayerBetInfo=function(e){if(e&&this.nodePlayersBetNums){if(!(e instanceof Array))return void cc.error("arrayBetInfo \u53c2\u6570\u9519\u8bef");this.nodePlayersBetNums.forEach(function(t,n){t.getComponent(cc.RichText)&&(t.getComponent(cc.RichText).string=e[n]?e[n]+"":"0"),t.getComponent(cc.Label)&&(t.getComponent(cc.Label).string=e[n]?e[n]+"":"0"),t.active=!0})}var t=0;e.forEach(function(e){t+=e}),this.setTotalBet(t)},t.prototype.setMyBetInfo=function(e){if(e&&this.nodeMyBetNums){if(!(e instanceof Array))return void cc.error("arrayMyBetInfo \u53c2\u6570\u9519\u8bef");this.nodeMyBetNums.forEach(function(t,n){t.getComponent(cc.RichText)&&(t.getComponent(cc.RichText).string=e[n]?e[n]+"":"0"),t.getComponent(cc.Label)&&(t.getComponent(cc.Label).string=e[n]?e[n]+"":"0"),t.active=!0})}},t.prototype.registerCommonBtnEvent=function(){this.nodeApplyBtn&&this.nodeApplyBtn.on("touchend",this.onApplyDealBtnClick.bind(this),this),this.nodeHelpBtn&&this.nodeHelpBtn.on("touchend",this.onHelpBtnClick.bind(this),this),this.nodeSettingBtn&&this.nodeSettingBtn.on("touchend",this.onSettingBtnClick.bind(this),this),this.nodePayBtn&&this.nodePayBtn.on("touchend",this.onPayBtnClick.bind(this),this),this.nodeHistoryBtn&&this.nodeHistoryBtn.on("touchend",this.onHistoryBtnClick.bind(this),this)},t.prototype.unRegisterCommonBtnEvent=function(){this.nodeApplyBtn&&this.nodeApplyBtn.off("touchend",this.onApplyDealBtnClick,this),this.nodeHelpBtn&&this.nodeHelpBtn.off("touchend",this.onHelpBtnClick,this),this.nodeSettingBtn&&this.nodeSettingBtn.off("touchend",this.onSettingBtnClick,this),this.nodePayBtn&&this.nodePayBtn.off("touchend",this.onPayBtnClick,this),this.nodeHistoryBtn&&this.nodeHistoryBtn.off("touchend",this.onHistoryBtnClick,this)},t.prototype.registerBetBtnEvent=function(){this.nodeBetBtns&&this.nodeBetBtns.length>0&&this.hallController.registerBetBtnEvent(this.nodeBetBtns),this.nodePlayersChip&&this.nodePlayersChip.length>0&&this.hallController.registerChipEvent(this.nodePlayersChip)},t.prototype.unRegisterBetBtnEvent=function(){this.nodeBetBtns&&this.nodeBetBtns.length>0&&this.hallController.unRegisterBetBtnEvent(this.nodeBetBtns),this.nodePlayersChip&&this.nodePlayersChip.length>0&&this.hallController.unRegisterChipEvent(this.nodePlayersChip)},t.prototype.onApplyDealBtnClick=function(){app.ComUtil().playBoxOpenSound();var e=this.tableModel.GetPlayer(app.UserManager().GetUserInfo.uid);if(e&&e.Cash<this.tableModel.HallConfig.MinCompeteGold)app.SysNotifyManager().ShowToast("\u91d1\u5e01\u4e0d\u8db3"+this.tableModel.HallConfig.MinCompeteGold+", \u65e0\u6cd5\u4e0a\u5e84");else if(this.apply_deal_content.active=!0,this.tableModel.prepareCompeteInfoFlag?(cc.find("btn_cancel",this.apply_deal_content).active=!0,cc.find("btn_apply",this.apply_deal_content).active=!1):(cc.find("btn_cancel",this.apply_deal_content).active=!1,cc.find("btn_apply",this.apply_deal_content).active=!0),e){cc.find("text_bg/coin",this.apply_deal_content).getComponent(cc.Label).string=app.ScoreUtil().formatScore22(e.Cash);var t=cc.find("Canvas/layer/shangzhuang/general19/general6/scrollview/view/content");t.children.forEach(function(e){e.active=!1}),this.tableModel.competeInfos.sort(function(e,t){return t.CompeteGold-e.CompeteGold}),this.tableModel.competeInfos.forEach(function(e,n){if(t.children[n]){var o=t.children[n];o.active=!0,e.uid==app.UserManager().GetUserInfo.uid?cc.find("nicheng",o).getComponent(cc.Label).string=app.UserManager().GetUserInfo.nickname:cc.find("nicheng",o).getComponent(cc.Label).string=e.Nickname,cc.find("coin",o).getComponent(cc.Label).string=app.ScoreUtil().formatScore22(e.CompeteGold),app.ImageUtil().LoadHead(cc.find("face_bg/mask/face_bg",o),e.head)}})}},t.prototype.onHelpBtnClick=function(){},t.prototype.onSettingBtnClick=function(){app.ComUtil().playBoxOpenSound();var e=cc.instantiate(this.setting_prefab);this.node.addChild(e)},t.prototype.onExitBtnClick=function(){this.time||(this.time=0),Math.ceil((new Date).getTime())-this.time>500&&(this.time=Math.ceil((new Date).getTime()),app.SoundManager().PlaySound("BtnLeave"),this.hallController.leaveRoom())},t.prototype.onLeaveRoom=function(){this.getComponent(h.default).stopDispatch()},t.prototype.onPayBtnClick=function(){},t.prototype.onHistoryBtnClick=function(){this.win_lose_content.active=!0,this.win_lose_content.getComponent("hundred_cow_history")&&this.win_lose_content.getComponent("hundred_cow_history").refreshUI()},t.prototype.playBetButtonAnimation=function(e){if(this.nodeBetBtns[e]){var t=this.nodeBetBtns[e].getComponent(cc.Button);t&&t.interactable&&(app.ComUtil().playBtnClick(),this.tableModel.curBetButtonIndex=e,this.nodeBetBtnAnims.forEach(function(t,n){e==n?(t.active=!0,t.getComponent(cc.Animation).play()):(t.active=!1,t.getComponent(cc.Animation).stop())}))}},t.prototype.addChip=function(e,t,n,o,i,a){if(e&&t&&this.coinPrefab){var r=e.getComponent(cc.Animation);r&&r.play(),a||app.SoundManager().PlaySound("GetGold");var s=e.convertToWorldSpaceAR(new cc.Vec2(0,0)),c=t.convertToNodeSpaceAR(s),p=this.getComponent("chip_pool").createChip(),l=this.getChipIndex(n);p.mytag=n,p.scale=1.6,p.getComponent(cc.Sprite).spriteFrame=this.chipSprites[l],p.setPosition(c),t.addChild(p);var h=new cc.Vec2(2*(Math.random()-.5)*(t.width-30)/2,2*(Math.random()-.5)*(t.height-30)/2);i||(i=.25);var d=cc.moveTo(i,h),u=cc.scaleTo(i,2),_=cc.scaleTo(i,1.6);o?p.runAction(cc.sequence(cc.spawn(d,u),_,cc.callFunc(o))):p.runAction(cc.sequence(cc.spawn(d,u),_))}},t.prototype.updateTopPlayerCoin=function(e,t){if(e&&e.gold){var n=cc.find("coin",e);n&&(n.getComponent(cc.Label).string=app.ScoreUtil().formatScore22(t))}},t.prototype.dealCard=function(e,t,n,o){if(e&&t){app.SoundManager().PlaySound("DealCard"),t.getComponent(cc.Sprite).spriteFrame=n;var i=e.convertToWorldSpaceAR(new cc.Vec2(0,0)),a=t.parent.convertToNodeSpaceAR(i),r=t.position;t.setPosition(a),t.parent.active=!0;var s=cc.moveTo(.5,r);o?t.runAction(cc.sequence(s,cc.callFunc(o))):t.runAction(s)}},t.prototype.gameResetUI=function(){this.nodePlayersBetNums&&this.nodePlayersBetNums.forEach(function(e){e.getComponent(cc.RichText)&&(e.getComponent(cc.RichText).string="0"),e.getComponent(cc.Label)&&(e.getComponent(cc.Label).string="0")}),this.nodePlayersChip&&this.nodePlayersChip.forEach(function(e){e.removeAllChildren()}),this.nodeMyBetNums&&this.nodeMyBetNums.forEach(function(e){e.getComponent(cc.RichText)&&(e.getComponent(cc.RichText).string="0"),e.getComponent(cc.Label)&&(e.getComponent(cc.Label).string="0")}),this.nodeTotalBet&&(this.nodeTotalBet.getComponent(cc.Label).string="0"),this.nodeDealerName&&(this.nodeDealerName.getComponent(cc.Label).string="\u62a2\u5e84\u4e2d...."),this.nodeDealerCoin&&(this.nodeDealerCoin.getComponent(cc.Label).string="0"),this.disableBetBtn(),this.tableModel&&this.tableModel.gameReset(),this.hideResultScore()},t.prototype.disableBetBtn=function(){this.nodeBetBtnAnims&&this.nodeBetBtnAnims.forEach(function(e){e.active=!1,e.getComponent(cc.Animation).stop()}),this.nodeBetBtns&&this.nodeBetBtns.forEach(function(e){var t=e.getComponent(cc.Button);t&&(t.interactable=!1),e.color=cc.Color.WHITE.fromHEX("#505050")})},t.prototype.enableBetBtn=function(){var e=this;if(this.tableModel.isBetState()&&this.nodeBetBtns&&this.nodeMyScore){var t=this.tableModel.HallConfig.BetMulti;t||(t=1);var n=this.nodeMyScore.getComponent(cc.Label).gold/t,o=0;this.nodeBetBtns.forEach(function(t,i){var a=t.getComponent(cc.Button);n>=e.tableModel.chipNums[i]||0==i?(t.color=cc.Color.WHITE,a&&(a.interactable=!0),o=i):(t.color=cc.Color.WHITE.fromHEX("#505050"),a&&(a.interactable=!1))}),this.tableModel.curBetButtonIndex>o&&(this.tableModel.curBetButtonIndex=o),this.playBetButtonAnimation(this.tableModel.curBetButtonIndex)}},t.prototype.setPlayerBetCount=function(e,t,n){if(e==app.UserManager().GetUserInfo.uid){var o=this.tableModel.curBetButtonIndex;o>-1&&this.addChip(this.nodeBetBtns[o],this.nodePlayersChip[t],n),this.enableBetBtn()}else this.getComponent(h.default).push(this.addChip.bind(this,this.nodeOtherPlayers,this.nodePlayersChip[t],n),t)},t.prototype.moveChipToDealer=function(e){var t=cc.find("face_bg/mask/face_bg",this.nodeDealer);this.moveChipPoolToNode(t,e)},t.prototype.moveChipPoolToNode=function(e,t){var n=this.nodePlayersChip[t],o=this;n.children.length>0&&app.SoundManager().PlaySound("GetGold"),n.children.forEach(function(t){t.used||o.moveChipToNode(e,t)})},t.prototype.moveChipToNode=function(e,t){if(e){var n=e.convertToWorldSpaceAR(new cc.Vec2(0,0)),o=t.parent.convertToNodeSpaceAR(n),i=this;t.runAction(cc.sequence(cc.moveTo(.5,o),cc.callFunc(function(){t.active=!1,i.getComponent("chip_pool").recycleChip(t)})))}},t.prototype.moveChipToPoolFromDealer=function(e,t){var n=this.nodePlayersChip[e];this.addChip(this.nodeDealerCoin,n,t,null,.5,!0)},t.prototype.addChipToChipPool=function(e,t){if(this.getComponent("chip_pool")){var n=this.nodePlayersChip[e];if(n){var o=this.getComponent("chip_pool").createChip(),i=this.getChipIndex(t);o.mytag=t,o.getComponent(cc.Sprite).spriteFrame=this.chipSprites[i],n.addChild(o);var a=new cc.Vec2(2*(Math.random()-.5)*(n.width-30)/2,2*(Math.random()-.5)*(n.height-30)/2);o.setPosition(a)}}},t.prototype.getChipIndex=function(e){for(var t=0;t<this.tableModel.chipNums.length;t++)if(this.tableModel.chipNums[t]==e)return t;return this.ErrLog("getChipIndex failed: "+e+"}"),0},t.prototype.findChipMaxIndex=function(e){for(var t=this.tableModel.chipNums,n=t.length-1;n>=0;n--)if(e>=t[n])return n;return this.ErrLog("findChipMaxIndex failed: "+e+"}"),0},t.prototype.gameCompete=function(){this.nodePlayersChip.forEach(function(e){e.removeAllChildren()})},t.prototype.gameBet=function(){this.clearAllTimeout(),this.getComponent(h.default).startDispatch()},t.prototype.gameEnd=function(){this.getComponent(h.default).stopDispatch()},t.prototype.playCurUserWinChipAnimation=function(e,t){var n=cc.find("face_bg/mask/face_bg",this.nodeMy);this.playNormalUserWinChipAnimation(n,e,t)},t.prototype.playSeatUserWinChipAnimation=function(e,t,n){var o=this.nodeTopPlayers[e];(o=cc.find("face_bg/mask/face_bg",o))&&this.playNormalUserWinChipAnimation(o,t,n)},t.prototype.playSSZWinChipAnimation=function(e,t,n){var o=cc.find("face_bg/mask/face_bg",e);o&&this.playNormalUserWinChipAnimation(o,t,n)},t.prototype.playOtherUserWinChipAnimation=function(){var e=this;this.nodePlayersChip.forEach(function(t,n){e.moveChipPoolToNode(e.nodeOtherPlayers,n)})},t.prototype.playNormalUserWinChipAnimation=function(e,t,n){var o=this;t&&this.nodePlayersChip.forEach(function(i,a){var r=t[a]+n[a];if(r>0){i.children.length>0&&app.SoundManager().PlaySound("GetGold");for(var s=0;s<i.children.length;s++){var c=i.children[s];if(c.active&&!c.used&&(r-=c.mytag,c.used=!0,o.moveChipToNode(e,c)),r<0)return}}})},t.prototype.showWaitNextRound=function(e){this.nodeWaitNextRound&&(this.nodeWaitNextRound.active=e,e&&this.nodeWaitNextRound.getComponent(cc.Animation).play())},t.prototype.startAddBet=function(){this.getComponent(h.default).startDispatch()},t.prototype.resRouletteInfo=function(){this.getComponent(h.default).startDispatch()},t.prototype.waitNextRound=function(){},t.prototype.fetchHistory=function(){},t.prototype.showBetResultAnimation=function(e,t){t>0&&e&&cc.find("+",e)?(cc.find("+",e).active=!0,cc.find("+",e).getComponent(cc.Animation).play(),cc.find("+/win/+font",e).getComponent(cc.Label).string="+"+t):t<0&&e&&cc.find("-",e)&&(cc.find("-",e).active=!0,cc.find("-",e).getComponent(cc.Animation).play(),cc.find("-/lose/+font",e).getComponent(cc.Label).string=""+t)},t.prototype.hideResultScore=function(){var e=cc.find("+",this.nodeMy);e&&(e.active=!1),(e=cc.find("-",this.nodeMy))&&(e.active=!1)},t.prototype.playCountDownAnim=function(){this.nodeTime.parent&&this.nodeTime.parent.getComponent(cc.Animation)&&this.nodeTime.parent.getComponent(cc.Animation).play("time")},t.prototype.stopCountDownAnim=function(){cc.isValid(this.nodeTime,!0)&&this.nodeTime.parent&&this.nodeTime.parent.getComponent(cc.Animation)&&this.nodeTime.parent.getComponent(cc.Animation).stop("time")},t.prototype.setTimeout=function(e,t){var n=t/1e3;this.scheduleOnce(e,n)},t.prototype.clearAllTimeout=function(){this.unscheduleAllCallbacks()},t.prototype.addChipToPool=function(e,t,n){for(var o=this.tableModel.dissolveToChip(Math.abs(e)),i=0;i<o.length;i++)for(var a=o[i],r=0;r<a;r++){var s=this.tableModel.chipNums[i];this.getComponent(h.default).push(this.addChip.bind(this,t,this.nodePlayersChip[n],s),n)}},t.prototype.resetHallScene=function(){this.ErrLog("resetHallScene"),this._resetHallScene=!0,this.tableModel.gameReset(),this.gameResetUI()},t.prototype.resumeHallScene=function(){this.ErrLog("resumeHallScene")},t.prototype.updateChipNums=function(){var e=app.HGameManager().GetRoomBetGoldConfigs(app.UserManager().GetUserInfo.roomMode);e?this.OnRoomBetGoldConfig(e):app.HGameManager().RequestRoomBetGoldConfigs()},t.prototype.OnRoomBetGoldConfig=function(e){var t=e;t&&t.length>0&&(this.tableModel.chipNums=t,this.nodeBetBtns&&(this.nodeBetBtns.forEach(function(e,n){var o=e.children[0].getComponent(cc.Label);o&&t[n]&&(o.string=app.ScoreUtil().FormatK(t[n]))}),this.enableBetBtn()),app.Client.OnEvent(o.GameEventDefine.GAME_ROOMBETGOLDCONFIG))},t.prototype.getOnLineUserInfo=function(e,t){for(var n={room_no:app.UserManager().GetUserInfo.room_no,type:t,userids:""},o=0;o<this.tableModel.MemberInfo.length;o++){var i=this.tableModel.MemberInfo[o];i.Uin!=this.tableModel.HallId&&(n.userids+=i.Uin+",")}app.HttpServerManager().SendHttpPack(e,n)},t.prototype.getNewOnLineUserInfo=function(e){for(var t={room_no:app.UserManager().GetUserInfo.room_no,userids:""},n=0;n<this.tableModel.MemberInfo.length;n++){var o=this.tableModel.MemberInfo[n];o.Uin!=this.tableModel.HallId&&(t.userids+=o.Uin+",")}app.HttpServerManager().SendHttpPack(e,t)},t.prototype.findCloseNum=function(e,t){for(var n=0,o=Number.MAX_VALUE,i=0;i<e.length;i++){var a=Math.abs(e[i]-t);if(a<=o){if(a===o&&e[i]<e[n])continue;n=i,o=a}}return n},t.prototype.updateMyScore=function(){if(this.tableModel){var e=this.tableModel.GetPlayer(app.UserManager().GetUserInfo.uid);if(!e)return void this.ErrLog("updateMyScore error 0");e.Cash=app.UserManager().UserInfo.gold,this.tableModel.GameState!=d.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_END&&this.setMyScore(e.Cash)}else this.ErrLog("updateMyScore error")},__decorate([m([cc.Node])],t.prototype,"coinAnimations",void 0),__decorate([m(cc.Node)],t.prototype,"nodeTime",void 0),__decorate([m(cc.Node)],t.prototype,"nodeGameDesc",void 0),__decorate([m(cc.Node)],t.prototype,"nodeTotalBet",void 0),__decorate([m(cc.Node)],t.prototype,"nodeMyScore",void 0),__decorate([m(cc.Node)],t.prototype,"nodeMyName",void 0),__decorate([m(cc.Node)],t.prototype,"nodeDealerName",void 0),__decorate([m(cc.Node)],t.prototype,"nodeDealerCoin",void 0),__decorate([m([cc.Node])],t.prototype,"nodeBetBtns",void 0),__decorate([m(cc.Node)],t.prototype,"nodeDealer",void 0),__decorate([m(cc.Node)],t.prototype,"nodeMy",void 0),__decorate([m([cc.Node])],t.prototype,"nodeBetBtnAnims",void 0),__decorate([m([cc.Node])],t.prototype,"nodePlayersChip",void 0),__decorate([m([cc.Node])],t.prototype,"nodePlayersBetNums",void 0),__decorate([m([cc.Node])],t.prototype,"nodeMyBetNums",void 0),__decorate([m([cc.Node])],t.prototype,"nodeTopPlayers",void 0),__decorate([m(cc.Prefab)],t.prototype,"setting_prefab",void 0),__decorate([m(cc.Node)],t.prototype,"apply_deal_content",void 0),__decorate([m(cc.Node)],t.prototype,"win_lose_content",void 0),__decorate([m(cc.Node)],t.prototype,"nodeOtherPlayers",void 0),__decorate([m(cc.Node)],t.prototype,"nodeApplyBtn",void 0),__decorate([m(cc.Node)],t.prototype,"nodeHelpBtn",void 0),__decorate([m(cc.Node)],t.prototype,"nodeExitBtn",void 0),__decorate([m(cc.Node)],t.prototype,"nodeSettingBtn",void 0),__decorate([m(cc.Node)],t.prototype,"nodeHistoryBtn",void 0),__decorate([m(cc.Node)],t.prototype,"nodePayBtn",void 0),__decorate([m(cc.Node)],t.prototype,"nodeCurRound",void 0),__decorate([m(cc.Node)],t.prototype,"nodeRoomNumb",void 0),__decorate([m(cc.Prefab)],t.prototype,"coinPrefab",void 0),__decorate([m(cc.Node)],t.prototype,"nodeBetState",void 0),__decorate([m([cc.SpriteFrame])],t.prototype,"chipSprites",void 0),__decorate([m(cc.Node)],t.prototype,"nodeWaitNextRound",void 0),__decorate([_],t)}(s.GameBaseForm);n.default=g,t.exports=n,cc._RF.pop()},{"../../Common/Define/GameEventDefine":"GameEventDefine","../../Common/Net/BaseDefine":"BaseDefine","../common_hall/hall_controller":"hall_controller","../common_hall/hall_model":"hall_model","../common_hall/hall_msg_controller":"hall_msg_controller","../common_room/room_controller":"room_controller","../common_room/room_model":"room_model","../common_room/roommsg_controller":"roommsg_controller","./GameBaseForm":"GameBaseForm","./dispatch":"dispatch"}],imageToBase64:[function(e,t){"use strict";cc._RF.push(t,"2b56cVvsSlMx6fqL674Rbbw","imageToBase64");var n={};function o(e){return"string"==typeof e?new Promise(function(t,n){var o=new Image;o.setAttribute("crossOrigin","anonymous"),o.src=e,o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0,o.width,o.height);var n=e.toDataURL("image/jpeg",.8);t(n)},o.onerror=function(e){console.log("Error: ",e),n(e)}}):new Promise(function(t,n){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){t(o.result)},o.onerror=function(e){n(e)}})}Object.defineProperty(n,"__esModule",{value:!0}),n.getBase64=void 0,n.getBase64=o,n.default={getBase64:o},t.exports=n,cc._RF.pop()},{}],parse:[function(e,t){"use strict";cc._RF.push(t,"636ddkenhlJm78tyrd/koUy","parse");var n=null,o=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,i=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;t.exports=function(t){var a={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=t){if(!0===t.strict&&(a.strict=!0),!0===t.storeAsString&&(a.storeAsString=!0),a.alwaysParseAsBig=!0===t.alwaysParseAsBig&&t.alwaysParseAsBig,a.useNativeBigInt=!0===t.useNativeBigInt&&t.useNativeBigInt,void 0!==t.constructorAction){if("error"!==t.constructorAction&&"ignore"!==t.constructorAction&&"preserve"!==t.constructorAction)throw new Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '+t.constructorAction);a.constructorAction=t.constructorAction}if(void 0!==t.protoAction){if("error"!==t.protoAction&&"ignore"!==t.protoAction&&"preserve"!==t.protoAction)throw new Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '+t.protoAction);a.protoAction=t.protoAction}}var r,s,c,p,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},h=function(e){throw{name:"SyntaxError",message:e,at:r,text:c}},d=function(e){return e&&e!==s&&h("Expected '"+e+"' instead of '"+s+"'"),s=c.charAt(r),r+=1,s},u=function(){var t,o="";for("-"===s&&(o="-",d("-"));s>="0"&&s<="9";)o+=s,d();if("."===s)for(o+=".";d()&&s>="0"&&s<="9";)o+=s;if("e"===s||"E"===s)for(o+=s,d(),"-"!==s&&"+"!==s||(o+=s,d());s>="0"&&s<="9";)o+=s,d();if(t=+o,isFinite(t))return null==n&&(n=e("bignumber")),o.length>15?a.storeAsString?o:a.useNativeBigInt?BigInt(o):_(o):a.alwaysParseAsBig?a.useNativeBigInt?BigInt(t):_(o):t;h("Bad number")},_=function(e){var t=new n(e);if(t.c){for(var o="",i=0;i<t.c.length;i++)o+=t.c[i];return o}return new n(e)},m=function(){var e,t,n,o="";if('"'===s)for(var i=r;d();){if('"'===s)return r-1>i&&(o+=c.substring(i,r-1)),d(),o;if("\\"===s){if(r-1>i&&(o+=c.substring(i,r-1)),d(),"u"===s){for(n=0,t=0;t<4&&(e=parseInt(d(),16),isFinite(e));t+=1)n=16*n+e;o+=String.fromCharCode(n)}else{if("string"!=typeof l[s])break;o+=l[s]}i=r}}h("Bad string")},g=function(){for(;s&&s<=" ";)d()},f=function(){switch(s){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}h("Unexpected '"+s+"'")},y=function(){var e=[];if("["===s){if(d("["),g(),"]"===s)return d("]"),e;for(;s;){if(e.push(p()),g(),"]"===s)return d("]"),e;d(","),g()}}h("Bad array")},v=function(){var e,t=Object.create(null);if("{"===s){if(d("{"),g(),"}"===s)return d("}"),t;for(;s;){if(e=m(),g(),d(":"),!0===a.strict&&Object.hasOwnProperty.call(t,e)&&h('Duplicate key "'+e+'"'),!0===o.test(e)?"error"===a.protoAction?h("Object contains forbidden prototype property"):"ignore"===a.protoAction?p():t[e]=p():!0===i.test(e)?"error"===a.constructorAction?h("Object contains forbidden constructor property"):"ignore"===a.constructorAction?p():t[e]=p():t[e]=p(),g(),"}"===s)return d("}"),t;d(","),g()}}h("Bad object")};return p=function(){switch(g(),s){case"{":return v();case"[":return y();case'"':return m();case"-":return u();default:return s>="0"&&s<="9"?u():f()}},function(e,t){var n;return c=e+"",r=0,s=" ",n=p(),g(),s&&h("Syntax error"),"function"==typeof t?function e(n,o){var i,a=n[o];return a&&"object"==typeof a&&Object.keys(a).forEach(function(t){void 0!==(i=e(a,t))?a[t]=i:delete a[t]}),t.call(n,o,a)}({"":n},""):n}},cc._RF.pop()},{bignumber:void 0}],room_controller:[function(e,t){"use strict";cc._RF.push(t,"9aa69SKz4RC3oJ0Fq0bpavJ","room_controller");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.view=e,this.roomModel=t,this.tableModel=n}return e.prototype.init=function(){cc.mg.global.setRoomController(this),this.register_events()},e.prototype.destroy=function(){this.view=null,cc.mg.global.setRoomController(null),this.unregister_events()},e.prototype.register_events=function(){},e.prototype.unregister_events=function(){},e.prototype.GetMaxMemberCount=function(){return this.roomModel.GetMaxMemberCount()},e.prototype.GetStartMode=function(){return this.roomModel.get_startMode()},e.prototype.GetCreator=function(){return this.roomModel.get_creator()},e.prototype.GetMember=function(e){return this.roomModel.get_member(e)},e.prototype.GetRoomState=function(){return this.roomModel.GetRoomState()},e.prototype.GetBankerType=function(){return this.roomModel.getBankerType()},e.prototype.GetBetMaxMulti=function(){return this.roomModel.getBetMaxMulti()},e.prototype.SwitchViewSeat=function(e){this.roomModel.SwitchViewSeat(e)},e.prototype.ProcessBtnReadyClick=function(e){var t=cc.mg.global.getTableModel(),n=cc.mg.global.getRoomMsgController();if(t.GetIsEndGame())this.view.showEndGamePanel();else{if(t.GetCurRound()>0)n.SendNextRoundReady();else if(0!=this.GetStartMode()&&this.GetCreator()==app.UserManager().GetUserInfo.uid){if(this.roomModel.get_members().length<2)return void app.SysNotifyManager().ShowToast("\u4eba\u6570\u4e0d\u8db3\u65e0\u6cd5\u5f00\u59cb\uff01");if(!this.roomModel.getAllMemberReady())return void app.SysNotifyManager().ShowToast("\u8bf7\u7b49\u5f85\u6240\u6709\u73a9\u5bb6\u51c6\u5907\uff01");n.quest_StartGame()}else n.SendReady();e.target.active=!1}},e.prototype.ProcessBtnStartClick=function(){cc.mg.global.getRoomMsgController().SendReqStartGame()},e}();n.default=o,t.exports=n,cc._RF.pop()},{}],room_mode_tool:[function(e,t){"use strict";cc._RF.push(t,"5e9e1gzu6VGL4R+ywL2Lv4t","room_mode_tool");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.RoomModeTool=n.GameSceneTool=n.GameScene=n.RoomType=n.RoomMode=void 0,n.RoomMode=cc.Enum({LOGIN:255,HALL:0,SSS:1,ROOM_MODE_SIXFLOWER:2,ROOM_MODE_BULL:3,ROOM_MODE_GOLDEN_FLOWER:4,MJ:5,ROOM_MODE_TEXAS_POKER:6,ROOM_MODE_RUN_FAST:7,ROOM_MODE_FIGHT_LANDLORD:8,ROOM_MODE_PISCATION:9,ROOM_MODE_BACCARAT:10,ROOM_MODE_SLOT:11,ROOM_MODE_SLOT_HALL:12,ROOM_MODE_RM:25,ROOM_MODE_HUNDRED_COW_10X:3e4,ROOM_MODE_HUNDRED_COW_4X:35e3,ROOM_MODE_LUDO:27,ROOM_MODE_13WATER_MATCH_4P_BASIC:141,ROOM_MODE_13WATER_MATCH_4P_NORMAL:142,ROOM_MODE_13WATER_MATCH_4P_ADVANCE:143,ROOM_MODE_13WATER_MATCH_4P_MASTER:144,ROOM_MODE_13WATER_MATCH_5P_BASIC:151,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_BAISC:661,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_NORMAL:662,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_ADVANCE:663,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_MASTER:664,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_MAX:665,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_MAX_2:666,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_MAX_3:667,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_MAX_4:668,ROOM_MODE_TEXAS_HOLDEM_MATCH_6P_MAX_5:669,ROOM_MODE_TEXAS_Omaha_BAISC:671,ROOM_MODE_TEXAS_Omaha_NORMAL:672,ROOM_MODE_TEXAS_Omaha_ADVANCE:673,ROOM_MODE_TEXAS_Omaha_MASTER:674,ROOM_MODE_TEXAS_ShortCard_BAISC:681,ROOM_MODE_TEXAS_ShortCard_NORMAL:682,ROOM_MODE_TEXAS_ShortCard_ADVANCE:683,ROOM_MODE_TEXAS_ShortCard_MASTER:684,ROOM_MODE_BULL_HOLDEM_MATCH_5P_BAISC:351,ROOM_MODE_BULL_HOLDEM_MATCH_5P_NORMAL:352,ROOM_MODE_BULL_HOLDEM_MATCH_5P_ADVANCE:353,ROOM_MODE_BULL_HOLDEM_MATCH_5P_MASTER:354,ROOM_MODE_BULL_HOLDEM_MATCH_5P_MAX:350,ROOM_MODE_BULL1_HOLDEM_MATCH_5P_BAISC:355,ROOM_MODE_BULL1_HOLDEM_MATCH_5P_NORMAL:356,ROOM_MODE_BULL1_HOLDEM_MATCH_5P_ADVANCE:357,ROOM_MODE_BULL1_HOLDEM_MATCH_5P_MASTER:358,ROOM_MODE_BULL1_HOLDEM_MATCH_5P_MAX:359,ROOM_MODE_PSZ_MATCH_5P_BAISC:451,ROOM_MODE_PSZ_MATCH_5P_NORMAL:452,ROOM_MODE_PSZ_MATCH_5P_ADVANCE:453,ROOM_MODE_PSZ_MATCH_5P_MASTER:454,ROOM_MODE_ROYAL_TP_MATCH_5P_ZERO:2400,ROOM_MODE_ROYAL_TP_MATCH_5P_BAISC:2401,ROOM_MODE_ROYAL_TP_MATCH_5P_NORMAL:2402,ROOM_MODE_ROYAL_TP_MATCH_5P_ADVANCE:2403,ROOM_MODE_ROYAL_TP_MATCH_5P_MASTER:2404,ROOM_MODE_ROYAL_TP_MATCH_5P_MAX:2405,ROOM_MODE_ROYAL_TP_MATCH_5P_MAX_2:2406,ROOM_MODE_ROYAL_TP_MATCH_5P_MAX_3:2407,ROOM_MODE_ROYAL_TP_MATCH_5P_MAX_4:2408,ROOM_MODE_ROYAL_TP_MATCH_5P_MAX_5:2409,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_BAISC:2410,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_NORMAL:2411,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_ADVANCE:2412,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MASTER:2413,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MAX:2414,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MAX_2:2415,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MAX_3:2416,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MAX_4:2417,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MAX_5:2418,ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_MAX_6:2419,ROOM_MODE_TP_MATCH_5P_ZERO:2450,ROOM_MODE_TP_MATCH_5P_BAISC:2451,ROOM_MODE_TP_MATCH_5P_NORMAL:2452,ROOM_MODE_TP_MATCH_5P_ADVANCE:2453,ROOM_MODE_TP_MATCH_5P_MASTER:2454,ROOM_MODE_TP_MATCH_5P_MAX:2455,ROOM_MODE_TP_MATCH_5P_MAX_2:2456,ROOM_MODE_TP_MATCH_5P_MAX_3:2457,ROOM_MODE_TP_MATCH_5P_MAX_4:2458,ROOM_MODE_TP_MATCH_5P_MAX_5:2459,ROOM_MODE_TP_MATCH_5P_SINGLE_ZERO:2460,ROOM_MODE_TP_MATCH_5P_SINGLE_BAISC:2461,ROOM_MODE_TP_MATCH_5P_SINGLE_NORMAL:2462,ROOM_MODE_TP_MATCH_5P_SINGLE_ADVANCE:2463,ROOM_MODE_TP_MATCH_5P_SINGLE_MASTER:2464,ROOM_MODE_TP_MATCH_5P_SINGLE_MAX:2465,ROOM_MODE_TP_MATCH_5P_SINGLE_MAX_2:2466,ROOM_MODE_TP_MATCH_5P_SINGLE_MAX_3:2467,ROOM_MODE_TP_MATCH_5P_SINGLE_MAX_4:2468,ROOM_MODE_TP_MATCH_5P_SINGLE_MAX_5:2469,ROOM_MODE_RM_MATCH_2P_ZERO:2520,ROOM_MODE_RM_MATCH_2P_BAISC:2521,ROOM_MODE_RM_MATCH_2P_NORMAL:2522,ROOM_MODE_RM_MATCH_2P_ADVANCE:2523,ROOM_MODE_RM_MATCH_2P_MASTER:2524,ROOM_MODE_RM_MATCH_2P_MAX:2525,ROOM_MODE_RM_MATCH_2P_MAX_2:2526,ROOM_MODE_RM_MATCH_2P_MAX_3:2527,ROOM_MODE_RM_MATCH_2P_MAX_4:2528,ROOM_MODE_RM_MATCH_2P_MAX_5:2529,ROOM_MODE_RM_MATCH_2P_SINGLE_ZERO:2530,ROOM_MODE_RM_MATCH_2P_SINGLE_BAISC:2531,ROOM_MODE_RM_MATCH_2P_SINGLE_NORMAL:2532,ROOM_MODE_RM_MATCH_2P_SINGLE_ADVANCE:2533,ROOM_MODE_RM_MATCH_2P_SINGLE_MASTER:2534,ROOM_MODE_RM_MATCH_2P_SINGLE_MAX:2535,ROOM_MODE_RM_MATCH_2P_SINGLE_MAX_2:2536,ROOM_MODE_RM_MATCH_2P_SINGLE_MAX_3:2537,ROOM_MODE_RM_MATCH_2P_SINGLE_MAX_4:2538,ROOM_MODE_RM_MATCH_2P_SINGLE_MAX_5:2539,ROOM_MODE_RM_MATCH_5P_ZERO:2550,ROOM_MODE_RM_MATCH_5P_BAISC:2551,ROOM_MODE_RM_MATCH_5P_NORMAL:2552,ROOM_MODE_RM_MATCH_5P_ADVANCE:2553,ROOM_MODE_RM_MATCH_5P_MASTER:2554,ROOM_MODE_RM_MATCH_5P_MAX:2555,ROOM_MODE_RM_MATCH_5P_MAX_2:2556,ROOM_MODE_RM_MATCH_5P_MAX_3:2557,ROOM_MODE_RM_MATCH_5P_MAX_4:2558,ROOM_MODE_RM_MATCH_5P_MAX_5:2559,ROOM_MODE_RM_MATCH_5P_SINGLE_ZERO:2560,ROOM_MODE_RM_MATCH_5P_SINGLE_BAISC:2561,ROOM_MODE_RM_MATCH_5P_SINGLE_NORMAL:2562,ROOM_MODE_RM_MATCH_5P_SINGLE_ADVANCE:2563,ROOM_MODE_RM_MATCH_5P_SINGLE_MASTER:2564,ROOM_MODE_RM_MATCH_5P_SINGLE_MAX:2565,ROOM_MODE_RM_MATCH_5P_SINGLE_MAX_2:2566,ROOM_MODE_RM_MATCH_5P_SINGLE_MAX_3:2567,ROOM_MODE_RM_MATCH_5P_SINGLE_MAX_4:2568,ROOM_MODE_RM_MATCH_5P_SINGLE_MAX_5:2569,ROOM_MODE_RM_POOL_101_1:2571,ROOM_MODE_RM_POOL_101_2:2572,ROOM_MODE_RM_POOL_101_3:2573,ROOM_MODE_RM_POOL_101_4:2574,ROOM_MODE_RM_POOL_101_5:2575,ROOM_MODE_RM_POOL_101_6:2576,ROOM_MODE_RM_POOL_101_7:2577,ROOM_MODE_RM_POOL_101_8:2578,ROOM_MODE_RM_POOL_101_9:2579,ROOM_MODE_RM_POOL_201_1:2581,ROOM_MODE_RM_POOL_201_2:2582,ROOM_MODE_RM_POOL_201_3:2583,ROOM_MODE_RM_POOL_201_4:2584,ROOM_MODE_RM_POOL_201_5:2585,ROOM_MODE_RM_POOL_201_6:2586,ROOM_MODE_RM_POOL_201_7:2587,ROOM_MODE_RM_POOL_201_8:2588,ROOM_MODE_RM_POOL_201_9:2589,ROOM_MODE_RM_DEAL_2_1:2501,ROOM_MODE_RM_DEAL_2_2:2502,ROOM_MODE_RM_DEAL_2_3:2503,ROOM_MODE_RM_DEAL_2_4:2504,ROOM_MODE_RM_DEAL_2_5:2505,ROOM_MODE_RM_DEAL_2_6:2506,ROOM_MODE_RM_DEAL_2_7:2507,ROOM_MODE_RM_DEAL_2_8:2508,ROOM_MODE_RM_DEAL_2_9:2509,ROOM_MODE_RM_DEAL_3_1:2511,ROOM_MODE_RM_DEAL_3_2:2512,ROOM_MODE_RM_DEAL_3_3:2513,ROOM_MODE_RM_DEAL_3_4:2514,ROOM_MODE_RM_DEAL_3_5:2515,ROOM_MODE_RM_DEAL_3_6:2516,ROOM_MODE_RM_DEAL_3_7:2517,ROOM_MODE_RM_DEAL_3_8:2518,ROOM_MODE_RM_DEAL_3_9:2519,ROOM_MODE_TL_MATCH_5P_BAISC:2641,ROOM_MODE_TL_MATCH_5P_NORMAL:2642,ROOM_MODE_TL_MATCH_5P_ADVANCE:2643,ROOM_MODE_TL_MATCH_5P_MASTER:2644,ROOM_MODE_TL_MATCH_5P_MAX:2645,ROOM_MODE_TL_MATCH_5P_MAX_2:2646,ROOM_MODE_TL_MATCH_5P_MAX_3:2647,ROOM_MODE_TL_MATCH_5P_MAX_4:2648,ROOM_MODE_TL_MATCH_5P_MAX_5:2649,ROOM_MODE_LUDO_MATCH_2P_BAISC:2721,ROOM_MODE_LUDO_MATCH_2P_max_1:2722,ROOM_MODE_LUDO_MATCH_2P_max_2:2723,ROOM_MODE_LUDO_MATCH_2P_max_3:2724,ROOM_MODE_LUDO_MATCH_2P_max_4:2725,ROOM_MODE_LUDO_MATCH_2P_max_5:2726,ROOM_MODE_LUDO_MATCH_2P_max_6:2727,ROOM_MODE_LUDO_MATCH_2P_max_7:2728,ROOM_MODE_LUDO_MATCH_2P_max_8:2729,ROOM_MODE_LUDO_MATCH_4P_BAISC:2741,ROOM_MODE_LUDO_MATCH_4P_max_1:2742,ROOM_MODE_LUDO_MATCH_4P_max_2:2743,ROOM_MODE_LUDO_MATCH_4P_max_3:2744,ROOM_MODE_LUDO_MATCH_4P_max_4:2745,ROOM_MODE_LUDO_MATCH_4P_max_5:2746,ROOM_MODE_LUDO_MATCH_4P_max_6:2747,ROOM_MODE_LUDO_MATCH_4P_max_7:2748,ROOM_MODE_LUDO_MATCH_4P_max_8:2749,ROOM_MODE_LUDO_MATCH_6P_BAISC:2761,ROOM_MODE_LUDO_MATCH_6P_max_1:2762,ROOM_MODE_LUDO_MATCH_6P_max_2:2763,ROOM_MODE_LUDO_MATCH_6P_max_3:2764,ROOM_MODE_LUDO_MATCH_6P_max_4:2765,ROOM_MODE_LUDO_MATCH_6P_max_5:2766,ROOM_MODE_LUDO_MATCH_6P_max_6:2767,ROOM_MODE_LUDO_MATCH_6P_max_7:2768,ROOM_MODE_LUDO_MATCH_6P_max_8:2769,ROOM_MODE_PDK_MATCH_5P_BAISC:731,ROOM_MODE_PDK_MATCH_5P_NORMAL:732,ROOM_MODE_PDK_MATCH_5P_ADVANCE:733,ROOM_MODE_PDK_MATCH_5P_MASTER:734,ROOM_MODE_PDK_MATCH_5P_MIN:735,ROOM_MODE_DDZ_MATCH_5P_BAISC:831,ROOM_MODE_DDZ_MATCH_5P_NORMAL:832,ROOM_MODE_DDZ_MATCH_5P_ADVANCE:833,ROOM_MODE_DDZ_MATCH_5P_MASTER:834,ROOM_MODE_ERMJ_MATCH_5P_BAISC:1621,ROOM_MODE_ERMJ_MATCH_5P_NORMAL:1622,ROOM_MODE_ERMJ_MATCH_5P_ADVANCE:1623,ROOM_MODE_ERMJ_MATCH_5P_MASTER:1624,ROOM_MODE_ERMJ_MATCH_5P_MIN:1625,ROOM_MODE_777_SLOT_0:1300,ROOM_MODE_777_SLOT_1:1301,ROOM_MODE_777_SLOT_2:1302,ROOM_MODE_777_SLOT_3:1303,ROOM_MODE_777_SLOT_4:1304,ROOM_MODE_777_SLOT_5:1305,ROOM_MODE_777_SLOT_6:1306,ROOM_MODE_777_SLOT_7:1307,ROOM_MODE_777_SLOT2_1:11401001,ROOM_MODE_777_SLOT2_2:11401002,ROOM_MODE_777_SLOT2_3:11401003,ROOM_MODE_777_SLOT2_4:11401004,ROOM_MODE_777_SLOT2_5:11401005,ROOM_MODE_777_SLOT2_6:11401006,ROOM_MODE_777_SLOT2_7:11401007,ROOM_MODE_777_SLOT2_8:11401008,ROOM_MODE_WOELD_CUP_SLOT_0:1310,ROOM_MODE_WOELD_CUP_SLOT_1:1311,ROOM_MODE_WOELD_CUP_SLOT_2:1312,ROOM_MODE_WOELD_CUP_SLOT_3:1313,ROOM_MODE_WOELD_CUP_SLOT_4:1314,ROOM_MODE_WOELD_CUP_SLOT_5:1315,ROOM_MODE_WOELD_CUP_SLOT_6:1316,ROOM_MODE_WOELD_CUP_SLOT_7:1317,ROOM_MODE_FOOTBALL_SLOT_0:1320,ROOM_MODE_FOOTBALL_SLOT_1:1321,ROOM_MODE_FOOTBALL_SLOT_2:1322,ROOM_MODE_FOOTBALL_SLOT_3:1323,ROOM_MODE_FOOTBALL_SLOT_4:1324,ROOM_MODE_FOOTBALL_SLOT_5:1325,ROOM_MODE_FOOTBALL_SLOT_6:1326,ROOM_MODE_FOOTBALL_SLOT_7:1327,ROOM_MODE_SG_MATCH_5P_BASIC:1951,ROOM_MODE_SG_MATCH_5P_NORMA:1952,ROOM_MODE_SG_MATCH_5P_ADVANCE:1953,ROOM_MODE_SG_MATCH_5P_MASTER:1954,ROOM_MODE_SG_MATCH_5P_MIN:1955,ROOM_MODE_TOU_BAO:11e4,ROOM_MODE_CAR_HALL:12e4,ROOM_MODE_DRAGON_TIGER_HALL:13e4,ROOM_MODE_RED_BLACK_HALL:14e4,ROOM_MODE_LUN_PAN:15e4,ROOM_MODE_BAO_DIAN:28e4,ROOM_MODE_EXP_BAO_DIAN:281e3,ROOM_MODE_CRASH2:282e3,ROOM_MODE_SHZ:999999,ROOM_MODE_LROLLER:1400,ROOM_MODE_Roulette:3e5,ROOM_MODE_OtherRoulette:300004,ROOM_MODE_ABgame:29e4,ROOM_MODE_BAI_BACCARAT:1e5,ROOM_MODE_MINES:15e3,ROOM_MODE_RacingCar:21e3,ROOM_MODE_FISH_4P_BASIC:941,ROOM_MODE_FISH_4P_NORMAL:942,ROOM_MODE_FISH_4P_ADVANCE:943,ROOM_MODE_FISH_4P_MASTER:944,ROOM_MODE_TRUCO_2P_1:3121,ROOM_MODE_TRUCO_2P_2:3122,ROOM_MODE_TRUCO_2P_3:3123,ROOM_MODE_TRUCO_2P_4:3124,ROOM_MODE_TRUCO_2P_5:3125,ROOM_MODE_TRUCO_2P_6:3126,ROOM_MODE_TRUCO_2P_7:3127,ROOM_MODE_TRUCO_4P_1:3141,ROOM_MODE_TRUCO_4P_2:3142,ROOM_MODE_TRUCO_4P_3:3143,ROOM_MODE_TRUCO_4P_4:3144,ROOM_MODE_TRUCO_4P_5:3145,ROOM_MODE_TRUCO_4P_6:3146,ROOM_MODE_TRUCO_4P_7:3147}),n.RoomType={ROOM_NONE:-1,ROOM_CARD:0,ROOM_GOLD:1,ROOM_HUNDRED:2,ROOM_SINGLE:100,GO_ROOM_HUNDRED:1002},n.GameScene={LAUNCH:"launch",LOGIN:"Login",HALL:"Hall",SSS:"game_sss",LZH:"game_lzh",MJ:"game_mj",GOLD_HALL:"gold_hall",BRNN:"game_brnn",Game30:"game_30",TBNN:"game_jdnn",QZNN:"game_qznn",LHDZ:"game_lhdz",HHDZ:"game50Form",BCBM:"game_car",SHZ:"game_shz",DDZ:"game_ddz",PDK:"game_pdk",PSZ:"game_TP",ERMJ:"game_mj",BYDR:"game_buyu",VIDEO:"game_video",PORTRAIT:"game_portrait",LANDSCAPE:"game_landscape",SG:"game_sg",ESPORTSHALL:"game_e-sports",RUMMY:"game_210",TIEN_LEN:"game_tienlen",LUDO:"ludoGame",TOUBAO:"game_SicBo",LUNPAN:"game_LunPan",SLOT777:"game_777slot",SLOT2_777:"game_FruitSlots2",BAODIAN:"game_Crash",CRASH2:"game_Crash2",SHIJIEBEI:"game_shijiebei",LROLLER:"game_LuckyRoller",Roulette:"game_Roulette",ABgame:"game_AB",Baccarat:"game_Baccarat",MINES:"game_MINES",AB_Classis:"game_ABjingdian",Game730:"game_730",Game620:"game_620",Game900:"game_900",Game910:"game_910",Game970:"game_970"};var o=function(){function e(){}return e.isDzpkScene=function(e){return e==n.GameScene.Game30||e==n.GameScene.Game900||e==n.GameScene.Game910},e}();n.GameSceneTool=o;var i=function(){function e(){}return e.isSingleRummy=function(e){var t=Math.floor(e/10),o=!1;return t==Math.floor(n.RoomMode.ROOM_MODE_RM_MATCH_5P_SINGLE_BAISC/10)&&(o=!0),t==Math.floor(n.RoomMode.ROOM_MODE_RM_MATCH_2P_SINGLE_ZERO/10)&&(o=!0),o},e.isPoolRummy_101=function(e){return Math.floor(e/10)==Math.floor(n.RoomMode.ROOM_MODE_RM_POOL_101_1/10)},e.isPoolRummy_201=function(e){return Math.floor(e/10)==Math.floor(n.RoomMode.ROOM_MODE_RM_POOL_201_1/10)},e.isDealRummy2p=function(e){return Math.floor(e/10)==Math.floor(n.RoomMode.ROOM_MODE_RM_DEAL_2_1/10)},e.isDealRummy3p=function(e){return Math.floor(e/10)==Math.floor(n.RoomMode.ROOM_MODE_RM_DEAL_3_1/10)},e.isSingleTP=function(e){var t=Math.floor(e/10),o=!1;return t==Math.floor(n.RoomMode.ROOM_MODE_TP_MATCH_5P_SINGLE_BAISC/10)&&(o=!0),t==Math.floor(n.RoomMode.ROOM_MODE_ROYAL_TP_MATCH_5P_SINGLE_BAISC/10)&&(o=!0),o},e.isFootball=function(e){return e>=n.RoomMode.ROOM_MODE_FOOTBALL_SLOT_0&&e<=n.RoomMode.ROOM_MODE_FOOTBALL_SLOT_7},e.isCrash=function(e){return e==n.RoomMode.ROOM_MODE_BAO_DIAN||e==n.RoomMode.ROOM_MODE_CRASH2},e}();n.RoomModeTool=i,t.exports=n,cc._RF.pop()},{}],room_model:[function(e,t){"use strict";cc._RF.push(t,"d93670tU29KD5RzpjQ8oJ87","room_model");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.owner={},this.room_no=0,this.type=1,this.members=[],this.member_num=0,this.creator_uno=0,this.create_time=0,this.GameBeginTime=0,this.RoundBeginTime=0,this.RoundEndTime=0,this.RoomAccId=0,this.MatchCDTime=0,this.start_mode=0,this.state=1,this.conf={},this.gameSubSettings=null,this.gameSettings={},this.DestroyDeclarePlayerID=0,this.DestroyBeginTick=0,this.WinMulti=0,this.startTime=0,this.roomDestory=!1,this.Observer=null}return e.prototype.SetSubGameSettings=function(e){this.gameSubSettings=e},e.prototype.Init=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.members=e.players,this.member_num=e.player_num},e.prototype.get_roomNo=function(){return this.room_no},e.prototype.get_gameType=function(){return this.type},e.prototype.add_member=function(e){this.members.push(e)},e.prototype.get_members=function(){return this.members},e.prototype.get_member=function(e){for(var t=0;t<this.members.length;t++)if(this.members[t].uid==e)return this.members[t];return null},e.prototype.get_memberBySeat=function(e){for(var t=0;t<this.members.length;t++)if(this.members[t].seat==e)return this.members[t];return null},e.prototype.del_member=function(e){for(var t=0;t<this.members.length;t++)if(this.members[t].uid==e){this.members.splice(t,1);break}},e.prototype.change_seat=function(e,t){var n=this.get_member(e);n&&(n.seat=t)},e.prototype.delete_all_member=function(){this.members.splice(0,this.members.length)},e.prototype.getAllMemberReady=function(){for(var e=this.get_members(),t=0;t<e.length;t++)if(0!=e[t].uid&&!e[t].ready&&e[t].uid!=this.get_creator())return!1;return!0},e.prototype.get_curConfig=function(){return this.conf},e.prototype.get_creator=function(){return this.creator_uno},e.prototype.getSeatInView=function(e,t,n,o){var i=app.UserManager().GetUserInfo.uid;return null==this.get_member(i)?null:(e-t+n-1+o)%o+1},e.prototype.SwitchViewSeat=function(e){if((e=e>=8?e-8:e)<0||e>=this.conf.pnum_type||null==e)return null;var t=app.UserManager().GetUserInfo.uid,n=this.get_member(t);return null==n?null:(e-(n.seat>=8?n.seat-8:n.seat)+this.conf.pnum_type)%this.conf.pnum_type},e.prototype.SwitchViewSeat1=function(e){if((e=e>=8?e-8:e)<0||e>=this.conf.pnum_type||null==e)return null;var t=app.UserManager().GetUserInfo.uid,n=this.get_member(t);return null==n?null:((n.seat>=8?n.seat-8:n.seat)-e+this.conf.pnum_type)%this.conf.pnum_type},e.prototype.get_viewSeat=function(e){var t=this.get_member(e);return t?this.SwitchViewSeat1(t.seat):null},e.prototype.get_viewSeatByID=function(e){var t=this.get_member(e);return t?this.SwitchViewSeat(t.seat):null},e.prototype.get_startMode=function(){return this.start_mode},e.prototype.get_roomSetting=function(){return null==this.gameSettings?null:this.gameSettings},e.prototype.get_gun=function(){return null==this.gameSettings?0:this.gameSettings.Fire},e.prototype.getFastCompare=function(){return null!=this.gameSettings&&1==this.gameSettings.FastCompare},e.prototype.getBankerType=function(){return null==this.gameSettings?0:this.gameSettings.BankerType},e.prototype.getBankerLimitSecond=function(){return null==this.gameSettings?0:this.gameSettings.CommonSettings.BankerLimitSecond},e.prototype.getLimitSecond=function(){return null==this.gameSettings?0:this.gameSettings.CommonSettings.LimitSecond},e.prototype.getBetMaxMulti=function(){return null==this.gameSettings?1:this.gameSettings.BetMaxMulti},e.prototype.GetRoomState=function(){return this.state},e.prototype.SetRoomState=function(e){this.state=e},e.prototype.getRoomOwner=function(){return this.owner},e.prototype.GetRoomDestory=function(){return this.roomDestory},e.prototype.SetRoomDestory=function(e){this.roomDestory=e},e.prototype.GetDestroyDeclarePlayerID=function(){return this.DestroyDeclarePlayerID},e.prototype.GetDestroyBeginTick=function(){return this.DestroyBeginTick},e.prototype.GetMaxMemberCount=function(){return this.conf.pnum_type},e.prototype.isWatcher=function(e){var t=this.get_member(e);return null==t?null:t.seat>=8},e.prototype.getPlayerSex=function(e){var t=this.get_member(e);return null==t?null:t.sex},e}();n.default=o,t.exports=n,cc._RF.pop()},{}],roommsg_controller:[function(e,t){"use strict";cc._RF.push(t,"88bd61jN2dAsohTB97s9glG","roommsg_controller");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../Common/Net/MsgEventDefine"),i=e("../common/room_mode_tool"),a=e("../../Common/Net/BaseDefine"),r=e("../../Common/Define/ShareDefine"),s=function(){function e(e,t,n,o){this.view=null,this.roomModel=null,this.tableModel=null,this.message_handler=null,this.view=e,this.roomModel=t,this.tableModel=n,this.message_handler=o}return e.prototype.init=function(){cc.mg.global.setRoomMsgController(this),this.register_events()},e.prototype.destroy=function(){this.view=null,cc.mg.global.setRoomMsgController(null),this.unregister_events()},e.prototype.register_events=function(){cc.systemEvent.on("Room_"+o.default.EVENT_ROOM_INFO,this.resp_room_info,this),cc.systemEvent.on("Room_"+o.default.EVENT_JOIN_ROOM,this.resp_join_room,this),cc.systemEvent.on("Room_"+o.default.EVENT_LEAVE_ROOM,this.resp_leave_room,this),cc.systemEvent.on("Room_"+o.default.EVENT_READY,this.resp_ready,this),cc.systemEvent.on("Room_"+o.default.EVENT_ROUND_READY,this.resp_round_ready,this),cc.systemEvent.on("Room_"+o.default.EVENT_VOTE_DISSOVLE_ROOM,this.resp_vote_dissolve_room,this),cc.systemEvent.on("Room_"+o.default.EVENT_DISSOVLE_ROOM,this.resp_dissolve_room,this),cc.systemEvent.on("Room_"+o.default.EVENT_START,this.resp_start,this),cc.systemEvent.on("Room_"+o.default.EVENT_ROOM_START_GAME,this.resp_room_start_game,this),cc.systemEvent.on("Room_"+o.default.EVENT_ROOM_END_GAME,this.resp_room_end_game,this),cc.systemEvent.on("Room_"+o.default.EVENT_ROOM_OPERATION,this.resp_room_operation,this),cc.systemEvent.on("Room_"+o.default.EVENT_FACE,this.resp_face,this),cc.systemEvent.on("Room_"+o.default.EVENT_ROOM_CHAT,this.resp_room_chat,this),cc.systemEvent.on("Room_"+o.default.EVENT_ONLINE_STATE,this.resp_online_state,this),cc.systemEvent.on("Room_"+o.default.EVENT_ROOM_RECYCLE,this.resp_room_recycle,this),cc.systemEvent.on("Room_"+o.default.EVENT_MATCH_COUNTDOWN,this.resp_match_countdown,this),cc.systemEvent.on("btnLoginOut",this.onBtnLeave,this),cc.systemEvent.on(o.default.EVENT_CREATE_ROOM,this.respCreateRoom,this),cc.systemEvent.on("cleanTable",this.onCleanTable,this)},e.prototype.unregister_events=function(){cc.systemEvent.targetOff(this)},e.prototype.resp_room_start_game=function(e){this.message_handler&&this.message_handler.onRspRoomStartGame(e)},e.prototype.resp_room_end_game=function(e){this.message_handler&&this.message_handler.onRspRoomEndGame(e),this.view&&2!=e.Body.RoomEndGame.Reason&&(this.tableModel.GetIsEndGame()?this.view.showEndGamePanel&&this.view.showEndGamePanel():3==e.Body.RoomEndGame.Reason||(app.UserManager().GetUserInfo.room_no=0,app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL)))},e.prototype.resp_room_operation=function(e){this.message_handler&&this.message_handler.onRspRoomOperation(e)},e.prototype.resp_room_info=function(e){if(0!=e.code)return app.UserManager().GetUserInfo.room_no=0,void app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL,function(){app.SysNotifyManager().ShowToast(app.i18n.t("Toast_RoomInfo_Error")+e.code)});this.roomModel.Init(e);var t=app.UserManager().GetUserInfo.uid;1!=e.state&&(this.roomModel.isWatcher(t)||app.UserManager().GetUserInfo.is_reconned),this.message_handler&&this.message_handler.onRspRoomInfo(e)},e.prototype.resp_join_room=function(e){this.roomModel.get_member(e.uid)&&this.roomModel.del_member(e.uid),this.roomModel.add_member(e),this.message_handler&&this.message_handler.onRspJoinRoom(e)},e.prototype.resp_leave_room=function(e){for(var t=app.GameManager().curr_scene_name,n=this.roomModel.get_members(),o=0;o<n.length;o++){var s=n[o];if(s.uno==e.uno){app.RoomManager().IsRoomCard?this.message_handler.setHeadItemVisible&&this.message_handler.setHeadItemVisible(e.uno,!1):this.roomModel.GetRoomState()!=a.COMMONGAME_ROOM_STATE.COMMONGAME_ROOM_STATE_END&&10!=e.code&&this.message_handler.setHeadItemVisible&&this.message_handler.setHeadItemVisible(e.uno,!1),this.roomModel.del_member(s.uid);break}}e.uno==app.UserManager().GetUserInfo.uid?(app.UserManager().GetUserInfo.gold+=e.gold_change-0,app.RoomMessageCenter().clearMessageQueue(),7==e.code?app.ConfirmManager().ShowConfirm(r.ConfirmType.ConfirmOK,"20\u5206\u949f\u672a\u5f00\u59cb\u6e38\u620f\uff0c\u7cfb\u7edf\u81ea\u52a8\u5173\u95ed\u623f\u95f4\uff01",null,function(){app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL)}):8==e.code?(app.SysNotifyManager().ShowToast("\u957f\u65f6\u95f4\u672a\u64cd\u4f5c, \u9000\u51fa\u623f\u95f4"),app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL)):10==e.code||-86==e.code?app.GameManager().curr_scene_name==i.GameScene.ERMJ?cc.systemEvent.emit("e_not_enough_money"):setTimeout(function(){app.GameManager().curr_scene_name==t&&app.ActivityManager().selectShop()},4e3):12==e.code||-85==e.code?setTimeout(function(){app.GameManager().curr_scene_name==t&&app.ConfirmManager().ShowConfirm(r.ConfirmType.ConfirmOK,"\u60a8\u7684\u91d1\u5e01\u8d85\u989d\u5566\uff0c\u6b22\u8fce\u524d\u5f80\u66f4\u9ad8\u7ea7\u573a\u6b21\u6e38\u620f!",null,function(){app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL)})},4e3):11==e.code&&app.GameManager().curr_scene_name==i.GameScene.ERMJ||(app.RoomManager().IsRoomCard?app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL):0==e.changeRoom?this.message_handler&&this.message_handler.PSZ_REMATCH&&app.GameManager().curr_scene_name==i.GameScene.PSZ?(this.message_handler.PSZ_REMATCH=!1,cc.log("psz_rematch")):this.message_handler&&this.message_handler.DZPK_REMATCH&&i.GameSceneTool.isDzpkScene(app.GameManager().curr_scene_name)?cc.log("dzpk_rematch"):cc.mg.global.MJ_REMATCH&&app.GameManager().curr_scene_name==i.GameScene.MJ?cc.log("mj_rematch"):app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL):this.roomModel.delete_all_member())):e.uno==this.roomModel.get_creator()&&0==this.tableModel.GetStartTime()&&2!=this.roomModel.get_curConfig().settle_type&&app.RoomManager().IsRoomCard&&app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL,function(){app.SysNotifyManager().ShowToast("\u623f\u4e3b\u5df2\u7ecf\u9500\u623f\uff0c\u6e38\u620f\u7ed3\u675f\uff01")}),this.message_handler&&this.message_handler.onRspLeaveRoom(e)},e.prototype.resp_ready=function(e){var t=this.roomModel.get_member(e.uid);null!=t&&(t.ready=e.ready,this.message_handler&&this.message_handler.onRspReady(e))},e.prototype.resp_round_ready=function(e){var t=e.data,n=this.roomModel.get_member(t.Uin);null!=n&&(n.ready=t.Data,this.message_handler&&this.message_handler.onRspRoundReady(e))},e.prototype.resp_vote_dissolve_room=function(e){this.message_handler&&this.message_handler.onRspVoteDissolveRoom(e)},e.prototype.resp_dissolve_room=function(e){if(1==e.data.Data){if(this.roomModel.SetRoomDestory(!0),this.view.dissolvePanel.active=!1,0==this.isDealCard)return;null==this.view.getDunPaiData().HeadCards?(app.SysNotifyManager().ShowToast("\u60a8\u8fd8\u670930\u79d2\u6446\u724c\u65f6\u95f4\u3002"),this.view&&this.view.showTimeBreak(3,29)):app.SysNotifyManager().ShowToast("\u9500\u623f\u6210\u529f\uff0c\u5176\u4ed6\u73a9\u5bb6\u8fd8\u670930\u79d2\u6446\u724c\u65f6\u95f4\u3002")}else-1==e.data.Data?(this.view&&this.view.onDissolveRoomResult(e),app.SysNotifyManager().ShowToast("\u90e8\u5206\u73a9\u5bb6\u62d2\u7edd\u9500\u623f\uff0c\u6e38\u620f\u7ee7\u7eed!")):cc.log("unknow how to do???");this.message_handler&&this.message_handler.onRspDissolveRoom(e)},e.prototype.resp_start=function(e){0!=e.Eno&&(app.SysNotifyManager().ShowToast("\u5f00\u59cb\u623f\u95f4\u5931\u8d25\uff01\u9519\u8befID\uff1a"+e.Eno),this.view&&(this.view.nodeReady.active=!0)),this.message_handler&&this.message_handler.onRspStart(e)},e.prototype.resp_face=function(e){if(this.view){if(0==e.Body.RoomNotify.Eno){var t=e.Body.RoomNotify.Data.NotifyInfo.Data,n=e.Body.RoomNotify.Data.NotifyInfo.Uin,o=e.Body.RoomNotify.Data.NotifyInfo.Target;n>0&&o>0?this.view.onMsgProperty(t,n,o):this.view.onMsgFace(t,n)}else app.SysNotifyManager().ShowToast("\u53d1\u9001\u8868\u60c5\u5931\u8d25!");this.message_handler&&this.message_handler.onRspFace(e)}},e.prototype.resp_room_chat=function(e){if(0!=e.Body.RoomChat.Content.length){var t=new Uint8Array(e.Body.RoomChat.Content),n=app.ChatUtil().uintToString(t),o=e.Body.RoomChat.Data;1e4==o?(cc.mg.talk_manager.onVoiceMessage(n),cc.mg.talk_manager.setVoiceID(e.Body.RoomChat.Uin,n)):this.view&&this.view.onChatMessage(e.Body.RoomChat.Uin,n,o),this.message_handler&&this.message_handler.onRspRoomChat(e)}},e.prototype.resp_online_state=function(e){this.message_handler&&this.message_handler.onRspOnlineState(e)},e.prototype.resp_room_recycle=function(e){this.view&&this.view.onRoomRecycle&&this.view.onRoomRecycle(e),this.message_handler&&this.message_handler.onRspRoomRecycle(e)},e.prototype.resp_match_countdown=function(e){var t=e.Body.RoomNotify.Data.NotifyInfo;this.view&&this.view.onMatchCountdown&&this.view.onMatchCountdown(t),this.message_handler&&this.message_handler.onMatchCountdown&&this.message_handler.onMatchCountdown(t)},e.prototype.onBtnLeave=function(){var e=this.roomModel.GetRoomState();this.tableModel.GetIsEndGame()?app.GameServerManager().send("req_leave_room"):0==this.tableModel.GetStartTime()||app.RoomManager().IsRoomGold&&e==a.ROOM_STATE.ROOM_STATE_END?app.GameServerManager().send("req_leave_room"):this.roomModel.GetRoomDestory()?app.SysNotifyManager().ShowToast("\u5df2\u9500\u623f\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u6700\u540e\u4e00\u5c40\u6bd4\u724c\u7ed3\u675f\u3002"):app.GameServerManager().send("req_leave_room")},e.prototype.onCleanTable=function(){app.RoomManager().IsRoomGold&&(this.resetGameUI(),this.view.setAllHeadItemVisible(),this.view.setAllPlayerInfo())},e.prototype.respCreateRoom=function(e){app.UserManager().GetUserInfo.roomMode=e.RoomMode,app.RoomManager().IsRoomGold&&(app.UserManager().GetUserInfo.room_no=e.RoomID,this.view&&this.resetGameUI(),this.message_handler&&this.message_handler.onRspCreateRoom(e))},e.prototype.SendReady=function(){app.GameServerManager().send("req_ready",{ready:!0})},e.prototype.SendNextRoundReady=function(){app.GameServerManager().send("req_round_ready",{ready:!0})},e.prototype.quest_reconnGame=function(){app.GameServerManager().sendGamePacket(2,{ReconnGame:{Res:0}})},e.prototype.quest_roomInfo=function(){app.UserManager().GetUserInfo.room_no>0?app.GameServerManager().send("req_roominfo"):(app.UserManager().GetUserInfo.room_no=0,app.GameManager().enterSceneByRoomMode(i.RoomMode.HALL))},e.prototype.SendReqStartGame=function(){app.GameServerManager().send("ReqStartGame")},e.prototype.resetGameUI=function(){this.view&&(this.view.showRoomRound(),this.view.setRoomOptionInfo(),this.view.setAllCurrentScoreVisible(!1),this.view.setAllPlayerReadyVisible(!1),this.view.setDunCardsVisible(!1),this.view.setNodeScoreVisible(!1),this.view.removeAllGunHole(),this.view.hideAllBetNode(),this.view.hideBankerTag())},e}();n.default=s,t.exports=n,cc._RF.pop()},{"../../Common/Define/ShareDefine":"ShareDefine","../../Common/Net/BaseDefine":"BaseDefine","../../Common/Net/MsgEventDefine":"MsgEventDefine","../common/room_mode_tool":"room_mode_tool"}],wheelEffect:[function(e,t){"use strict";cc._RF.push(t,"d6102GnbtdAo6DGK7Jt/gju","wheelEffect");var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../Common/Base/UIBaseComponent"),i=e("../../../Common/Define/GameEventDefine"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spinNode=null,t.wheelSp=null,t.gearNum=12,t.maxSpeed=12,t.duration=3,t.acc=.1,t.targetID=0,t.springBack=!1,t.PlayResultName="",t}return __extends(t,e),t.prototype.OnLoadInit=function(){this.gearAngle=360/this.gearNum,this.PlayResultName=app.ComTool().H5Platform()?"result_V":"result_H"},t.prototype.OnEnable=function(){this.wheelState=0,this.curSpeed=0,this.spinTime=0,this.finalAngle=0,this.wheelSp.angle=0},t.prototype.SetTargetIDAngle=function(e){this.Log(e),0===this.wheelState&&(this.wheelState=1,this.decAngle=720,this.curSpeed=0,this.spinTime=0,this.OnSpinNodeShow(!0),this.finalAngle=(e-1)*this.gearAngle,this.springBack&&(this.finalAngle-=this.gearAngle))},t.prototype.OnSpinNodeShow=function(e){e?this.spinNode.getComponent(cc.Animation).stop():this.spinNode.getComponent(cc.Animation).play(),this.GetWndNode("btn_spin_click",this.spinNode).active=e},t.prototype.OnUpdate=function(e){if(0!==this.wheelState)if(1==this.wheelState)if(this.spinTime+=e,this.wheelSp.angle-=this.curSpeed,this.curSpeed<=this.maxSpeed)this.curSpeed+=this.acc;else{if(this.spinTime<this.duration)return;this.maxSpeed=this.curSpeed,this.springBack&&(this.finalAngle+=this.gearAngle),this.wheelSp.angle=this.finalAngle,this.wheelState=2}else if(2==this.wheelState){var t=this.wheelSp.angle,n=t-this.finalAngle;if(this.curSpeed=this.maxSpeed*((this.decAngle+n)/this.decAngle),this.wheelSp.angle=t-this.curSpeed,this.decAngle+n<=3)if(this.wheelState=0,this.wheelSp.angle=this.finalAngle,this.springBack){var o=cc.rotateBy(.6,this.gearAngle),i=cc.sequence(cc.delayTime(.2),o,cc.callFunc(this.showRes,this));this.wheelSp.runAction(i)}else this.showRes()}},t.prototype.showRes=function(){this.OnSpinNodeShow(!1),this.node.parent.getComponent(cc.Animation).play(this.PlayResultName),app.RoomManager().SetWheelAnimation(!1),app.Client.OnEvent(i.GameEventDefine.UPDATE_USER_INFO)},t.prototype.OnDisable=function(){this.wheelState=0,this.OnSpinNodeShow(!1),this.node.parent.getComponent(cc.Animation).stop(this.PlayResultName)},__decorate([s({tooltip:"spin\u8282\u70b9",type:cc.Node})],t.prototype,"spinNode",void 0),__decorate([s({tooltip:"\u8f6e\u76d8\u8282\u70b9",type:cc.Node})],t.prototype,"wheelSp",void 0),__decorate([s({tooltip:"\u8f6e\u76d8\u683c\u5b50\u6570\u91cf"})],t.prototype,"gearNum",void 0),__decorate([s({tooltip:"\u6700\u5927\u901f\u5ea6"})],t.prototype,"maxSpeed",void 0),__decorate([s({tooltip:"\u51cf\u901f\u524d\u65cb\u8f6c\u65f6\u95f4"})],t.prototype,"duration",void 0),__decorate([s({tooltip:"\u52a0\u901f\u5ea6"})],t.prototype,"acc",void 0),__decorate([s({tooltip:"\u65cb\u8f6c\u7ed3\u675f\u662f\u5426\u56de\u5f39"})],t.prototype,"springBack",void 0),__decorate([r],t)}(o.default);n.default=c,t.exports=n,cc._RF.pop()},{"../../../Common/Base/UIBaseComponent":"UIBaseComponent","../../../Common/Define/GameEventDefine":"GameEventDefine"}]},{},["AdapterScaleBG","App","DefaultBGColor","TestForm","AutoBaseComponent","BaseClass","BaseComponent","BaseForm","BaseGameMgr","BaseHttpMgr","BaseRoomDefine","BaseScene","ClickInterceptorHelp","EventFunAdapter","FormManager","GameEventMgr","Singleton","SubGameLoadManager","UIBaseComponent","VibrationMgr","imageToBase64","BundleConfig","BundleManager","BundleUpdate","EventDefine","EventListener","ClientMgr","DebugLayer","EditBox","EditBoxRegExp","LayoutUtil","List","ListIndicator","ListItem","ListView","Marquee","NodePool","ScrollViewExtend","ScrollViewHack","ShowAllFit","TopLayer","UIAutoSetting","UIDebug","UIGameKeyBoard","UINumKeyPadLabel","UIScrollSelect","UIScrollViewItem","UIScrollview","DropDown","DropDownItem","AISupportManager","AdjustEventTrackManager","CameraMgr","DemoServerManager","EventTrackManager","ExternGameManager","FacebookManager","GameConfigManager","GoogleAnalyticsManager","GoogleLoginManager","GoogleReCaptChaManager","HGameManager","HNoticeManager","ActivityManager","BetBonusManager","CashOutManager","EmailManager","GameListManager","GameTypeManager","GoldRewardManager","HallManager","LoseWaiverManager","MenuManager","PromoteMainManager","RedDotManager","Store2Manager","Store3Manager","StoreManager","SupportManager","TaskManager","VIPManager","WheelManager","WorldCupManager","IndexManager","LanguageManager","LaunchManager","LoadTextManager","LoginManager","NotifyManager","PageTrackManager","PixelManager","PlaceholderManager","PushTrackRecordManager","RoomManager","TextManager","WebClientManager","ColorDefine","EffectPosTypeDefine","EventWaitType","FormDefine","GameEventDefine","GameHttpDefine","HttpServerDefine","LanguageDefine","MsgIDDefine","ShareDefine","TextDefine","TrackEventName","UINameDefine","common_mj_cmd","JsonBigint","parse","ClientConfigManager","GameBetCommonMgr","CompressStorageMgr","ConfirmManager","ControlManager","EffectMgr","InteractionMgr","KeyManager","LocalDataManager","LogManager","ResDefine","ResManager","SoundManager","SysDataManager","SysNotifyManager","TestManager","UserManager","D_PromoteMember","BaseDefine","BaseHttpServerManager","GameServerManager","GoServerManager","HttpRequest","HttpServerManager","MsgEventDefine","UIRoot","ChatUtil","ComTool","ComUtil","ImageUtil","MathUtil","ScoreUtil","StringUtil","TimeUtil","emitter","Http_commonConfig","Http_gameList","Http_login","BaseDefaultNodeSetSelect","UIRedDot","DefaultNodeAccount","DefaultNodeList","DefaultNodeLogin","DefaultNodeSetSelect","DefaultNodeStore","DefaultNodeSupport","DefaultNodeVIP","ExternGame","GuideDefine","GuideManager","UIGuide","chip_pool","UIForgetEmailPassword","UIForgetPassword","UILogin","UILoginSign","UISignUp","LaunchScene","UIAccount","UIAccountWithdrawal","UIActivityMission","BaseWebviewScene","Game730Help","DependentClickEvent","PageBanner","PageBannerItem","UIGameIconBlurMask","UIGameIconItem","UIGameSelectAll","UIGameTypeItem","UIHall","UIHallBottom","UIHallTop","UIHallTop_V","UIHall_V","UIIntoGame","UIMain","UIBackground","UICalendarView","UIFail","UIGameHelp","UIGameLoading","UIHallNotice","UIKeyBoard_V","UILanguage","UILaunchNotice","UILimit","UILoadingFail","UILoginScene","UIMessage","UIReceiveRedEnvelope","UIRechargeInfo","UIRegion","UISelectRegion","UISupport","UIToast","UIAnnouncement","UIAnnouncementItem","UIAnnouncement_V","UIBG","UIBonusRichTextClick","UIBonuses","UICashDetails","UIChat","UIDiscount","UIDownApp","UIFreeWindow","UIGC","UIGameHintWindow","UIGoldReward","UIInsideWebView","UIJudge","UILoseWaiverItem","UILossWaiver","UIMonthCard","UINationPhoneCode","UINationPhoneCodeItem","UINotice","UIPlayerEditInfo","UIPlayerInfoBonusBalance","UIPromoteMemberLayer_H","UIRecharge","UIRechargeLimitedTime","UIRechargeTime","UIRedeemCode","UIRoomList","UISettlement","UISevice","UIStoreQRWebview","UIUpgrade","UIVIP","UIVIPReduced","UIWheel","UIWheelHelp","UIWheelRecord","UIWithdrawDesc","VipInfoBase","WheelHistory","wheelEffect","BaseNativeMgr","GIDTool","GameManager","Global","HotUpdate","NativeMgr","Orientation","error_define","global_config","room_mode_tool","ActionEx","RichTextCallBack","LightningEffect","BaseGameForm","BaseSingleGameHistory","GameBaseForm","GameBaseHttpForm","GameHistoryListBase","HallMessageCenter","dispatch","hall_controller","hall_model","hall_msg_controller","hall_view","RoomMessageCenter","room_controller","room_model","roommsg_controller","LanguageData","LocalizedLabel","LocalizedSprite","LocalizedSpritelogo","SpriteFrameSet"]);